<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SimBA behavioral Annotator GUI (ADVANCED LABELLING) &mdash; SimBA 0.0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css" />
      <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
      <link rel="stylesheet" type="text/css" href="../_static/css/simba_theme.css" />
      <link rel="stylesheet" type="text/css" href="../_static/custom.css" />

  
    <link rel="shortcut icon" href="../_static/readthedocs_logo.png"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
        <script>let toggleHintShow = 'Click to show';</script>
        <script>let toggleHintHide = 'Click to hide';</script>
        <script>let toggleOpenOnPrint = 'true';</script>
        <script src="../_static/togglebutton.js"></script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Exporting BORIS annotations for SimBA" href="boris.html" />
    <link rel="prev" title="SimBA Behavioral Annotator GUI" href="standard_label.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            SimBA
              <img src="../_static/readthedocs_logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">API REFERENCE:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api.html">API Reference</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">NOTEBOOKS:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../notebooks.html">Notebooks</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">USER GUIDE / TUTORIALS:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorials.html">Tutorials</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">WALKTHROUGHS:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../walkthroughs.html">Walkthroughs</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">LABELLING TUTORIALS:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../labelling.html">Labelling</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="standard_label.html">SimBA Behavioral Annotator GUI</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">SimBA behavioral Annotator GUI (ADVANCED LABELLING)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#step-1-loading-project-config-file">Step 1. Loading project_config file</a></li>
<li class="toctree-l3"><a class="reference internal" href="#step-2-opening-the-labelling-behavior-interface">Step 2. Opening the labelling behavior interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="#step-3-using-the-advanced-labelling-behavior-interface">Step 3. Using the advanced labelling behavior interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="#continouing-previously-started-annotations">CONTINOUING PREVIOUSLY STARTED ANNOTATIONS</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="boris.html">Exporting BORIS annotations for SimBA</a></li>
<li class="toctree-l2"><a class="reference internal" href="third_party_annotations.html">Third-part annotations in SimBA</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">FAQ:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="FAQ.html">Friendly Asked Questions (FAQ)</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">DOCS:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../docs/workflow.html">SimBA basic workflow</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">ABOUT:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../credits.html">Credits</a></li>
<li class="toctree-l1"><a class="reference internal" href="../credits.html#who-writes-this-stuff">Who writes this stuff??</a></li>
<li class="toctree-l1"><a class="reference internal" href="../links.html">Links</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">SimBA</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../labelling.html">Labelling</a></li>
      <li class="breadcrumb-item active">SimBA behavioral Annotator GUI (ADVANCED LABELLING)</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/tutorials_rst/advanced_label.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<section id="simba-behavioral-annotator-gui-advanced-labelling">
<h1>SimBA behavioral Annotator GUI (ADVANCED LABELLING)<a class="headerlink" href="#simba-behavioral-annotator-gui-advanced-labelling" title="Permalink to this heading"></a></h1>
<p>The SimBA behavioural annotator GUI is used to label (annotate) frames
in videos that contain behaviors of interest. SimBA allows three
different ways of annotating behaviors as present or absent in
individual frames. The difference between these methods is how <strong>non</strong>
user-annoated frames are treated</p>
<ul class="simple">
<li><ol class="arabic simple">
<li><p><strong>LABEL BEHAVIOR</strong>: When selecting a new video to annotate, SimBA
assumes that the behavior is absent in any given frame unless
indicated by the user. In other words, the default annotation is
that the behavior(s) are <strong>not</strong> present.</p></li>
</ol>
</li>
<li><ol class="arabic simple" start="2">
<li><p><strong>PSEUDO-LABELLING</strong>: When selecting a new video to annotate,
SimBA uses machine classifications the default annotation. Thus,
any frame with a classification probability above the
user-specified threshold will have <strong>behavior present</strong> as the
default value.</p></li>
</ol>
</li>
<li><ol class="arabic simple" start="3">
<li><p><strong>ADVANCED LABEL BEHAVIOR</strong>. When selecting a new video to
annotate, SimBA <strong>has no default annotatation for any frame</strong>. In
other words, the user is required annotate each frame as either
behavior-absent or behavior-present. Only annotated frames will
be used when creating the machine learning model(s).</p></li>
</ol>
</li>
</ul>
<p>This tutoral details how to use the <code class="docutils literal notranslate"><span class="pre">ADVANCED</span> <span class="pre">LABEL</span> <span class="pre">BEHAVIOR</span></code>
annotator in SimBA. To use advanced labelling in SimBA, we recommend
first reading the tutorial on how to use the <cite>standard
``LABEL BEHAVIOR`</cite> /
<code class="docutils literal notranslate"><span class="pre">PSUDO-LABELLING</span></code> &lt;<a class="reference external" href="https://github.com/sgoldenlab/simba/edit/master/docs/label_behavior.md">https://github.com/sgoldenlab/simba/edit/master/docs/label_behavior.md</a>&gt;`__.
The <cite>standard ``LABEL BEHAVIOR`</cite> /
<code class="docutils literal notranslate"><span class="pre">PSUDO-LABELLING</span></code> &lt;<a class="reference external" href="https://github.com/sgoldenlab/simba/edit/master/docs/label_behavior.md">https://github.com/sgoldenlab/simba/edit/master/docs/label_behavior.md</a>&gt;`__
tutoral documents the functions of the buttons in the SimBA annotator
GUI, which are identical when using advanced labelling in SimBA.</p>
<blockquote>
<div><p>Note: For information on how to append annotations created in
alternative third-party software outside of SimBA, click
<a class="reference external" href="https://github.com/sgoldenlab/simba/blob/master/docs/third_party_annot.md">HERE</a></p>
</div></blockquote>
<section id="step-1-loading-project-config-file">
<h2>Step 1. Loading project_config file<a class="headerlink" href="#step-1-loading-project-config-file" title="Permalink to this heading"></a></h2>
<p>In the main SimBA menu, click on
<code class="docutils literal notranslate"><span class="pre">File</span> <span class="pre">&gt;</span> <span class="pre">Load</span> <span class="pre">Project</span> <span class="pre">&gt;</span> <span class="pre">Load</span> <span class="pre">Project.ini</span> <span class="pre">&gt;</span> <span class="pre">Browse</span> <span class="pre">File</span></code> and select the
config file (project_config.ini) representing your SimBA project. This
step <strong>must</strong> be done before proceeding to the next step.</p>
</section>
<section id="step-2-opening-the-labelling-behavior-interface">
<h2>Step 2. Opening the labelling behavior interface<a class="headerlink" href="#step-2-opening-the-labelling-behavior-interface" title="Permalink to this heading"></a></h2>
<p>Once your project is loaded, click on the [Label Behavior] tab and you
should see the below four sub-menus (Note: I’m writing this document on
a Mac, if you’re running SimBA on a PC or Linux, the aestetics might be
slightly different):</p>
<a class="reference internal image-reference" href="../_images/menu_11.png"><img alt="../_images/menu_11.png" class="align-center" src="../_images/menu_11.png" style="width: 1000px;" /></a>
<p>These four different sub-menus represent four different ways of getting
human annotations appended to your video data. In this tutorial, we will
use the buttons in sub-menu number <code class="docutils literal notranslate"><span class="pre">3</span></code>. We will click on
<code class="docutils literal notranslate"><span class="pre">Select</span> <span class="pre">video</span> <span class="pre">(create</span> <span class="pre">new</span> <span class="pre">video</span> <span class="pre">annotation)</span></code> in the
<code class="docutils literal notranslate"><span class="pre">ADVANCED</span> <span class="pre">BEHAVIOR</span> <span class="pre">LABEL</span></code> submenu. This will bring up a file selection
dialog menu. We navigate to the <code class="docutils literal notranslate"><span class="pre">project_folder/videos</span></code> directory and
select a video we wich to annotate in SimBA. In this tutorial, I am
selecting <code class="docutils literal notranslate"><span class="pre">Together_1.mp4</span></code> and click <code class="docutils literal notranslate"><span class="pre">Open</span></code>:</p>
<a class="reference internal image-reference" href="../_images/menu_12.png"><img alt="../_images/menu_12.png" class="align-center" src="../_images/menu_12.png" style="width: 1000px;" /></a>
</section>
<section id="step-3-using-the-advanced-labelling-behavior-interface">
<h2>Step 3. Using the advanced labelling behavior interface<a class="headerlink" href="#step-3-using-the-advanced-labelling-behavior-interface" title="Permalink to this heading"></a></h2>
<p>Once I’ve selected my video file, the annotation interface will pop
open, looking something like the below image. The different buttons have
identical functions to when using standard <code class="docutils literal notranslate"><span class="pre">LABEL</span> <span class="pre">BEHAVIOR</span></code> annotator
or <code class="docutils literal notranslate"><span class="pre">PSEUDO-LABELLING</span></code>. For detailed instructions of their functions,
<a class="reference external" href="https://github.com/sgoldenlab/simba/edit/master/docs/label_behavior.md">check out the standard label behavior
tutorial</a>.</p>
<a class="reference internal image-reference" href="../_images/annotator_1.png"><img alt="../_images/annotator_1.png" class="align-center" src="../_images/annotator_1.png" style="width: 1000px;" /></a>
<p>In this tutorial I am annotating a video within a SimBA project that has
two classifiers. We can see this in the <code class="docutils literal notranslate"><span class="pre">Check</span> <span class="pre">behavior</span></code> submenu,
which is populated with two rows for the two classifiers (<code class="docutils literal notranslate"><span class="pre">Attack</span></code> and
<code class="docutils literal notranslate"><span class="pre">Sniffing</span></code>) and two columns for annotating if the behavior happening,
or not happening, in the frame (<code class="docutils literal notranslate"><span class="pre">PRESENT</span></code> and <code class="docutils literal notranslate"><span class="pre">ABSENT</span></code>).</p>
<a class="reference internal image-reference" href="../_images/annotator_2.png"><img alt="../_images/annotator_2.png" class="align-center" src="../_images/annotator_2.png" style="width: 1000px;" /></a>
<p>In the below gif, I am viewing frame number <code class="docutils literal notranslate"><span class="pre">28</span></code> of a video called
<code class="docutils literal notranslate"><span class="pre">Together_1</span></code> (Note: you can see the name of the video currently beeing
annotated by looking in the GUI annotator title window). In frame number
<code class="docutils literal notranslate"><span class="pre">28</span></code>, I annotate <code class="docutils literal notranslate"><span class="pre">Sniffing</span></code> as beeing present, and <code class="docutils literal notranslate"><span class="pre">Attack</span></code> as
being absent. My annotations are saved into SimBA working memory when I
click to navigate to a different frame.</p>
<a class="reference internal image-reference" href="../_images/annotator_3.gif"><img alt="../_images/annotator_3.gif" class="align-center" src="../_images/annotator_3.gif" style="width: 1000px;" /></a>
<p>As opposed to <code class="docutils literal notranslate"><span class="pre">`PSEDO-LABELLING</span></code> or standard
<code class="docutils literal notranslate"><span class="pre">LABELING</span> <span class="pre">BEHAVIOR</span></code> &lt;<a class="reference external" href="https://github.com/sgoldenlab/simba/edit/master/docs/label_behavior.md">https://github.com/sgoldenlab/simba/edit/master/docs/label_behavior.md</a>&gt;`__,
within advanced labelling, it is possible to <strong>omit</strong> a frame from being
annotated and omitted from ant downstream machine learning processes.
This means that we score the behavior(s) as neither <code class="docutils literal notranslate"><span class="pre">PRESENT</span></code> or
<code class="docutils literal notranslate"><span class="pre">ABSENT</span></code> in the frame (or a range of frames). For example, if we <strong>do
not</strong> tick any behaviors as either absent of present (leave all
classifier checkboxes unticked) for a frame (or range of frames), that
means that the specific frame (or range of frames) will be omitted as
annotated examples for any downstream processes involving machine
learning predictive classifiers. In the gif below, I use the label
<code class="docutils literal notranslate"><span class="pre">frame</span> <span class="pre">range</span></code> tool in the annotator to label frames <code class="docutils literal notranslate"><span class="pre">50-100</span></code> as
<strong>containing no suitable examples</strong> of <code class="docutils literal notranslate"><span class="pre">Sniffing</span></code> and <code class="docutils literal notranslate"><span class="pre">Attack</span></code> as
being present or absent.</p>
<a class="reference internal image-reference" href="../_images/annotator_4.gif"><img alt="../_images/annotator_4.gif" class="align-center" src="../_images/annotator_4.gif" style="width: 1000px;" /></a>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>IMPORTANT: If you are working on annotating a video for multiple
classifiers (just as in the current tutorial, where we are annotating
both <code class="docutils literal notranslate"><span class="pre">Attack</span></code> and <code class="docutils literal notranslate"><span class="pre">Sniffing</span></code>), then we cannot annotate some
behaviors as <code class="docutils literal notranslate"><span class="pre">PRESENT</span></code> or <code class="docutils literal notranslate"><span class="pre">ABSENT</span></code>, while we annotate other
behaviors as <em>neither</em> <code class="docutils literal notranslate"><span class="pre">PRESENT</span></code> or <code class="docutils literal notranslate"><span class="pre">ABSENT</span></code> in the same frame.
For example, in the below gif I annotate <code class="docutils literal notranslate"><span class="pre">Sniffing</span></code> as present in
frame number <code class="docutils literal notranslate"><span class="pre">35</span></code> and I don’t tick <code class="docutils literal notranslate"><span class="pre">Attack</span></code> as either <code class="docutils literal notranslate"><span class="pre">PRESENT</span></code>
or <code class="docutils literal notranslate"><span class="pre">ABSENT</span></code>. In this scenario I will be presented with an error
message, and asked to either (i) annotate all behaviors as neither
<code class="docutils literal notranslate"><span class="pre">PRESENT</span></code> or <code class="docutils literal notranslate"><span class="pre">ABSENT</span></code> (remove all ticks from all tick-boxes), or
(ii) provide ticks in tick-boxes representing all behaviors. In this
below gif example, I go for the latter solution, and tick <code class="docutils literal notranslate"><span class="pre">Attack</span></code>
as absent.</p>
</div>
<a class="reference internal image-reference" href="../_images/annotator_5.gif"><img alt="../_images/annotator_5.gif" class="align-center" src="../_images/annotator_5.gif" style="width: 1000px;" /></a>
<p>Once you have completed your annotations, we need to save all your
annotations into your SimBA project. We do this by clicking the
<code class="docutils literal notranslate"><span class="pre">Save</span> <span class="pre">Annotations</span></code> button, and this is a very important button. This
buttons saves your annotations into your SimBA project, which you are
required to do in order to use the annotations for creating machine
learning models. Clicking this buttons saves a data file inside your
<code class="docutils literal notranslate"><span class="pre">project_folder/csv/targets_inserted</span></code> directory. This file will
contain all of the body-part coordinates and features in seperate
columns, plus a few additional columns at the end (one for each behavior
that you are annotating) with the headers that represent the behavior
names. Hence, clicking this button, in this tutoral, will generate a
file inside the project_folder/csv/targets_inserted directory called
<code class="docutils literal notranslate"><span class="pre">Together_1</span></code> (which is the name of the video I am annotating). The
last two columns in this file will be named <code class="docutils literal notranslate"><span class="pre">Attack</span></code> and <code class="docutils literal notranslate"><span class="pre">Sniffing</span></code>.
These two column will be filed with <code class="docutils literal notranslate"><span class="pre">1</span></code> and <code class="docutils literal notranslate"><span class="pre">0</span></code>s - a 1 for every
frame where I noted the behavior to be present, and a 0 for every frame
where I note the behavior to be absent. This file will contain as many
rows as the number of frames where I annotated the behaviors as
<code class="docutils literal notranslate"><span class="pre">PRESENT</span> <span class="pre">or</span></code>ABSENT`.</p>
</section>
<section id="continouing-previously-started-annotations">
<h2>CONTINOUING PREVIOUSLY STARTED ANNOTATIONS<a class="headerlink" href="#continouing-previously-started-annotations" title="Permalink to this heading"></a></h2>
<p>After clicking <code class="docutils literal notranslate"><span class="pre">Save</span> <span class="pre">Annotations</span></code> and closing the SimBA annotation
GUI, you may want to come back and continue annotating the same video
using the advanced SimBA annotation GUI. To do this, click the
<code class="docutils literal notranslate"><span class="pre">Select</span> <span class="pre">video</span> <span class="pre">(continue</span> <span class="pre">existing</span> <span class="pre">video</span> <span class="pre">annotation)</span></code> button in the
<strong>ADVANCED LABEL BEHAVIOR</strong> sub-menu:</p>
<a class="reference internal image-reference" href="../_images/annotator_6.png"><img alt="../_images/annotator_6.png" class="align-center" src="../_images/annotator_6.png" style="width: 1000px;" /></a>
<p>SimBA will then look for the file representing your video inside the
<code class="docutils literal notranslate"><span class="pre">project_folder/csv/targets_inserted</span></code> directory. SimBA will also look
for the file representing your video inside the
<code class="docutils literal notranslate"><span class="pre">project_folder/csv/features_extracted</span></code> directory in order to de-code
how many frames you have provided neither <code class="docutils literal notranslate"><span class="pre">PRESENT</span></code> or <code class="docutils literal notranslate"><span class="pre">ABSENT</span></code>
annotations for. It will next bring up the SimBA advanced annotation GUI
at the frame number where you last clicked <code class="docutils literal notranslate"><span class="pre">Save</span> <span class="pre">Annotations</span></code>.</p>
<p>Author <a class="reference external" href="https://github.com/sronilsson">Simon N</a></p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="standard_label.html" class="btn btn-neutral float-left" title="SimBA Behavioral Annotator GUI" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="boris.html" class="btn btn-neutral float-right" title="Exporting BORIS annotations for SimBA" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, sronilsson.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>