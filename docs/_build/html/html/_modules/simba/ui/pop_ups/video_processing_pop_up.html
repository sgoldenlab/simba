<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>simba.ui.pop_ups.video_processing_pop_up &mdash; SimBA 0.0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/css/simba_theme.css" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/togglebutton.css" />

  
    <link rel="shortcut icon" href="../../../../_static/readthedocs_logo.png"/>
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/jquery.js"></script>
        <script src="../../../../_static/underscore.js"></script>
        <script src="../../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../../_static/doctools.js"></script>
        <script src="../../../../_static/sphinx_highlight.js"></script>
        <script>let toggleHintShow = 'Click to show';</script>
        <script>let toggleHintHide = 'Click to hide';</script>
        <script>let toggleOpenOnPrint = 'true';</script>
        <script src="../../../../_static/togglebutton.js"></script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../../index.html" class="icon icon-home">
            SimBA
              <img src="../../../../_static/readthedocs_logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">API REFERENCE:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../api.html">API Reference</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">NOTEBOOKS:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../notebooks.html">Notebooks</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">USER GUIDE / TUTORIALS:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../tutorials.html">Tutorials</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">WALKTHROUGHS:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../walkthroughs.html">Walkthroughs</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">LABELLING TUTORIALS:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../labelling.html">Labelling</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">FAQ:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../tutorials_rst/FAQ.html">Friendly Asked Questions (FAQ)</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">DOCS:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../docs/workflow.html">SimBA basic workflow</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">ABOUT:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../credits.html">Credits</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../credits.html#who-writes-this-stuff">Who writes this stuff??</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../links.html">Links</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">SimBA</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../../index.html">Module code</a></li>
      <li class="breadcrumb-item active">simba.ui.pop_ups.video_processing_pop_up</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <h1>Source code for simba.ui.pop_ups.video_processing_pop_up</h1><div class="highlight"><pre>
<span></span><span class="n">__author__</span> <span class="o">=</span> <span class="s2">&quot;Simon Nilsson&quot;</span>

<span class="kn">import</span> <span class="nn">glob</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">subprocess</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">threading</span>
<span class="kn">from</span> <span class="nn">copy</span> <span class="kn">import</span> <span class="n">deepcopy</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>
<span class="kn">from</span> <span class="nn">tkinter</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Optional</span><span class="p">,</span> <span class="n">Union</span>

<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span><span class="p">,</span> <span class="n">ImageTk</span>

<span class="kn">import</span> <span class="nn">simba</span>
<span class="kn">from</span> <span class="nn">simba.labelling.extract_labelled_frames</span> <span class="kn">import</span> <span class="n">AnnotationFrameExtractor</span>
<span class="kn">from</span> <span class="nn">simba.mixins.config_reader</span> <span class="kn">import</span> <span class="n">ConfigReader</span>
<span class="kn">from</span> <span class="nn">simba.mixins.pop_up_mixin</span> <span class="kn">import</span> <span class="n">PopUpMixin</span>
<span class="kn">from</span> <span class="nn">simba.plotting.frame_mergerer_ffmpeg</span> <span class="kn">import</span> <span class="n">FrameMergererFFmpeg</span>
<span class="kn">from</span> <span class="nn">simba.ui.px_to_mm_ui</span> <span class="kn">import</span> <span class="n">GetPixelsPerMillimeterInterface</span>
<span class="kn">from</span> <span class="nn">simba.ui.tkinter_functions</span> <span class="kn">import</span> <span class="p">(</span><span class="n">CreateLabelFrameWithIcon</span><span class="p">,</span>
                                        <span class="n">CreateToolTip</span><span class="p">,</span> <span class="n">DropDownMenu</span><span class="p">,</span> <span class="n">Entry_Box</span><span class="p">,</span>
                                        <span class="n">FileSelect</span><span class="p">,</span> <span class="n">FolderSelect</span><span class="p">,</span> <span class="n">SimbaButton</span><span class="p">,</span>
                                        <span class="n">SimbaCheckbox</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">simba.utils.checks</span> <span class="kn">import</span> <span class="p">(</span><span class="n">check_ffmpeg_available</span><span class="p">,</span>
                                <span class="n">check_file_exist_and_readable</span><span class="p">,</span>
                                <span class="n">check_if_dir_exists</span><span class="p">,</span>
                                <span class="n">check_if_string_value_is_valid_video_timestamp</span><span class="p">,</span>
                                <span class="n">check_int</span><span class="p">,</span> <span class="n">check_nvidea_gpu_available</span><span class="p">,</span>
                                <span class="n">check_str</span><span class="p">,</span>
                                <span class="n">check_that_hhmmss_start_is_before_end</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">simba.utils.data</span> <span class="kn">import</span> <span class="n">convert_roi_definitions</span>
<span class="kn">from</span> <span class="nn">simba.utils.enums</span> <span class="kn">import</span> <span class="n">Dtypes</span><span class="p">,</span> <span class="n">Formats</span><span class="p">,</span> <span class="n">Keys</span><span class="p">,</span> <span class="n">Links</span><span class="p">,</span> <span class="n">Options</span><span class="p">,</span> <span class="n">Paths</span>
<span class="kn">from</span> <span class="nn">simba.utils.errors</span> <span class="kn">import</span> <span class="p">(</span><span class="n">CountError</span><span class="p">,</span> <span class="n">DuplicationError</span><span class="p">,</span> <span class="n">FrameRangeError</span><span class="p">,</span>
                                <span class="n">InvalidInputError</span><span class="p">,</span> <span class="n">MixedMosaicError</span><span class="p">,</span>
                                <span class="n">NoChoosenClassifierError</span><span class="p">,</span> <span class="n">NoFilesFoundError</span><span class="p">,</span>
                                <span class="n">NotDirectoryError</span><span class="p">,</span> <span class="n">ResolutionError</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">simba.utils.lookups</span> <span class="kn">import</span> <span class="p">(</span><span class="n">get_color_dict</span><span class="p">,</span> <span class="n">get_ffmpeg_crossfade_methods</span><span class="p">,</span>
                                 <span class="n">get_fonts</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">simba.utils.printing</span> <span class="kn">import</span> <span class="n">SimbaTimer</span><span class="p">,</span> <span class="n">stdout_success</span>
<span class="kn">from</span> <span class="nn">simba.utils.read_write</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">check_if_hhmmss_timestamp_is_valid_part_of_video</span><span class="p">,</span>
    <span class="n">concatenate_videos_in_folder</span><span class="p">,</span> <span class="n">find_all_videos_in_directory</span><span class="p">,</span>
    <span class="n">find_files_of_filetypes_in_directory</span><span class="p">,</span> <span class="n">find_video_of_file</span><span class="p">,</span> <span class="n">get_fn_ext</span><span class="p">,</span>
    <span class="n">get_video_meta_data</span><span class="p">,</span> <span class="n">seconds_to_timestamp</span><span class="p">,</span> <span class="n">str_2_bool</span><span class="p">,</span>
    <span class="n">timestamp_to_seconds</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">simba.utils.warnings</span> <span class="kn">import</span> <span class="n">FrameRangeWarning</span>
<span class="kn">from</span> <span class="nn">simba.video_processors.brightness_contrast_ui</span> <span class="kn">import</span> \
    <span class="n">brightness_contrast_ui</span>
<span class="kn">from</span> <span class="nn">simba.video_processors.clahe_ui</span> <span class="kn">import</span> <span class="n">interactive_clahe_ui</span>
<span class="kn">from</span> <span class="nn">simba.video_processors.extract_seqframes</span> <span class="kn">import</span> <span class="n">extract_seq_frames</span>
<span class="kn">from</span> <span class="nn">simba.video_processors.multi_cropper</span> <span class="kn">import</span> <span class="n">MultiCropper</span>
<span class="kn">from</span> <span class="nn">simba.video_processors.video_processing</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">VideoRotator</span><span class="p">,</span> <span class="n">batch_convert_video_format</span><span class="p">,</span> <span class="n">batch_create_frames</span><span class="p">,</span>
    <span class="n">batch_video_to_greyscale</span><span class="p">,</span> <span class="n">change_fps_of_multiple_videos</span><span class="p">,</span> <span class="n">change_img_format</span><span class="p">,</span>
    <span class="n">change_single_video_fps</span><span class="p">,</span> <span class="n">clahe_enhance_video</span><span class="p">,</span> <span class="n">clip_video_in_range</span><span class="p">,</span>
    <span class="n">clip_videos_by_frame_ids</span><span class="p">,</span> <span class="n">convert_to_avi</span><span class="p">,</span> <span class="n">convert_to_bmp</span><span class="p">,</span> <span class="n">convert_to_jpeg</span><span class="p">,</span>
    <span class="n">convert_to_mov</span><span class="p">,</span> <span class="n">convert_to_mp4</span><span class="p">,</span> <span class="n">convert_to_png</span><span class="p">,</span> <span class="n">convert_to_tiff</span><span class="p">,</span>
    <span class="n">convert_to_webm</span><span class="p">,</span> <span class="n">convert_to_webp</span><span class="p">,</span>
    <span class="n">convert_video_powerpoint_compatible_format</span><span class="p">,</span> <span class="n">copy_img_folder</span><span class="p">,</span>
    <span class="n">create_average_frm</span><span class="p">,</span> <span class="n">crop_multiple_videos</span><span class="p">,</span> <span class="n">crop_multiple_videos_polygons</span><span class="p">,</span>
    <span class="n">crop_single_video</span><span class="p">,</span> <span class="n">crop_single_video_circle</span><span class="p">,</span> <span class="n">crop_single_video_polygon</span><span class="p">,</span>
    <span class="n">crossfade_two_videos</span><span class="p">,</span> <span class="n">downsample_video</span><span class="p">,</span> <span class="n">extract_frame_range</span><span class="p">,</span>
    <span class="n">extract_frames_single_video</span><span class="p">,</span> <span class="n">flip_videos</span><span class="p">,</span> <span class="n">frames_to_movie</span><span class="p">,</span> <span class="n">gif_creator</span><span class="p">,</span>
    <span class="n">multi_split_video</span><span class="p">,</span> <span class="n">remove_beginning_of_video</span><span class="p">,</span> <span class="n">resize_videos_by_height</span><span class="p">,</span>
    <span class="n">resize_videos_by_width</span><span class="p">,</span> <span class="n">reverse_videos</span><span class="p">,</span> <span class="n">roi_blurbox</span><span class="p">,</span> <span class="n">rotate_video</span><span class="p">,</span>
    <span class="n">superimpose_elapsed_time</span><span class="p">,</span> <span class="n">superimpose_frame_count</span><span class="p">,</span> <span class="n">superimpose_freetext</span><span class="p">,</span>
    <span class="n">superimpose_overlay_video</span><span class="p">,</span> <span class="n">superimpose_video_names</span><span class="p">,</span>
    <span class="n">superimpose_video_progressbar</span><span class="p">,</span> <span class="n">temporal_concatenation</span><span class="p">,</span> <span class="n">upsample_fps</span><span class="p">,</span>
    <span class="n">video_bg_substraction_mp</span><span class="p">,</span> <span class="n">video_bg_subtraction</span><span class="p">,</span> <span class="n">video_concatenator</span><span class="p">,</span>
    <span class="n">video_to_bw</span><span class="p">,</span> <span class="n">video_to_greyscale</span><span class="p">,</span> <span class="n">watermark_video</span><span class="p">)</span>

<span class="n">sys</span><span class="o">.</span><span class="n">setrecursionlimit</span><span class="p">(</span><span class="mi">10</span><span class="o">**</span><span class="mi">7</span><span class="p">)</span>

<div class="viewcode-block" id="CLAHEPopUp"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.CLAHEPopUp">[docs]</a><span class="k">class</span> <span class="nc">CLAHEPopUp</span><span class="p">(</span><span class="n">PopUpMixin</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;CLAHE VIDEO CONVERSION&quot;</span><span class="p">)</span>
        <span class="n">single_video_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span>
                                                    <span class="n">header</span><span class="o">=</span><span class="s2">&quot;SINGLE VIDEO - Contrast Limited Adaptive Histogram Equalization&quot;</span><span class="p">,</span>
                                                    <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
                                                    <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video</span> <span class="o">=</span> <span class="n">FileSelect</span><span class="p">(</span><span class="n">single_video_frm</span><span class="p">,</span> <span class="s2">&quot;VIDEO PATH:&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select a video file&quot;</span><span class="p">,</span> <span class="n">file_types</span><span class="o">=</span><span class="p">[(</span><span class="s2">&quot;VIDEO&quot;</span><span class="p">,</span> <span class="n">Options</span><span class="o">.</span><span class="n">ALL_VIDEO_FORMAT_STR_OPTIONS</span><span class="o">.</span><span class="n">value</span><span class="p">)],</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>



        <span class="n">run_single_video_btn</span> <span class="o">=</span> <span class="n">SimbaButton</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">single_video_frm</span><span class="p">,</span> <span class="n">txt</span><span class="o">=</span><span class="s2">&quot;Apply CLAHE on VIDEO&quot;</span><span class="p">,</span> <span class="n">img</span><span class="o">=</span><span class="s1">&#39;rocket&#39;</span><span class="p">,</span> <span class="n">txt_clr</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">cmd</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">run_single_video</span><span class="p">)</span>

        <span class="n">multiple_videos_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;MULTIPLE VIDEOs - Contrast Limited Adaptive Histogram Equalization&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_dir</span> <span class="o">=</span> <span class="n">FolderSelect</span><span class="p">(</span><span class="n">multiple_videos_frm</span><span class="p">,</span> <span class="s2">&quot;VIDEO DIRECTORY PATH:&quot;</span><span class="p">,</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>

        <span class="n">run_multiple_btn</span> <span class="o">=</span> <span class="n">SimbaButton</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">multiple_videos_frm</span><span class="p">,</span> <span class="n">txt</span><span class="o">=</span><span class="s2">&quot;Apply CLAHE on DIRECTORY&quot;</span><span class="p">,</span> <span class="n">img</span><span class="o">=</span><span class="s1">&#39;rocket&#39;</span><span class="p">,</span> <span class="n">txt_clr</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">cmd</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">run_directory</span><span class="p">)</span>
        <span class="n">single_video_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="n">run_single_video_btn</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>

        <span class="n">multiple_videos_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_dir</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="n">run_multiple_btn</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>

<div class="viewcode-block" id="CLAHEPopUp.run_single_video"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.CLAHEPopUp.run_single_video">[docs]</a>    <span class="k">def</span> <span class="nf">run_single_video</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">selected_video</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_video</span><span class="o">.</span><span class="n">file_path</span>
        <span class="n">check_file_exist_and_readable</span><span class="p">(</span><span class="n">file_path</span><span class="o">=</span><span class="n">selected_video</span><span class="p">)</span>
        <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">clahe_enhance_video</span><span class="p">(</span><span class="n">file_path</span><span class="o">=</span><span class="n">selected_video</span><span class="p">))</span><span class="o">.</span><span class="n">start</span><span class="p">()</span></div>

<div class="viewcode-block" id="CLAHEPopUp.run_directory"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.CLAHEPopUp.run_directory">[docs]</a>    <span class="k">def</span> <span class="nf">run_directory</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">timer</span> <span class="o">=</span> <span class="n">SimbaTimer</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">video_dir</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_dir</span><span class="o">.</span><span class="n">folder_path</span>
        <span class="n">check_if_dir_exists</span><span class="p">(</span><span class="n">in_dir</span><span class="o">=</span><span class="n">video_dir</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">video_paths</span> <span class="o">=</span> <span class="n">find_files_of_filetypes_in_directory</span><span class="p">(</span><span class="n">directory</span><span class="o">=</span><span class="n">video_dir</span><span class="p">,</span> <span class="n">extensions</span><span class="o">=</span><span class="n">Options</span><span class="o">.</span><span class="n">ALL_VIDEO_FORMAT_OPTIONS</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">raise_error</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">file_path</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">video_paths</span><span class="p">:</span>
            <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">clahe_enhance_video</span><span class="p">(</span><span class="n">file_path</span><span class="o">=</span><span class="n">file_path</span><span class="p">))</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
        <span class="n">timer</span><span class="o">.</span><span class="n">stop_timer</span><span class="p">()</span>
        <span class="n">stdout_success</span><span class="p">(</span><span class="n">msg</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;CLAHE enhanced </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">video_paths</span><span class="p">)</span><span class="si">}</span><span class="s1"> video(s)&#39;</span><span class="p">,</span> <span class="n">elapsed_time</span><span class="o">=</span><span class="n">timer</span><span class="o">.</span><span class="n">elapsed_time_str</span><span class="p">)</span></div></div>


<span class="c1">#_ = CLAHEPopUp()</span>


<div class="viewcode-block" id="CropVideoPopUp"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.CropVideoPopUp">[docs]</a><span class="k">class</span> <span class="nc">CropVideoPopUp</span><span class="p">(</span><span class="n">PopUpMixin</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;CROP SINGLE VIDEO&quot;</span><span class="p">)</span>
        <span class="n">crop_video_lbl_frm</span> <span class="o">=</span> <span class="n">LabelFrame</span><span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Crop Video&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_HEADER</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="n">selected_video</span> <span class="o">=</span> <span class="n">FileSelect</span><span class="p">(</span><span class="n">crop_video_lbl_frm</span><span class="p">,</span> <span class="s2">&quot;Video path&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select a video file&quot;</span><span class="p">,</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">file_types</span><span class="o">=</span><span class="p">[(</span><span class="s2">&quot;VIDEO FILE&quot;</span><span class="p">,</span> <span class="n">Options</span><span class="o">.</span><span class="n">ALL_VIDEO_FORMAT_STR_OPTIONS</span><span class="o">.</span><span class="n">value</span><span class="p">)])</span>

        <span class="n">use_gpu_cb_single</span><span class="p">,</span> <span class="n">use_gpu_var_single</span> <span class="o">=</span> <span class="n">SimbaCheckbox</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">crop_video_lbl_frm</span><span class="p">,</span> <span class="n">txt</span><span class="o">=</span><span class="s2">&quot;Use GPU (reduced runtime)&quot;</span><span class="p">,</span> <span class="n">txt_img</span><span class="o">=</span><span class="s1">&#39;gpu_2&#39;</span><span class="p">)</span>
        <span class="n">button_crop_video_single</span> <span class="o">=</span> <span class="n">SimbaButton</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">crop_video_lbl_frm</span><span class="p">,</span> <span class="n">txt</span><span class="o">=</span><span class="s2">&quot;CROP SINGLE VIDEO&quot;</span><span class="p">,</span> <span class="n">img</span><span class="o">=</span><span class="s1">&#39;rocket&#39;</span><span class="p">,</span> <span class="n">txt_clr</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">cmd</span><span class="o">=</span><span class="n">crop_single_video</span><span class="p">,</span> <span class="n">cmd_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;file_path&#39;</span><span class="p">:</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">selected_video</span><span class="o">.</span><span class="n">file_path</span><span class="p">,</span> <span class="s1">&#39;gpu&#39;</span><span class="p">:</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">use_gpu_var_single</span><span class="o">.</span><span class="n">get</span><span class="p">()})</span>
        <span class="n">crop_video_lbl_frm_multiple</span> <span class="o">=</span> <span class="n">LabelFrame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Fixed coordinates crop for multiple videos&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_HEADER</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="n">input_folder</span> <span class="o">=</span> <span class="n">FolderSelect</span><span class="p">(</span><span class="n">crop_video_lbl_frm_multiple</span><span class="p">,</span> <span class="s2">&quot;Video directory:&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select Folder with videos&quot;</span><span class="p">,</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
        <span class="n">output_folder</span> <span class="o">=</span> <span class="n">FolderSelect</span><span class="p">(</span><span class="n">crop_video_lbl_frm_multiple</span><span class="p">,</span><span class="s2">&quot;Output directory:&quot;</span><span class="p">,</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select a folder for your output videos&quot;</span><span class="p">,</span><span class="n">lblwidth</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>

        <span class="n">use_gpu_cb_multiple</span><span class="p">,</span> <span class="n">use_gpu_var_multiple</span> <span class="o">=</span> <span class="n">SimbaCheckbox</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">crop_video_lbl_frm_multiple</span><span class="p">,</span> <span class="n">txt</span><span class="o">=</span><span class="s2">&quot;Use GPU (reduced runtime)&quot;</span><span class="p">,</span> <span class="n">txt_img</span><span class="o">=</span><span class="s1">&#39;gpu_2&#39;</span><span class="p">)</span>
        <span class="n">button_crop_video_multiple</span> <span class="o">=</span> <span class="n">SimbaButton</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">crop_video_lbl_frm_multiple</span><span class="p">,</span> <span class="n">txt</span><span class="o">=</span><span class="s2">&quot;CROP VIDEO DIRECTORY&quot;</span><span class="p">,</span> <span class="n">img</span><span class="o">=</span><span class="s1">&#39;rocket&#39;</span><span class="p">,</span> <span class="n">txt_clr</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">cmd</span><span class="o">=</span><span class="n">crop_multiple_videos</span><span class="p">,</span> <span class="n">cmd_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;directory_path&#39;</span><span class="p">:</span> <span class="k">lambda</span><span class="p">:</span><span class="n">input_folder</span><span class="o">.</span><span class="n">folder_path</span><span class="p">,</span> <span class="s1">&#39;output_path&#39;</span><span class="p">:</span> <span class="k">lambda</span><span class="p">:</span><span class="n">output_folder</span><span class="o">.</span><span class="n">folder_path</span><span class="p">,</span>  <span class="s1">&#39;gpu&#39;</span><span class="p">:</span> <span class="n">use_gpu_var_multiple</span><span class="o">.</span><span class="n">get</span><span class="p">()})</span>
        <span class="n">crop_video_lbl_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="n">selected_video</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="n">use_gpu_cb_single</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="n">button_crop_video_single</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="n">crop_video_lbl_frm_multiple</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="n">input_folder</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="n">output_folder</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="n">use_gpu_cb_multiple</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="n">button_crop_video_multiple</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="o">.</span><span class="n">mainloop</span><span class="p">()</span></div>

<span class="c1">#_ = CropVideoPopUp()</span>


<div class="viewcode-block" id="ClipVideoPopUp"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.ClipVideoPopUp">[docs]</a><span class="k">class</span> <span class="nc">ClipVideoPopUp</span><span class="p">(</span><span class="n">PopUpMixin</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;CLIP VIDEO&quot;</span><span class="p">)</span>
        <span class="n">selected_video_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span> <span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;Video path&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="n">selected_video</span> <span class="o">=</span> <span class="n">FileSelect</span><span class="p">(</span><span class="n">selected_video_frm</span><span class="p">,</span> <span class="s2">&quot;FILE PATH: &quot;</span><span class="p">,</span> <span class="n">file_types</span><span class="o">=</span><span class="p">[(</span><span class="s2">&quot;VIDEO&quot;</span><span class="p">,</span> <span class="n">Options</span><span class="o">.</span><span class="n">ALL_VIDEO_FORMAT_STR_OPTIONS</span><span class="o">.</span><span class="n">value</span><span class="p">)])</span>
        <span class="n">selected_video</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="n">use_gpu_frm</span> <span class="o">=</span> <span class="n">LabelFrame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;GPU&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_HEADER</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">use_gpu_cb</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_gpu_var</span> <span class="o">=</span> <span class="n">SimbaCheckbox</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">use_gpu_frm</span><span class="p">,</span> <span class="n">txt</span><span class="o">=</span><span class="s2">&quot;Use GPU (reduced runtime)&quot;</span><span class="p">,</span> <span class="n">txt_img</span><span class="o">=</span><span class="s1">&#39;gpu_2&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">use_gpu_cb</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="n">method_1_frm</span> <span class="o">=</span> <span class="n">LabelFrame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Method 1&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_HEADER</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="n">label_set_time_1</span> <span class="o">=</span> <span class="n">Label</span><span class="p">(</span><span class="n">method_1_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Please enter the time frame in HH:MM:SS format&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="n">start_time</span> <span class="o">=</span> <span class="n">Entry_Box</span><span class="p">(</span><span class="n">method_1_frm</span><span class="p">,</span> <span class="s2">&quot;Start at (HH:MM:SS):&quot;</span><span class="p">,</span> <span class="s2">&quot;22&quot;</span><span class="p">)</span>
        <span class="n">end_time</span> <span class="o">=</span> <span class="n">Entry_Box</span><span class="p">(</span><span class="n">method_1_frm</span><span class="p">,</span> <span class="s2">&quot;End at (HH:MM:SS):&quot;</span><span class="p">,</span> <span class="s2">&quot;22&quot;</span><span class="p">)</span>
        <span class="n">CreateToolTip</span><span class="p">(</span><span class="n">method_1_frm</span><span class="p">,</span> <span class="s2">&quot;Method 1 will retrieve the specified time input. (eg: input of Start at: 00:00:00, End at: 00:01:00, will create a new video from the chosen video from the very start till it reaches the first minute of the video)&quot;</span><span class="p">)</span>
        <span class="n">method_2_frm</span> <span class="o">=</span> <span class="n">LabelFrame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Method 2&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_HEADER</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="n">method_2_time</span> <span class="o">=</span> <span class="n">Entry_Box</span><span class="p">(</span><span class="n">method_2_frm</span><span class="p">,</span> <span class="s2">&quot;Seconds:&quot;</span><span class="p">,</span> <span class="s2">&quot;22&quot;</span><span class="p">,</span> <span class="n">validation</span><span class="o">=</span><span class="s2">&quot;numeric&quot;</span><span class="p">)</span>
        <span class="n">label_method_2</span> <span class="o">=</span> <span class="n">Label</span><span class="p">(</span><span class="n">method_2_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Method 2 will retrieve from the end of the video (e.g.,: an input of 3 seconds will get rid of the first 3 seconds of the video).&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="n">button_cutvideo_method_1</span> <span class="o">=</span> <span class="n">SimbaButton</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">method_1_frm</span><span class="p">,</span> <span class="n">txt</span><span class="o">=</span><span class="s2">&quot;CUT VIDEO&quot;</span><span class="p">,</span> <span class="n">img</span><span class="o">=</span><span class="s1">&#39;rocket&#39;</span><span class="p">,</span> <span class="n">txt_clr</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">cmd</span><span class="o">=</span><span class="n">clip_video_in_range</span><span class="p">,</span> <span class="n">cmd_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;file_path&#39;</span><span class="p">:</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">selected_video</span><span class="o">.</span><span class="n">file_path</span><span class="p">,</span> <span class="s1">&#39;start_time&#39;</span><span class="p">:</span> <span class="k">lambda</span><span class="p">:</span><span class="n">start_time</span><span class="o">.</span><span class="n">entry_get</span><span class="p">,</span> <span class="s1">&#39;end_time&#39;</span><span class="p">:</span> <span class="k">lambda</span><span class="p">:</span><span class="n">end_time</span><span class="o">.</span><span class="n">entry_get</span><span class="p">,</span> <span class="s1">&#39;gpu&#39;</span><span class="p">:</span> <span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_gpu_var</span><span class="o">.</span><span class="n">get</span><span class="p">()})</span>
        <span class="n">button_cutvideo_method_2</span> <span class="o">=</span> <span class="n">SimbaButton</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">method_2_frm</span><span class="p">,</span> <span class="n">txt</span><span class="o">=</span><span class="s2">&quot;CUT VIDEO&quot;</span><span class="p">,</span> <span class="n">img</span><span class="o">=</span><span class="s1">&#39;rocket&#39;</span><span class="p">,</span> <span class="n">txt_clr</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">cmd</span><span class="o">=</span><span class="n">remove_beginning_of_video</span><span class="p">,</span> <span class="n">cmd_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;file_path&#39;</span><span class="p">:</span> <span class="k">lambda</span><span class="p">:</span><span class="n">selected_video</span><span class="o">.</span><span class="n">file_path</span><span class="p">,</span> <span class="s1">&#39;time&#39;</span><span class="p">:</span> <span class="k">lambda</span><span class="p">:</span><span class="n">method_2_time</span><span class="o">.</span><span class="n">entry_get</span><span class="p">,</span> <span class="s1">&#39;gpu&#39;</span><span class="p">:</span> <span class="k">lambda</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">use_gpu_var</span><span class="o">.</span><span class="n">get</span><span class="p">()})</span>
        <span class="n">selected_video_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="n">use_gpu_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="n">method_1_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="n">label_set_time_1</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="n">start_time</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="n">end_time</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="n">button_cutvideo_method_1</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="n">method_2_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="n">label_method_2</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="n">method_2_time</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="n">button_cutvideo_method_2</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span></div>

<span class="c1">#ClipVideoPopUp()</span>

<div class="viewcode-block" id="GreyscaleSingleVideoPopUp"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.GreyscaleSingleVideoPopUp">[docs]</a><span class="k">class</span> <span class="nc">GreyscaleSingleVideoPopUp</span><span class="p">(</span><span class="n">PopUpMixin</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;GREYSCALE VIDEO&quot;</span><span class="p">)</span>
        <span class="n">video_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;GREYSCALE VIDEO&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video</span> <span class="o">=</span> <span class="n">FileSelect</span><span class="p">(</span> <span class="n">video_frm</span><span class="p">,</span> <span class="s2">&quot;VIDEO FILE PATH&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select a video file&quot;</span><span class="p">,</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">file_types</span><span class="o">=</span><span class="p">[(</span><span class="s2">&quot;VIDEO FILE&quot;</span><span class="p">,</span> <span class="n">Options</span><span class="o">.</span><span class="n">ALL_VIDEO_FORMAT_STR_OPTIONS</span><span class="o">.</span><span class="n">value</span><span class="p">)])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">use_gpu_var_video</span> <span class="o">=</span> <span class="n">BooleanVar</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">use_gpu_video_cb</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_gpu_var_video</span> <span class="o">=</span> <span class="n">SimbaCheckbox</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">video_frm</span><span class="p">,</span> <span class="n">txt</span><span class="o">=</span><span class="s2">&quot;Use GPU (reduced runtime)&quot;</span><span class="p">,</span> <span class="n">txt_img</span><span class="o">=</span><span class="s1">&#39;gpu_2&#39;</span><span class="p">)</span>
        <span class="n">run_video_btn</span> <span class="o">=</span> <span class="n">SimbaButton</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">video_frm</span><span class="p">,</span> <span class="n">txt</span><span class="o">=</span><span class="s2">&quot;RUN ON SINGLE VIDEO&quot;</span><span class="p">,</span> <span class="n">img</span><span class="o">=</span><span class="s1">&#39;rocket&#39;</span><span class="p">,</span> <span class="n">txt_clr</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">cmd</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">run_video</span><span class="p">)</span>
        <span class="n">dir_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;GREYSCALE VIDEO DIRECTORY&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dir_selected</span> <span class="o">=</span> <span class="n">FolderSelect</span><span class="p">(</span><span class="n">dir_frm</span><span class="p">,</span> <span class="s2">&quot;VIDEO DIRECTORY PATH&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select folder with videos&quot;</span><span class="p">,</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>

        <span class="n">use_gpu_dir_cb</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_gpu_var_dir</span> <span class="o">=</span> <span class="n">SimbaCheckbox</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">dir_frm</span><span class="p">,</span> <span class="n">txt</span><span class="o">=</span><span class="s2">&quot;Use GPU (reduced runtime)&quot;</span><span class="p">,</span> <span class="n">txt_img</span><span class="o">=</span><span class="s1">&#39;gpu_2&#39;</span><span class="p">)</span>
        <span class="n">run_dir_btn</span> <span class="o">=</span> <span class="n">SimbaButton</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">dir_frm</span><span class="p">,</span> <span class="n">txt</span><span class="o">=</span><span class="s2">&quot;RUN ON DIRECTORY OF VIDEOS&quot;</span><span class="p">,</span> <span class="n">img</span><span class="o">=</span><span class="s1">&#39;rocket&#39;</span><span class="p">,</span> <span class="n">txt_clr</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">cmd</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">run_dir</span><span class="p">)</span>

        <span class="n">video_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="n">use_gpu_video_cb</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="n">run_video_btn</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>

        <span class="n">dir_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dir_selected</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="n">use_gpu_dir_cb</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="n">run_dir_btn</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>


<div class="viewcode-block" id="GreyscaleSingleVideoPopUp.run_video"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.GreyscaleSingleVideoPopUp.run_video">[docs]</a>    <span class="k">def</span> <span class="nf">run_video</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">check_file_exist_and_readable</span><span class="p">(</span><span class="n">file_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">selected_video</span><span class="o">.</span><span class="n">file_path</span><span class="p">)</span>
        <span class="n">video_to_greyscale</span><span class="p">(</span><span class="n">file_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">selected_video</span><span class="o">.</span><span class="n">file_path</span><span class="p">,</span> <span class="n">gpu</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">use_gpu_var_video</span><span class="o">.</span><span class="n">get</span><span class="p">())</span></div>

<div class="viewcode-block" id="GreyscaleSingleVideoPopUp.run_dir"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.GreyscaleSingleVideoPopUp.run_dir">[docs]</a>    <span class="k">def</span> <span class="nf">run_dir</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">check_if_dir_exists</span><span class="p">(</span><span class="n">in_dir</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dir_selected</span><span class="o">.</span><span class="n">folder_path</span><span class="p">)</span>
        <span class="n">batch_video_to_greyscale</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dir_selected</span><span class="o">.</span><span class="n">folder_path</span><span class="p">,</span> <span class="n">gpu</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">use_gpu_var_dir</span><span class="o">.</span><span class="n">get</span><span class="p">())</span></div></div>

<div class="viewcode-block" id="SuperImposeFrameCountPopUp"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.SuperImposeFrameCountPopUp">[docs]</a><span class="k">class</span> <span class="nc">SuperImposeFrameCountPopUp</span><span class="p">(</span><span class="n">PopUpMixin</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;SUPERIMPOSE FRAME COUNT&quot;</span><span class="p">)</span>
        <span class="n">settings_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;SETTINGS&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="n">color_dict</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">get_color_dict</span><span class="p">()</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
        <span class="n">font_dict</span> <span class="o">=</span> <span class="n">get_fonts</span><span class="p">()</span>

        <span class="n">use_gpu_cb</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_gpu_var</span> <span class="o">=</span> <span class="n">SimbaCheckbox</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">settings_frm</span><span class="p">,</span> <span class="n">txt</span><span class="o">=</span><span class="s2">&quot;Use GPU (reduced runtime)&quot;</span><span class="p">,</span> <span class="n">txt_img</span><span class="o">=</span><span class="s1">&#39;gpu_2&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">font_size_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;FONT SIZE:&quot;</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">101</span><span class="p">,</span> <span class="mi">2</span><span class="p">)),</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">font_color_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;FONT COLOR:&quot;</span><span class="p">,</span> <span class="n">color_dict</span><span class="p">,</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">font_bg_color_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;FONT BACKGROUND COLOR:&quot;</span><span class="p">,</span> <span class="n">color_dict</span><span class="p">,</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">font_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;FONT:&quot;</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="n">font_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">()),</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">font_size_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="s1">&#39;20&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">font_color_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="s1">&#39;Black&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">font_bg_color_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="s1">&#39;White&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">font_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="s1">&#39;Arial&#39;</span><span class="p">)</span>

        <span class="n">settings_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">font_size_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">font_color_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">font_bg_color_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">font_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="n">use_gpu_cb</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>

        <span class="n">single_video_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;SINGLE VIDEO - SUPERIMPOSE FRAME COUNT&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video</span> <span class="o">=</span> <span class="n">FileSelect</span><span class="p">(</span><span class="n">single_video_frm</span><span class="p">,</span> <span class="s2">&quot;VIDEO PATH:&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select a video file&quot;</span><span class="p">,</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">file_types</span><span class="o">=</span><span class="p">[(</span><span class="s2">&quot;VIDEO FILE&quot;</span><span class="p">,</span> <span class="n">Options</span><span class="o">.</span><span class="n">ALL_VIDEO_FORMAT_STR_OPTIONS</span><span class="o">.</span><span class="n">value</span><span class="p">)])</span>

        <span class="n">single_video_run</span> <span class="o">=</span> <span class="n">SimbaButton</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">single_video_frm</span><span class="p">,</span> <span class="n">txt</span><span class="o">=</span><span class="s2">&quot;RUN - SINGLE VIDEO&quot;</span><span class="p">,</span> <span class="n">img</span><span class="o">=</span><span class="s1">&#39;rocket&#39;</span><span class="p">,</span> <span class="n">txt_clr</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">cmd</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">run_single_video</span><span class="p">)</span>

        <span class="n">single_video_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="n">single_video_run</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>

        <span class="n">multiple_videos_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;MULTIPLE VIDEOS - SUPERIMPOSE FRAME COUNT&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video_dir</span> <span class="o">=</span> <span class="n">FolderSelect</span><span class="p">(</span><span class="n">multiple_videos_frm</span><span class="p">,</span> <span class="s2">&quot;VIDEO DIRECTORY PATH:&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select a video directory&quot;</span><span class="p">,</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="n">multiple_videos_run</span> <span class="o">=</span> <span class="n">SimbaButton</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">multiple_videos_frm</span><span class="p">,</span> <span class="n">txt</span><span class="o">=</span><span class="s2">&quot;RUN - MULTIPLE VIDEOS&quot;</span><span class="p">,</span> <span class="n">img</span><span class="o">=</span><span class="s1">&#39;rocket&#39;</span><span class="p">,</span> <span class="n">txt_clr</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">cmd</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">run_multiple_videos</span><span class="p">)</span>

        <span class="n">multiple_videos_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video_dir</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="n">multiple_videos_run</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="o">.</span><span class="n">mainloop</span><span class="p">()</span>

<div class="viewcode-block" id="SuperImposeFrameCountPopUp.run_single_video"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.SuperImposeFrameCountPopUp.run_single_video">[docs]</a>    <span class="k">def</span> <span class="nf">run_single_video</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">video_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_video</span><span class="o">.</span><span class="n">file_path</span>
        <span class="n">check_file_exist_and_readable</span><span class="p">(</span><span class="n">file_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">selected_video</span><span class="o">.</span><span class="n">file_path</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">video_paths</span> <span class="o">=</span> <span class="p">[</span><span class="n">video_path</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">apply</span><span class="p">()</span></div>

<div class="viewcode-block" id="SuperImposeFrameCountPopUp.run_multiple_videos"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.SuperImposeFrameCountPopUp.run_multiple_videos">[docs]</a>    <span class="k">def</span> <span class="nf">run_multiple_videos</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">video_dir</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_video_dir</span><span class="o">.</span><span class="n">folder_path</span>
        <span class="n">check_if_dir_exists</span><span class="p">(</span><span class="n">in_dir</span><span class="o">=</span><span class="n">video_dir</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">video_paths</span> <span class="o">=</span> <span class="n">find_files_of_filetypes_in_directory</span><span class="p">(</span><span class="n">directory</span><span class="o">=</span><span class="n">video_dir</span><span class="p">,</span> <span class="n">extensions</span><span class="o">=</span><span class="n">Options</span><span class="o">.</span><span class="n">ALL_VIDEO_FORMAT_OPTIONS</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">raise_error</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">apply</span><span class="p">()</span></div>

<div class="viewcode-block" id="SuperImposeFrameCountPopUp.apply"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.SuperImposeFrameCountPopUp.apply">[docs]</a>    <span class="k">def</span> <span class="nf">apply</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">check_ffmpeg_available</span><span class="p">(</span><span class="n">raise_error</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">timer</span> <span class="o">=</span> <span class="n">SimbaTimer</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">use_gpu</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_gpu_var</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
        <span class="n">font</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">()</span>
        <span class="n">font_clr</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font_color_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">()</span>
        <span class="n">font_bg_clr</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font_bg_color_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">()</span>
        <span class="n">font_size</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">font_size_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">())</span>
        <span class="k">for</span> <span class="n">file_cnt</span><span class="p">,</span> <span class="n">file_path</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">video_paths</span><span class="p">):</span>
            <span class="n">check_file_exist_and_readable</span><span class="p">(</span><span class="n">file_path</span><span class="o">=</span><span class="n">file_path</span><span class="p">)</span>
            <span class="n">superimpose_frame_count</span><span class="p">(</span><span class="n">file_path</span><span class="o">=</span><span class="n">file_path</span><span class="p">,</span>
                                    <span class="n">gpu</span><span class="o">=</span><span class="n">use_gpu</span><span class="p">,</span>
                                    <span class="n">fontsize</span><span class="o">=</span><span class="n">font_size</span><span class="p">,</span>
                                    <span class="n">font_color</span><span class="o">=</span><span class="n">font_clr</span><span class="p">,</span>
                                    <span class="n">font</span><span class="o">=</span><span class="n">font</span><span class="p">,</span>
                                    <span class="n">bg_color</span><span class="o">=</span><span class="n">font_bg_clr</span><span class="p">)</span>
        <span class="n">timer</span><span class="o">.</span><span class="n">stop_timer</span><span class="p">()</span>
        <span class="n">stdout_success</span><span class="p">(</span><span class="n">msg</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;Frame counts superimposed on </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">video_paths</span><span class="p">)</span><span class="si">}</span><span class="s1"> video(s)&#39;</span><span class="p">,</span> <span class="n">elapsed_time</span><span class="o">=</span><span class="n">timer</span><span class="o">.</span><span class="n">elapsed_time_str</span><span class="p">)</span></div></div>

<span class="c1">#SuperImposeFrameCountPopUp()</span>

<div class="viewcode-block" id="MultiShortenPopUp"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.MultiShortenPopUp">[docs]</a><span class="k">class</span> <span class="nc">MultiShortenPopUp</span><span class="p">(</span><span class="n">PopUpMixin</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;CLIP VIDEO INTO MULTIPLE VIDEOS&quot;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">800</span><span class="p">,</span> <span class="mi">200</span><span class="p">))</span>
        <span class="n">settings_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span><span class="n">header</span><span class="o">=</span><span class="s2">&quot;Split videos into different parts&quot;</span><span class="p">,</span><span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span><span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video</span> <span class="o">=</span> <span class="n">FileSelect</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;Video path&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select a video file&quot;</span><span class="p">,</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">file_types</span><span class="o">=</span><span class="p">[(</span><span class="s2">&quot;VIDEO FILE&quot;</span><span class="p">,</span> <span class="n">Options</span><span class="o">.</span><span class="n">ALL_VIDEO_FORMAT_STR_OPTIONS</span><span class="o">.</span><span class="n">value</span><span class="p">)])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">clip_cnt</span> <span class="o">=</span> <span class="n">Entry_Box</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;# of clips&quot;</span><span class="p">,</span> <span class="s2">&quot;10&quot;</span><span class="p">,</span> <span class="n">validation</span><span class="o">=</span><span class="s2">&quot;numeric&quot;</span><span class="p">)</span>
        <span class="n">use_gpu_cb</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_gpu_var</span> <span class="o">=</span> <span class="n">SimbaCheckbox</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">settings_frm</span><span class="p">,</span> <span class="n">txt</span><span class="o">=</span><span class="s2">&quot;Use GPU (reduced runtime)&quot;</span><span class="p">,</span> <span class="n">txt_img</span><span class="o">=</span><span class="s1">&#39;gpu_2&#39;</span><span class="p">)</span>
        <span class="n">confirm_settings_btn</span> <span class="o">=</span> <span class="n">SimbaButton</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">settings_frm</span><span class="p">,</span> <span class="n">txt</span><span class="o">=</span><span class="s2">&quot;CONFIRM&quot;</span><span class="p">,</span> <span class="n">img</span><span class="o">=</span><span class="s1">&#39;tick&#39;</span><span class="p">,</span> <span class="n">txt_clr</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">cmd</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_start_stop</span><span class="p">)</span>
        <span class="n">settings_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">,</span> <span class="n">columnspan</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">clip_cnt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="n">confirm_settings_btn</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">W</span><span class="p">)</span>
        <span class="n">use_gpu_cb</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">W</span><span class="p">)</span>
        <span class="n">instructions</span> <span class="o">=</span> <span class="n">Label</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Enter clip start and stop times in HH:MM:SS format&quot;</span><span class="p">,</span> <span class="n">fg</span><span class="o">=</span><span class="s2">&quot;navy&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="n">instructions</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

        <span class="n">batch_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;Batch change time&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">batch_start_entry</span> <span class="o">=</span> <span class="n">Entry_Box</span><span class="p">(</span><span class="n">batch_frm</span><span class="p">,</span> <span class="s2">&quot;START:&quot;</span><span class="p">,</span> <span class="s2">&quot;10&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">batch_start_entry</span><span class="o">.</span><span class="n">entry_set</span><span class="p">(</span><span class="s2">&quot;00:00:00&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">batch_end_entry</span> <span class="o">=</span> <span class="n">Entry_Box</span><span class="p">(</span><span class="n">batch_frm</span><span class="p">,</span> <span class="s2">&quot;END&quot;</span><span class="p">,</span> <span class="s2">&quot;10&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">batch_end_entry</span><span class="o">.</span><span class="n">entry_set</span><span class="p">(</span><span class="s2">&quot;00:00:00&quot;</span><span class="p">)</span>


        <span class="n">batch_start_apply</span> <span class="o">=</span> <span class="n">SimbaButton</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">batch_frm</span><span class="p">,</span> <span class="n">txt</span><span class="o">=</span><span class="s2">&quot;APPLY&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">cmd</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">batch_change</span><span class="p">,</span> <span class="n">cmd_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="s2">&quot;start&quot;</span><span class="p">})</span>
        <span class="n">batch_end_apply</span> <span class="o">=</span> <span class="n">SimbaButton</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">batch_frm</span><span class="p">,</span> <span class="n">txt</span><span class="o">=</span><span class="s2">&quot;APPLY&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">cmd</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">batch_change</span><span class="p">,</span> <span class="n">cmd_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="s2">&quot;end&quot;</span><span class="p">})</span>

        <span class="n">batch_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">batch_start_entry</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="n">batch_start_apply</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">batch_end_entry</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="n">batch_end_apply</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="o">.</span><span class="n">mainloop</span><span class="p">()</span>

<div class="viewcode-block" id="MultiShortenPopUp.show_start_stop"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.MultiShortenPopUp.show_start_stop">[docs]</a>    <span class="k">def</span> <span class="nf">show_start_stop</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">check_int</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Number of clips&quot;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">clip_cnt</span><span class="o">.</span><span class="n">entry_get</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;table&quot;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">table</span><span class="o">.</span><span class="n">destroy</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">table</span> <span class="o">=</span> <span class="n">LabelFrame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">table</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">table</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Clip #&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">table</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Start Time&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">table</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Stop Time&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">clip_names</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">start_times</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">end_times</span> <span class="o">=</span> <span class="p">[],</span> <span class="p">[],</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">clip_cnt</span><span class="o">.</span><span class="n">entry_get</span><span class="p">)):</span>
            <span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">table</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Clip &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="n">i</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">W</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">start_times</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Entry</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">table</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">start_times</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="n">i</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">end_times</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Entry</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">table</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">end_times</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="n">i</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="n">run_button</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">table</span><span class="p">,</span>
            <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Clip video&quot;</span><span class="p">,</span>
            <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">run_clipping</span><span class="p">(),</span>
            <span class="n">fg</span><span class="o">=</span><span class="s2">&quot;navy&quot;</span><span class="p">,</span>
            <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">run_button</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">clip_cnt</span><span class="o">.</span><span class="n">entry_get</span><span class="p">)</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">W</span><span class="p">)</span></div>

<div class="viewcode-block" id="MultiShortenPopUp.batch_change"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.MultiShortenPopUp.batch_change">[docs]</a>    <span class="k">def</span> <span class="nf">batch_change</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;table&quot;</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">CountError</span><span class="p">(</span>
                <span class="n">msg</span><span class="o">=</span><span class="s2">&quot;Select the number of video clippings first&quot;</span><span class="p">,</span>
                <span class="n">source</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">for</span> <span class="n">start_time_entry</span><span class="p">,</span> <span class="n">end_time_entry</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">start_times</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">end_times</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">value</span> <span class="o">==</span> <span class="s2">&quot;start&quot;</span><span class="p">:</span>
                <span class="n">start_time_entry</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">END</span><span class="p">)</span>
                <span class="n">start_time_entry</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">batch_start_entry</span><span class="o">.</span><span class="n">entry_get</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">end_time_entry</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">END</span><span class="p">)</span>
                <span class="n">end_time_entry</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">batch_end_entry</span><span class="o">.</span><span class="n">entry_get</span><span class="p">)</span></div>

<div class="viewcode-block" id="MultiShortenPopUp.run_clipping"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.MultiShortenPopUp.run_clipping">[docs]</a>    <span class="k">def</span> <span class="nf">run_clipping</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">start_times</span><span class="p">,</span> <span class="n">end_times</span> <span class="o">=</span> <span class="p">[],</span> <span class="p">[]</span>
        <span class="n">check_file_exist_and_readable</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">selected_video</span><span class="o">.</span><span class="n">file_path</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">start_time</span><span class="p">,</span> <span class="n">end_time</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">start_times</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">end_times</span><span class="p">):</span>
            <span class="n">start_times</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">start_time</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
            <span class="n">end_times</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">end_time</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
        <span class="n">multi_split_video</span><span class="p">(</span>
            <span class="n">file_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">selected_video</span><span class="o">.</span><span class="n">file_path</span><span class="p">,</span>
            <span class="n">start_times</span><span class="o">=</span><span class="n">start_times</span><span class="p">,</span>
            <span class="n">end_times</span><span class="o">=</span><span class="n">end_times</span><span class="p">,</span>
            <span class="n">gpu</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">use_gpu_var</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
        <span class="p">)</span></div></div>


<span class="c1">#_ = MultiShortenPopUp()</span>


<div class="viewcode-block" id="ChangeImageFormatPopUp"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.ChangeImageFormatPopUp">[docs]</a><span class="k">class</span> <span class="nc">ChangeImageFormatPopUp</span><span class="p">(</span><span class="n">PopUpMixin</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;CHANGE IMAGE FORMAT&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">input_folder_selected</span> <span class="o">=</span> <span class="n">FolderSelect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="s2">&quot;Image directory&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select folder with images:&quot;</span><span class="p">)</span>
        <span class="n">set_input_format_frm</span> <span class="o">=</span> <span class="n">LabelFrame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Original image format&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_HEADER</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="n">set_output_format_frm</span> <span class="o">=</span> <span class="n">LabelFrame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Output image format&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_HEADER</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">input_file_type</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">out_file_type</span> <span class="o">=</span> <span class="n">StringVar</span><span class="p">(),</span> <span class="n">StringVar</span><span class="p">()</span>
        <span class="n">input_png_rb</span> <span class="o">=</span> <span class="n">Radiobutton</span><span class="p">(</span><span class="n">set_input_format_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;.png&quot;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">input_file_type</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;png&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="n">input_jpeg_rb</span> <span class="o">=</span> <span class="n">Radiobutton</span><span class="p">(</span>
            <span class="n">set_input_format_frm</span><span class="p">,</span>
            <span class="n">text</span><span class="o">=</span><span class="s2">&quot;.jpg&quot;</span><span class="p">,</span>
            <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">input_file_type</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="s2">&quot;jpg&quot;</span><span class="p">,</span>
            <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">input_bmp_rb</span> <span class="o">=</span> <span class="n">Radiobutton</span><span class="p">(</span>
            <span class="n">set_input_format_frm</span><span class="p">,</span>
            <span class="n">text</span><span class="o">=</span><span class="s2">&quot;.bmp&quot;</span><span class="p">,</span>
            <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">input_file_type</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="s2">&quot;bmp&quot;</span><span class="p">,</span>
            <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">output_png_rb</span> <span class="o">=</span> <span class="n">Radiobutton</span><span class="p">(</span>
            <span class="n">set_output_format_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;.png&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">out_file_type</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;png&quot;</span>
        <span class="p">)</span>
        <span class="n">output_jpeg_rb</span> <span class="o">=</span> <span class="n">Radiobutton</span><span class="p">(</span>
            <span class="n">set_output_format_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;.jpg&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">out_file_type</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;jpg&quot;</span>
        <span class="p">)</span>
        <span class="n">output_bmp_rb</span> <span class="o">=</span> <span class="n">Radiobutton</span><span class="p">(</span>
            <span class="n">set_output_format_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;.bmp&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">out_file_type</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;bmp&quot;</span>
        <span class="p">)</span>
        <span class="n">run_btn</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span>
            <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Convert image file format&quot;</span><span class="p">,</span>
            <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">run_img_conversion</span><span class="p">(),</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">input_folder_selected</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">set_input_format_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="n">set_output_format_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="n">input_png_rb</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">input_jpeg_rb</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">input_bmp_rb</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">output_png_rb</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">output_jpeg_rb</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">output_bmp_rb</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">run_btn</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

<div class="viewcode-block" id="ChangeImageFormatPopUp.run_img_conversion"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.ChangeImageFormatPopUp.run_img_conversion">[docs]</a>    <span class="k">def</span> <span class="nf">run_img_conversion</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">input_folder_selected</span><span class="o">.</span><span class="n">folder_path</span><span class="p">))</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">NoFilesFoundError</span><span class="p">(</span>
                <span class="n">msg</span><span class="o">=</span><span class="s2">&quot;SIMBA ERROR: The input folder </span><span class="si">{}</span><span class="s2"> contains ZERO files.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">input_folder_selected</span><span class="o">.</span><span class="n">folder_path</span>
                <span class="p">),</span>
                <span class="n">source</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="n">change_img_format</span><span class="p">(</span>
            <span class="n">directory</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">input_folder_selected</span><span class="o">.</span><span class="n">folder_path</span><span class="p">,</span>
            <span class="n">file_type_in</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">input_file_type</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
            <span class="n">file_type_out</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">out_file_type</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
        <span class="p">)</span></div></div>


<div class="viewcode-block" id="ConvertVideoPopUp"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.ConvertVideoPopUp">[docs]</a><span class="k">class</span> <span class="nc">ConvertVideoPopUp</span><span class="p">(</span><span class="n">PopUpMixin</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">PopUpMixin</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;CONVERT VIDEO FORMAT&quot;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">200</span><span class="p">))</span>
        <span class="n">convert_multiple_videos_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span>
            <span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span>
            <span class="n">header</span><span class="o">=</span><span class="s2">&quot;Convert multiple videos&quot;</span><span class="p">,</span>
            <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">video_dir</span> <span class="o">=</span> <span class="n">FolderSelect</span><span class="p">(</span>
            <span class="n">convert_multiple_videos_frm</span><span class="p">,</span>
            <span class="s2">&quot;Video directory&quot;</span><span class="p">,</span>
            <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select folder with videos&quot;</span><span class="p">,</span>
            <span class="n">lblwidth</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">video_format_options</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;mp4&quot;</span><span class="p">,</span> <span class="s2">&quot;avi&quot;</span><span class="p">,</span> <span class="s2">&quot;mov&quot;</span><span class="p">,</span> <span class="s2">&quot;flv&quot;</span><span class="p">,</span> <span class="s2">&quot;m4v&quot;</span><span class="p">]</span>
        <span class="n">original_format_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span>
            <span class="n">convert_multiple_videos_frm</span><span class="p">,</span>
            <span class="s2">&quot;Input format&quot;</span><span class="p">,</span>
            <span class="n">video_format_options</span><span class="p">,</span>
            <span class="n">labelwidth</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">output_format_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span>
            <span class="n">convert_multiple_videos_frm</span><span class="p">,</span>
            <span class="s2">&quot;Input format&quot;</span><span class="p">,</span>
            <span class="n">video_format_options</span><span class="p">,</span>
            <span class="n">labelwidth</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">original_format_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="s2">&quot;avi&quot;</span><span class="p">)</span>
        <span class="n">output_format_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="s2">&quot;mp4&quot;</span><span class="p">)</span>
        <span class="n">gpu_multiple_var</span> <span class="o">=</span> <span class="n">BooleanVar</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">gpu_multiple_cb</span> <span class="o">=</span> <span class="n">Checkbutton</span><span class="p">(</span>
            <span class="n">convert_multiple_videos_frm</span><span class="p">,</span>
            <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Use GPU (reduced runtime)&quot;</span><span class="p">,</span>
            <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">variable</span><span class="o">=</span><span class="n">gpu_multiple_var</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">convert_multiple_btn</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span>
            <span class="n">convert_multiple_videos_frm</span><span class="p">,</span>
            <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Convert multiple videos&quot;</span><span class="p">,</span>
            <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="n">batch_convert_video_format</span><span class="p">(</span>
                <span class="n">directory</span><span class="o">=</span><span class="n">video_dir</span><span class="o">.</span><span class="n">folder_path</span><span class="p">,</span>
                <span class="n">input_format</span><span class="o">=</span><span class="n">original_format_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">(),</span>
                <span class="n">output_format</span><span class="o">=</span><span class="n">output_format_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">(),</span>
                <span class="n">gpu</span><span class="o">=</span><span class="n">gpu_multiple_var</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
            <span class="p">),</span>
        <span class="p">)</span>
        <span class="n">convert_single_video_frm</span> <span class="o">=</span> <span class="n">LabelFrame</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span>
            <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Convert single video&quot;</span><span class="p">,</span>
            <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_HEADER</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
            <span class="n">pady</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video</span> <span class="o">=</span> <span class="n">FileSelect</span><span class="p">(</span>
            <span class="n">convert_single_video_frm</span><span class="p">,</span>
            <span class="s2">&quot;Video path&quot;</span><span class="p">,</span>
            <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select a video file&quot;</span><span class="p">,</span>
            <span class="n">file_types</span><span class="o">=</span><span class="p">[(</span><span class="s2">&quot;VIDEO FILE&quot;</span><span class="p">,</span> <span class="n">Options</span><span class="o">.</span><span class="n">ALL_VIDEO_FORMAT_STR_OPTIONS</span><span class="o">.</span><span class="n">value</span><span class="p">)],</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">output_format</span> <span class="o">=</span> <span class="n">StringVar</span><span class="p">()</span>
        <span class="n">checkbox_v1</span> <span class="o">=</span> <span class="n">Radiobutton</span><span class="p">(</span>
            <span class="n">convert_single_video_frm</span><span class="p">,</span>
            <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Convert to .mp4&quot;</span><span class="p">,</span>
            <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">output_format</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="s2">&quot;mp4&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">checkbox_v2</span> <span class="o">=</span> <span class="n">Radiobutton</span><span class="p">(</span>
            <span class="n">convert_single_video_frm</span><span class="p">,</span>
            <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Convert mp4 into PowerPoint supported format&quot;</span><span class="p">,</span>
            <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">output_format</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="s2">&quot;pptx&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gpu_single_var</span> <span class="o">=</span> <span class="n">BooleanVar</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">gpu_single_cb</span> <span class="o">=</span> <span class="n">Checkbutton</span><span class="p">(</span>
            <span class="n">convert_single_video_frm</span><span class="p">,</span>
            <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Use GPU (reduced runtime)&quot;</span><span class="p">,</span>
            <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">gpu_single_var</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">convert_single_btn</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span>
            <span class="n">convert_single_video_frm</span><span class="p">,</span>
            <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Convert video format&quot;</span><span class="p">,</span>
            <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">convert_single</span><span class="p">(),</span>
        <span class="p">)</span>

        <span class="n">convert_multiple_videos_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="n">video_dir</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="n">original_format_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="n">output_format_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="n">gpu_multiple_cb</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="n">convert_multiple_btn</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="n">convert_single_video_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="n">checkbox_v1</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="n">checkbox_v2</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="n">gpu_single_cb</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="n">convert_single_btn</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>

<div class="viewcode-block" id="ConvertVideoPopUp.convert_single"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.ConvertVideoPopUp.convert_single">[docs]</a>    <span class="k">def</span> <span class="nf">convert_single</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_format</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;mp4&quot;</span><span class="p">:</span>
            <span class="n">convert_to_mp4</span><span class="p">(</span>
                <span class="n">file_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">selected_video</span><span class="o">.</span><span class="n">file_path</span><span class="p">,</span> <span class="n">gpu</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">gpu_single_var</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
            <span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_format</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;pptx&quot;</span><span class="p">:</span>
            <span class="n">convert_video_powerpoint_compatible_format</span><span class="p">(</span>
                <span class="n">file_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">selected_video</span><span class="o">.</span><span class="n">file_path</span><span class="p">,</span> <span class="n">gpu</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">gpu_single_var</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
            <span class="p">)</span></div></div>


<div class="viewcode-block" id="ExtractSpecificFramesPopUp"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.ExtractSpecificFramesPopUp">[docs]</a><span class="k">class</span> <span class="nc">ExtractSpecificFramesPopUp</span><span class="p">(</span><span class="n">PopUpMixin</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">PopUpMixin</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;EXTRACT DEFINED FRAME RANGE FROM VIDEO&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">video_file_selected</span> <span class="o">=</span> <span class="n">FileSelect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="s2">&quot;VIDEO PATH:&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select a video file&quot;</span><span class="p">,</span> <span class="n">file_types</span><span class="o">=</span><span class="p">[(</span><span class="s2">&quot;VIDEO FILE&quot;</span><span class="p">,</span> <span class="n">Options</span><span class="o">.</span><span class="n">ALL_VIDEO_FORMAT_STR_OPTIONS</span><span class="o">.</span><span class="n">value</span><span class="p">)],</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
        <span class="n">select_frames_frm</span> <span class="o">=</span> <span class="n">LabelFrame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;FRAME RANGE TO BE EXTRACTED&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_HEADER</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">start_frm</span> <span class="o">=</span> <span class="n">Entry_Box</span><span class="p">(</span><span class="n">select_frames_frm</span><span class="p">,</span> <span class="s2">&quot;START FRAME:&quot;</span><span class="p">,</span> <span class="s2">&quot;15&quot;</span><span class="p">,</span> <span class="n">validation</span><span class="o">=</span><span class="s1">&#39;numeric&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">end_frm</span> <span class="o">=</span> <span class="n">Entry_Box</span><span class="p">(</span><span class="n">select_frames_frm</span><span class="p">,</span> <span class="s2">&quot;END FRAME:&quot;</span><span class="p">,</span> <span class="s2">&quot;15&quot;</span><span class="p">,</span> <span class="n">validation</span><span class="o">=</span><span class="s1">&#39;numeric&#39;</span><span class="p">)</span>


        <span class="n">run_btn</span> <span class="o">=</span> <span class="n">SimbaButton</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">select_frames_frm</span><span class="p">,</span> <span class="n">txt</span><span class="o">=</span><span class="s2">&quot;RUN&quot;</span><span class="p">,</span> <span class="n">img</span><span class="o">=</span><span class="s1">&#39;rocket&#39;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">cmd</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">start_frm_extraction</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">video_file_selected</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">select_frames_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">start_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">end_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="n">run_btn</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>

<div class="viewcode-block" id="ExtractSpecificFramesPopUp.start_frm_extraction"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.ExtractSpecificFramesPopUp.start_frm_extraction">[docs]</a>    <span class="k">def</span> <span class="nf">start_frm_extraction</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">start_frame</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">start_frm</span><span class="o">.</span><span class="n">entry_get</span>
        <span class="n">end_frame</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">end_frm</span><span class="o">.</span><span class="n">entry_get</span>
        <span class="n">video_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">video_file_selected</span><span class="o">.</span><span class="n">file_path</span>
        <span class="n">check_file_exist_and_readable</span><span class="p">(</span><span class="n">file_path</span><span class="o">=</span><span class="n">video_path</span><span class="p">)</span>
        <span class="n">check_int</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Start frame&quot;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">start_frame</span><span class="p">)</span>
        <span class="n">check_int</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;End frame&quot;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">end_frame</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="n">end_frame</span><span class="p">)</span> <span class="o">&lt;</span> <span class="nb">int</span><span class="p">(</span><span class="n">start_frame</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">FrameRangeError</span><span class="p">(</span><span class="n">msg</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;SIMBA ERROR: The end frame (</span><span class="si">{</span><span class="n">end_frame</span><span class="si">}</span><span class="s2">) cannot come before the start frame (</span><span class="si">{</span><span class="n">start_frame</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
        <span class="n">video_meta_data</span> <span class="o">=</span> <span class="n">get_video_meta_data</span><span class="p">(</span><span class="n">video_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">video_file_selected</span><span class="o">.</span><span class="n">file_path</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="n">start_frame</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">video_meta_data</span><span class="p">[</span><span class="s2">&quot;frame_count&quot;</span><span class="p">]:</span>
            <span class="k">raise</span> <span class="n">FrameRangeError</span><span class="p">(</span><span class="n">msg</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;SIMBA ERROR: The start frame (</span><span class="si">{</span><span class="n">start_frame</span><span class="si">}</span><span class="s2">) is larger than the number of frames in the video (</span><span class="si">{</span><span class="n">video_meta_data</span><span class="p">[</span><span class="s1">&#39;frame_count&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="n">end_frame</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">video_meta_data</span><span class="p">[</span><span class="s2">&quot;frame_count&quot;</span><span class="p">]:</span>
            <span class="k">raise</span> <span class="n">FrameRangeError</span><span class="p">(</span><span class="n">msg</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;SIMBA ERROR: The end frame (</span><span class="si">{</span><span class="n">end_frame</span><span class="si">}</span><span class="s2">) is larger than the number of frames in the video (</span><span class="si">{</span><span class="n">video_meta_data</span><span class="p">[</span><span class="s1">&#39;frame_count&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
        <span class="n">extract_frame_range</span><span class="p">(</span><span class="n">file_path</span><span class="o">=</span><span class="n">video_path</span><span class="p">,</span>
                            <span class="n">start_frame</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">start_frame</span><span class="p">),</span>
                            <span class="n">end_frame</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">end_frame</span><span class="p">))</span></div></div>


<div class="viewcode-block" id="ExtractAllFramesPopUp"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.ExtractAllFramesPopUp">[docs]</a><span class="k">class</span> <span class="nc">ExtractAllFramesPopUp</span><span class="p">(</span><span class="n">PopUpMixin</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">PopUpMixin</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;EXTRACT ALL FRAMES&quot;</span><span class="p">)</span>
        <span class="n">single_video_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span><span class="n">header</span><span class="o">=</span><span class="s2">&quot;SINGLE VIDEO&quot;</span><span class="p">,</span><span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span><span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="n">video_path</span> <span class="o">=</span> <span class="n">FileSelect</span><span class="p">(</span> <span class="n">single_video_frm</span><span class="p">,</span> <span class="s2">&quot;VIDEO PATH:&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select a video file&quot;</span><span class="p">,</span> <span class="n">file_types</span><span class="o">=</span><span class="p">[(</span><span class="s2">&quot;VIDEO FILE&quot;</span><span class="p">,</span> <span class="n">Options</span><span class="o">.</span><span class="n">ALL_VIDEO_FORMAT_STR_OPTIONS</span><span class="o">.</span><span class="n">value</span><span class="p">)])</span>
        <span class="n">single_video_btn</span> <span class="o">=</span> <span class="n">SimbaButton</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">single_video_frm</span><span class="p">,</span> <span class="n">txt</span><span class="o">=</span><span class="s2">&quot;Extract Frames (Single video)&quot;</span><span class="p">,</span> <span class="n">img</span><span class="o">=</span><span class="s1">&#39;rocket&#39;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">cmd</span><span class="o">=</span><span class="n">extract_frames_single_video</span><span class="p">,</span> <span class="n">cmd_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;file_path&#39;</span><span class="p">:</span> <span class="k">lambda</span><span class="p">:</span><span class="n">video_path</span><span class="o">.</span><span class="n">file_path</span><span class="p">})</span>
        <span class="n">multiple_videos_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span> <span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;MULTIPLE VIDEOS&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>

        <span class="n">folder_path</span> <span class="o">=</span> <span class="n">FolderSelect</span><span class="p">(</span><span class="n">multiple_videos_frm</span><span class="p">,</span> <span class="s2">&quot;DIRECTORY PATH:&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot; Select video folder&quot;</span><span class="p">)</span>
        <span class="n">multiple_video_btn</span> <span class="o">=</span> <span class="n">SimbaButton</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">multiple_videos_frm</span><span class="p">,</span> <span class="n">txt</span><span class="o">=</span><span class="s2">&quot;Extract Frames (Multiple videos)&quot;</span><span class="p">,</span> <span class="n">img</span><span class="o">=</span><span class="s1">&#39;rocket&#39;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">cmd</span><span class="o">=</span><span class="n">batch_create_frames</span><span class="p">,</span> <span class="n">cmd_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;directory&#39;</span><span class="p">:</span> <span class="k">lambda</span><span class="p">:</span><span class="n">folder_path</span><span class="o">.</span><span class="n">folder_path</span><span class="p">})</span>
        <span class="n">single_video_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">video_path</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="n">single_video_btn</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">W</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">multiple_videos_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">W</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">folder_path</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">W</span><span class="p">)</span>
        <span class="n">multiple_video_btn</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">W</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span></div>


<div class="viewcode-block" id="MultiCropPopUp"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.MultiCropPopUp">[docs]</a><span class="k">class</span> <span class="nc">MultiCropPopUp</span><span class="p">(</span><span class="n">PopUpMixin</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">PopUpMixin</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;MULTI-CROP&quot;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">500</span><span class="p">,</span> <span class="mi">300</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">input_folder</span> <span class="o">=</span> <span class="n">FolderSelect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="s2">&quot;Input Video Folder&quot;</span><span class="p">,</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">output_folder</span> <span class="o">=</span> <span class="n">FolderSelect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="s2">&quot;Output Folder&quot;</span><span class="p">,</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
        <span class="n">video_options</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;mp4&quot;</span><span class="p">,</span> <span class="s2">&quot;avi&quot;</span><span class="p">,</span> <span class="s2">&quot;mov&quot;</span><span class="p">,</span> <span class="s2">&quot;flv&quot;</span><span class="p">,</span> <span class="s2">&quot;m4v&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">video_type_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="s2">&quot;Video type:&quot;</span><span class="p">,</span> <span class="n">video_options</span><span class="p">,</span> <span class="s2">&quot;15&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">video_type_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="s2">&quot;mp4&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">crop_cnt_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="s2">&quot;Crop count:&quot;</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">31</span><span class="p">)),</span> <span class="s2">&quot;15&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">crop_cnt_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">use_gpu_cb</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_gpu_var</span> <span class="o">=</span> <span class="n">SimbaCheckbox</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">txt</span><span class="o">=</span><span class="s2">&quot;Use GPU (reduced runtime)&quot;</span><span class="p">,</span> <span class="n">txt_img</span><span class="o">=</span><span class="s1">&#39;gpu_2&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">create_run_frm</span><span class="p">(</span><span class="n">run_function</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">input_folder</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">output_folder</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">video_type_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">crop_cnt_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">use_gpu_cb</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">create_run_frm</span><span class="p">(</span><span class="n">run_function</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">)</span>

<div class="viewcode-block" id="MultiCropPopUp.run"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.MultiCropPopUp.run">[docs]</a>    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">check_if_dir_exists</span><span class="p">(</span><span class="n">in_dir</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">input_folder</span><span class="o">.</span><span class="n">folder_path</span><span class="p">)</span>
        <span class="n">check_if_dir_exists</span><span class="p">(</span><span class="n">in_dir</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">output_folder</span><span class="o">.</span><span class="n">folder_path</span><span class="p">)</span>
        <span class="n">MultiCropper</span><span class="p">(</span>
            <span class="n">file_type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">video_type_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">(),</span>
            <span class="n">input_folder</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">input_folder</span><span class="o">.</span><span class="n">folder_path</span><span class="p">,</span>
            <span class="n">output_folder</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">output_folder</span><span class="o">.</span><span class="n">folder_path</span><span class="p">,</span>
            <span class="n">crop_cnt</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">crop_cnt_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">(),</span>
            <span class="n">gpu</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">use_gpu_var</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
        <span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">()</span></div></div>


<span class="c1"># MultiCropPopUp()</span>


<div class="viewcode-block" id="ChangeFpsSingleVideoPopUp"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.ChangeFpsSingleVideoPopUp">[docs]</a><span class="k">class</span> <span class="nc">ChangeFpsSingleVideoPopUp</span><span class="p">(</span><span class="n">PopUpMixin</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">PopUpMixin</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;CHANGE FRAME RATE: SINGLE VIDEO&quot;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">500</span><span class="p">,</span> <span class="mi">300</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">video_path</span> <span class="o">=</span> <span class="n">FileSelect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="s2">&quot;VIDEO PATH:&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select a video file&quot;</span><span class="p">,</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">file_types</span><span class="o">=</span><span class="p">[(</span><span class="s2">&quot;VIDEO&quot;</span><span class="p">,</span> <span class="n">Options</span><span class="o">.</span><span class="n">ALL_VIDEO_FORMAT_STR_OPTIONS</span><span class="o">.</span><span class="n">value</span><span class="p">)])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">new_fps_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="s2">&quot;NEW FPS:&quot;</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">101</span><span class="p">,</span> <span class="mi">1</span><span class="p">)),</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">new_fps_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span>
        <span class="n">gpu_cb</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">gpu_var</span> <span class="o">=</span> <span class="n">SimbaCheckbox</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">txt</span><span class="o">=</span><span class="s2">&quot;Use GPU (reduced runtime)&quot;</span><span class="p">,</span> <span class="n">txt_img</span><span class="o">=</span><span class="s1">&#39;gpu_2&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">video_path</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">new_fps_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="n">gpu_cb</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">create_run_frm</span><span class="p">(</span><span class="n">run_function</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">)</span>
        <span class="c1">#self.main_frm.mainloop()</span>

<div class="viewcode-block" id="ChangeFpsSingleVideoPopUp.run"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.ChangeFpsSingleVideoPopUp.run">[docs]</a>    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">video_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">video_path</span><span class="o">.</span><span class="n">file_path</span>
        <span class="n">video_meta_data</span> <span class="o">=</span> <span class="n">get_video_meta_data</span><span class="p">(</span><span class="n">video_path</span><span class="o">=</span><span class="n">video_path</span><span class="p">)</span>
        <span class="n">_</span><span class="p">,</span> <span class="n">video_name</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">get_fn_ext</span><span class="p">(</span><span class="n">filepath</span><span class="o">=</span><span class="n">video_path</span><span class="p">)</span>
        <span class="n">new_fps</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">new_fps_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">())</span>
        <span class="n">gpu</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gpu_var</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">video_meta_data</span><span class="p">[</span><span class="s1">&#39;fps&#39;</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">new_fps</span><span class="p">:</span>
            <span class="n">FrameRangeWarning</span><span class="p">(</span><span class="n">msg</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;For video </span><span class="si">{</span><span class="n">video_name</span><span class="si">}</span><span class="s1">, the new FPS (</span><span class="si">{</span><span class="n">new_fps</span><span class="si">}</span><span class="s1">) is higher or the same as the original FPS (</span><span class="si">{</span><span class="n">video_meta_data</span><span class="p">[</span><span class="s2">&quot;fps&quot;</span><span class="p">]</span><span class="si">}</span><span class="s1">)&#39;</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
        <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">change_single_video_fps</span><span class="p">(</span><span class="n">file_path</span><span class="o">=</span><span class="n">video_path</span><span class="p">,</span> <span class="n">fps</span><span class="o">=</span><span class="n">new_fps</span><span class="p">,</span> <span class="n">gpu</span><span class="o">=</span><span class="n">gpu</span><span class="p">))</span><span class="o">.</span><span class="n">start</span><span class="p">()</span></div></div>


<div class="viewcode-block" id="ChangeFpsMultipleVideosPopUp"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.ChangeFpsMultipleVideosPopUp">[docs]</a><span class="k">class</span> <span class="nc">ChangeFpsMultipleVideosPopUp</span><span class="p">(</span><span class="n">PopUpMixin</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">PopUpMixin</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;CHANGE FRAME RATE: MULTIPLE VIDEO&quot;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">500</span><span class="p">,</span> <span class="mi">300</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">directory_path</span> <span class="o">=</span> <span class="n">FolderSelect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="s2">&quot;VIDEO DIRECTORY PATH:&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select folder with videos: &quot;</span><span class="p">,</span> <span class="n">lblwidth</span><span class="o">=</span><span class="s2">&quot;25&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">new_fps_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="s2">&quot;NEW FPS:&quot;</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">101</span><span class="p">,</span> <span class="mi">1</span><span class="p">)),</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">new_fps_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span>
        <span class="n">gpu_cb</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">gpu_var</span> <span class="o">=</span> <span class="n">SimbaCheckbox</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">txt</span><span class="o">=</span><span class="s2">&quot;Use GPU (reduced runtime)&quot;</span><span class="p">,</span> <span class="n">txt_img</span><span class="o">=</span><span class="s1">&#39;gpu_2&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">directory_path</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">new_fps_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="n">gpu_cb</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">create_run_frm</span><span class="p">(</span><span class="n">run_function</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="o">.</span><span class="n">mainloop</span><span class="p">()</span>

<div class="viewcode-block" id="ChangeFpsMultipleVideosPopUp.run"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.ChangeFpsMultipleVideosPopUp.run">[docs]</a>    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">video_dir</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">directory_path</span><span class="o">.</span><span class="n">folder_path</span>
        <span class="n">check_if_dir_exists</span><span class="p">(</span><span class="n">in_dir</span><span class="o">=</span><span class="n">video_dir</span><span class="p">)</span>
        <span class="n">_</span> <span class="o">=</span> <span class="n">find_all_videos_in_directory</span><span class="p">(</span><span class="n">directory</span><span class="o">=</span><span class="n">video_dir</span><span class="p">,</span> <span class="n">raise_error</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">new_fps</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">new_fps_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">())</span>
        <span class="n">gpu</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gpu_var</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
        <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">change_fps_of_multiple_videos</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">video_dir</span><span class="p">,</span> <span class="n">fps</span><span class="o">=</span><span class="n">new_fps</span><span class="p">,</span> <span class="n">gpu</span><span class="o">=</span><span class="n">gpu</span><span class="p">))</span><span class="o">.</span><span class="n">start</span><span class="p">()</span></div></div>

<div class="viewcode-block" id="ExtractSEQFramesPopUp"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.ExtractSEQFramesPopUp">[docs]</a><span class="k">class</span> <span class="nc">ExtractSEQFramesPopUp</span><span class="p">(</span><span class="n">PopUpMixin</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">PopUpMixin</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;EXTRACT ALL FRAMES FROM SEQ FILE&quot;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="n">video_path</span> <span class="o">=</span> <span class="n">FileSelect</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span>
            <span class="s2">&quot;Video Path&quot;</span><span class="p">,</span>
            <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select a video file: &quot;</span><span class="p">,</span>
            <span class="n">file_types</span><span class="o">=</span><span class="p">[(</span><span class="s2">&quot;VIDEO FILE&quot;</span><span class="p">,</span> <span class="n">Options</span><span class="o">.</span><span class="n">ALL_VIDEO_FORMAT_STR_OPTIONS</span><span class="o">.</span><span class="n">value</span><span class="p">)],</span>
        <span class="p">)</span>
        <span class="n">run_btn</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span>
            <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Extract All Frames&quot;</span><span class="p">,</span>
            <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="n">extract_seq_frames</span><span class="p">(</span><span class="n">video_path</span><span class="o">.</span><span class="n">file_path</span><span class="p">),</span>
        <span class="p">)</span>
        <span class="n">video_path</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">run_btn</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span></div>


<div class="viewcode-block" id="MergeFrames2VideoPopUp"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.MergeFrames2VideoPopUp">[docs]</a><span class="k">class</span> <span class="nc">MergeFrames2VideoPopUp</span><span class="p">(</span><span class="n">PopUpMixin</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">PopUpMixin</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;MERGE IMAGE DIRECTORY INTO VIDEO&quot;</span><span class="p">)</span>
        <span class="n">settings_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;SETTINGS&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">folder_path</span> <span class="o">=</span> <span class="n">FolderSelect</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;IMAGE DIRECTORY: &quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select directory with frames: &quot;</span><span class="p">,</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">video_fps_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;VIDEO FPS:&quot;</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">101</span><span class="p">,</span> <span class="mi">1</span><span class="p">)),</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">video_quality_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;VIDEO QUALITY:&quot;</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">110</span><span class="p">,</span> <span class="mi">10</span><span class="p">)),</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">video_format_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;VIDEO FORMAT:&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;mp4&#39;</span><span class="p">,</span> <span class="s1">&#39;avi&#39;</span><span class="p">,</span> <span class="s1">&#39;webm&#39;</span><span class="p">],</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="n">gpu_cb</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">gpu_var</span> <span class="o">=</span> <span class="n">SimbaCheckbox</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">settings_frm</span><span class="p">,</span> <span class="n">txt</span><span class="o">=</span><span class="s2">&quot;Use GPU (reduced runtime)&quot;</span><span class="p">,</span> <span class="n">txt_img</span><span class="o">=</span><span class="s1">&#39;gpu_2&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">video_quality_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="mi">60</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">video_format_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="s1">&#39;mp4&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">video_fps_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span>

        <span class="n">settings_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">folder_path</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">video_fps_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">video_quality_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">video_format_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="n">gpu_cb</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">create_run_frm</span><span class="p">(</span><span class="n">run_function</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="o">.</span><span class="n">mainloop</span><span class="p">()</span>


<div class="viewcode-block" id="MergeFrames2VideoPopUp.run"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.MergeFrames2VideoPopUp.run">[docs]</a>    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">directory</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">folder_path</span><span class="o">.</span><span class="n">folder_path</span>
        <span class="n">_</span> <span class="o">=</span> <span class="n">find_files_of_filetypes_in_directory</span><span class="p">(</span><span class="n">directory</span><span class="o">=</span><span class="n">directory</span><span class="p">,</span> <span class="n">extensions</span><span class="o">=</span><span class="n">Options</span><span class="o">.</span><span class="n">ALL_IMAGE_FORMAT_OPTIONS</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">raise_error</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">raise_warning</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">fps</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">video_fps_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">())</span>
        <span class="n">quality</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">video_quality_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">())</span>
        <span class="n">gpu</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gpu_var</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
        <span class="nb">format</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">video_format_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">()</span>
        <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">frames_to_movie</span><span class="p">(</span><span class="n">directory</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">folder_path</span><span class="o">.</span><span class="n">folder_path</span><span class="p">,</span>
                                         <span class="n">fps</span><span class="o">=</span><span class="n">fps</span><span class="p">,</span>
                                         <span class="n">quality</span><span class="o">=</span><span class="n">quality</span><span class="p">,</span>
                                         <span class="n">out_format</span><span class="o">=</span><span class="nb">format</span><span class="p">,</span>
                                         <span class="n">gpu</span><span class="o">=</span><span class="n">gpu</span><span class="p">))</span><span class="o">.</span><span class="n">start</span><span class="p">()</span></div></div>


<div class="viewcode-block" id="CreateGIFPopUP"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.CreateGIFPopUP">[docs]</a><span class="k">class</span> <span class="nc">CreateGIFPopUP</span><span class="p">(</span><span class="n">PopUpMixin</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">PopUpMixin</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;CREATE GIF FROM VIDEO&quot;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">600</span><span class="p">,</span> <span class="mi">400</span><span class="p">))</span>
        <span class="n">settings_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;SETTINGS&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video</span> <span class="o">=</span> <span class="n">FileSelect</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;VIDEO PATH: &quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select a video file&quot;</span><span class="p">,</span> <span class="n">file_types</span><span class="o">=</span><span class="p">[(</span><span class="s2">&quot;VIDEO FILE&quot;</span><span class="p">,</span> <span class="n">Options</span><span class="o">.</span><span class="n">ALL_VIDEO_FORMAT_STR_OPTIONS</span><span class="o">.</span><span class="n">value</span><span class="p">)],</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">40</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">start_time_entry_box</span> <span class="o">=</span> <span class="n">Entry_Box</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;START TIME (s):&quot;</span><span class="p">,</span> <span class="s2">&quot;40&quot;</span><span class="p">,</span> <span class="n">validation</span><span class="o">=</span><span class="s2">&quot;numeric&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">duration_entry_box</span> <span class="o">=</span> <span class="n">Entry_Box</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;DURATION (s): &quot;</span><span class="p">,</span> <span class="s2">&quot;40&quot;</span><span class="p">,</span> <span class="n">validation</span><span class="o">=</span><span class="s2">&quot;numeric&quot;</span><span class="p">)</span>
        <span class="n">resolution_widths</span> <span class="o">=</span> <span class="n">Options</span><span class="o">.</span><span class="n">RESOLUTION_OPTIONS_2</span><span class="o">.</span><span class="n">value</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resolution_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;GIF WIDTH (ASPECT RATIO RETAINED):&quot;</span><span class="p">,</span> <span class="n">resolution_widths</span><span class="p">,</span> <span class="s2">&quot;40&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">quality_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;GIF QUALITY (%):&quot;</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">101</span><span class="p">,</span> <span class="mi">1</span><span class="p">)),</span> <span class="s2">&quot;40&quot;</span><span class="p">)</span>
        <span class="n">fps_lst</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">101</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
        <span class="n">fps_lst</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;AUTO&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fps_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;GIF FPS:&quot;</span><span class="p">,</span> <span class="n">fps_lst</span><span class="p">,</span> <span class="s2">&quot;40&quot;</span><span class="p">)</span>
        <span class="n">gpu_cb</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">gpu_var</span> <span class="o">=</span> <span class="n">SimbaCheckbox</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">settings_frm</span><span class="p">,</span> <span class="n">txt</span><span class="o">=</span><span class="s2">&quot;Use GPU (reduced runtime)&quot;</span><span class="p">,</span> <span class="n">txt_img</span><span class="o">=</span><span class="s1">&#39;gpu_2&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">quality_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resolution_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="s1">&#39;AUTO&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fps_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="s1">&#39;AUTO&#39;</span><span class="p">)</span>
        <span class="n">settings_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">start_time_entry_box</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">duration_entry_box</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resolution_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">quality_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fps_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="n">gpu_cb</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">create_run_frm</span><span class="p">(</span><span class="n">run_function</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="o">.</span><span class="n">mainloop</span><span class="p">()</span>

<div class="viewcode-block" id="CreateGIFPopUP.run"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.CreateGIFPopUP.run">[docs]</a>    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">video_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_video</span><span class="o">.</span><span class="n">file_path</span>
        <span class="n">width</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">resolution_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">()</span>
        <span class="n">start_time</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">start_time_entry_box</span><span class="o">.</span><span class="n">entry_get</span>
        <span class="n">duration</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">duration_entry_box</span><span class="o">.</span><span class="n">entry_get</span>
        <span class="n">fps</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fps_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">()</span>
        <span class="n">quality</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">quality_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">())</span>
        <span class="n">gpu</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gpu_var</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
        <span class="n">check_ffmpeg_available</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">gpu</span><span class="p">:</span> <span class="n">check_nvidea_gpu_available</span><span class="p">()</span>
        <span class="n">check_file_exist_and_readable</span><span class="p">(</span><span class="n">file_path</span><span class="o">=</span><span class="n">video_path</span><span class="p">)</span>
        <span class="n">video_meta_data</span> <span class="o">=</span> <span class="n">get_video_meta_data</span><span class="p">(</span><span class="n">video_path</span><span class="o">=</span><span class="n">video_path</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">width</span> <span class="o">==</span> <span class="s1">&#39;AUTO&#39;</span><span class="p">:</span> <span class="n">width</span> <span class="o">=</span> <span class="n">video_meta_data</span><span class="p">[</span><span class="s1">&#39;width&#39;</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span> <span class="n">width</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">width</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">fps</span> <span class="o">==</span> <span class="s1">&#39;AUTO&#39;</span><span class="p">:</span> <span class="n">fps</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">video_meta_data</span><span class="p">[</span><span class="s1">&#39;fps&#39;</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span> <span class="n">fps</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">fps</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">fps</span> <span class="o">&gt;</span> <span class="nb">int</span><span class="p">(</span><span class="n">video_meta_data</span><span class="p">[</span><span class="s1">&#39;fps&#39;</span><span class="p">]):</span>
            <span class="n">FrameRangeWarning</span><span class="p">(</span><span class="n">msg</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;The chosen FPS (</span><span class="si">{</span><span class="n">fps</span><span class="si">}</span><span class="s1">) is higher than the video FPS (</span><span class="si">{</span><span class="n">video_meta_data</span><span class="p">[</span><span class="s2">&quot;fps&quot;</span><span class="p">]</span><span class="si">}</span><span class="s1">). The video FPS will be used&#39;</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
            <span class="n">fps</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">video_meta_data</span><span class="p">[</span><span class="s1">&#39;fps&#39;</span><span class="p">])</span>
        <span class="n">max_duration</span> <span class="o">=</span> <span class="n">video_meta_data</span><span class="p">[</span><span class="s1">&#39;video_length_s&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="nb">int</span><span class="p">(</span><span class="n">start_time</span><span class="p">)</span>
        <span class="n">check_int</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;start_time&#39;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">start_time</span><span class="p">,</span> <span class="n">max_value</span><span class="o">=</span><span class="n">video_meta_data</span><span class="p">[</span><span class="s1">&#39;video_length_s&#39;</span><span class="p">],</span> <span class="n">min_value</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">check_int</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;duration&#39;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">duration</span><span class="p">,</span> <span class="n">max_value</span><span class="o">=</span><span class="n">max_duration</span><span class="p">,</span> <span class="n">min_value</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

        <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">gif_creator</span><span class="p">(</span><span class="n">file_path</span><span class="o">=</span><span class="n">video_path</span><span class="p">,</span>
                                            <span class="n">start_time</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">start_time</span><span class="p">),</span>
                                            <span class="n">duration</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">duration</span><span class="p">),</span>
                                            <span class="n">width</span><span class="o">=</span><span class="n">width</span><span class="p">,</span>
                                            <span class="n">gpu</span><span class="o">=</span><span class="n">gpu</span><span class="p">,</span>
                                            <span class="n">fps</span><span class="o">=</span><span class="n">fps</span><span class="p">,</span>
                                            <span class="n">quality</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">quality</span><span class="p">)))</span><span class="o">.</span><span class="n">start</span><span class="p">()</span></div></div>

<div class="viewcode-block" id="CalculatePixelsPerMMInVideoPopUp"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.CalculatePixelsPerMMInVideoPopUp">[docs]</a><span class="k">class</span> <span class="nc">CalculatePixelsPerMMInVideoPopUp</span><span class="p">(</span><span class="n">PopUpMixin</span><span class="p">):</span>

<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    .. video:: _static/img/GetPixelsPerMillimeterInterface.webm</span>
<span class="sd">       :width: 800</span>
<span class="sd">       :autoplay:</span>
<span class="sd">       :loop:</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">PopUpMixin</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;CALCULATE PIXELS PER MILLIMETER IN VIDEO&quot;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">550</span><span class="p">,</span> <span class="mi">550</span><span class="p">))</span>
        <span class="n">settings_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;SETTINGS&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">video_path</span> <span class="o">=</span> <span class="n">FileSelect</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;Select a video file: &quot;</span><span class="p">,</span>  <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select a video file&quot;</span><span class="p">,</span> <span class="n">file_types</span><span class="o">=</span><span class="p">[(</span><span class="s2">&quot;VIDEO&quot;</span><span class="p">,</span> <span class="n">Options</span><span class="o">.</span><span class="n">ALL_VIDEO_FORMAT_STR_OPTIONS</span><span class="o">.</span><span class="n">value</span><span class="p">)],</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">known_distance</span> <span class="o">=</span> <span class="n">Entry_Box</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;Known real-life metric distance (mm): &quot;</span><span class="p">,</span> <span class="s2">&quot;30&quot;</span><span class="p">,</span> <span class="n">validation</span><span class="o">=</span><span class="s2">&quot;numeric&quot;</span><span class="p">)</span>
        <span class="n">run_btn</span> <span class="o">=</span> <span class="n">SimbaButton</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">settings_frm</span><span class="p">,</span> <span class="n">txt</span><span class="o">=</span><span class="s2">&quot;GET PIXELS PER MILLIMETER&quot;</span><span class="p">,</span> <span class="n">img</span><span class="o">=</span><span class="s1">&#39;rocket&#39;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">cmd</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">)</span>
        <span class="n">settings_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">video_path</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">known_distance</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="n">run_btn</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="o">.</span><span class="n">mainloop</span><span class="p">()</span>

<div class="viewcode-block" id="CalculatePixelsPerMMInVideoPopUp.run"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.CalculatePixelsPerMMInVideoPopUp.run">[docs]</a>    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">check_file_exist_and_readable</span><span class="p">(</span><span class="n">file_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">video_path</span><span class="o">.</span><span class="n">file_path</span><span class="p">)</span>
        <span class="n">check_int</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Distance&quot;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">known_distance</span><span class="o">.</span><span class="n">entry_get</span><span class="p">,</span> <span class="n">min_value</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">_</span> <span class="o">=</span> <span class="n">get_video_meta_data</span><span class="p">(</span><span class="n">video_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">video_path</span><span class="o">.</span><span class="n">file_path</span><span class="p">)</span>
        <span class="n">px_per_mm_interface</span> <span class="o">=</span> <span class="n">GetPixelsPerMillimeterInterface</span><span class="p">(</span><span class="n">video_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">video_path</span><span class="o">.</span><span class="n">file_path</span><span class="p">,</span> <span class="n">known_metric_mm</span><span class="o">=</span><span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">known_distance</span><span class="o">.</span><span class="n">entry_get</span><span class="p">))</span>
        <span class="n">px_per_mm_interface</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;ONE (1) PIXEL REPRESENTS </span><span class="si">{</span><span class="nb">round</span><span class="p">(</span><span class="n">px_per_mm_interface</span><span class="o">.</span><span class="n">ppm</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span><span class="si">}</span><span class="s2"> MILLIMETERS IN VIDEO </span><span class="si">{</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">video_path</span><span class="o">.</span><span class="n">file_path</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span></div></div>

<div class="viewcode-block" id="ConcatenatingVideosPopUp"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.ConcatenatingVideosPopUp">[docs]</a><span class="k">class</span> <span class="nc">ConcatenatingVideosPopUp</span><span class="p">(</span><span class="n">PopUpMixin</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">PopUpMixin</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;CONCATENATE TWO VIDEOS&quot;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">600</span><span class="p">,</span> <span class="mi">300</span><span class="p">))</span>
        <span class="n">settings_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;SETTINGS&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">video_path_1</span> <span class="o">=</span> <span class="n">FileSelect</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;FIRST VIDEO PATH: &quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select a video file&quot;</span><span class="p">,</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">35</span><span class="p">,</span> <span class="n">file_types</span><span class="o">=</span><span class="p">[(</span><span class="s2">&quot;VIDEO&quot;</span><span class="p">,</span> <span class="n">Options</span><span class="o">.</span><span class="n">ALL_VIDEO_FORMAT_STR_OPTIONS</span><span class="o">.</span><span class="n">value</span><span class="p">)])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">video_path_2</span> <span class="o">=</span> <span class="n">FileSelect</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;SECOND VIDEO PATH: &quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select a video file&quot;</span><span class="p">,</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">35</span><span class="p">,</span> <span class="n">file_types</span><span class="o">=</span><span class="p">[(</span><span class="s2">&quot;VIDEO&quot;</span><span class="p">,</span> <span class="n">Options</span><span class="o">.</span><span class="n">ALL_VIDEO_FORMAT_STR_OPTIONS</span><span class="o">.</span><span class="n">value</span><span class="p">)])</span>
        <span class="n">resolutions</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;VIDEO 1&quot;</span><span class="p">,</span> <span class="s2">&quot;VIDEO 2&quot;</span><span class="p">,</span> <span class="mi">240</span><span class="p">,</span> <span class="mi">320</span><span class="p">,</span> <span class="mi">480</span><span class="p">,</span> <span class="mi">640</span><span class="p">,</span> <span class="mi">720</span><span class="p">,</span> <span class="mi">800</span><span class="p">,</span> <span class="mi">960</span><span class="p">,</span> <span class="mi">1120</span><span class="p">,</span> <span class="mi">1080</span><span class="p">,</span> <span class="mi">1980</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resolution_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;RESOLUTION (ASPECT RATIO RETAINED):&quot;</span><span class="p">,</span> <span class="n">resolutions</span><span class="p">,</span> <span class="s2">&quot;35&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resolution_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="n">resolutions</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">horizontal</span> <span class="o">=</span> <span class="n">BooleanVar</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">horizontal_radio_btn</span> <span class="o">=</span> <span class="n">Radiobutton</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;HORIZONTAL concatenation&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">horizontal</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gpu_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;USE GPU (REDUCED RUN-TIME):&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;TRUE&#39;</span><span class="p">,</span> <span class="s1">&#39;FALSE&#39;</span><span class="p">],</span> <span class="s2">&quot;35&quot;</span><span class="p">)</span>
        <span class="n">vertical_radio_btn</span> <span class="o">=</span> <span class="n">Radiobutton</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;VERTICAL concatenation&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">horizontal</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gpu_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="s1">&#39;FALSE&#39;</span><span class="p">)</span>
        <span class="n">settings_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">video_path_1</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">video_path_2</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resolution_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gpu_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="n">horizontal_radio_btn</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="n">vertical_radio_btn</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">create_run_frm</span><span class="p">(</span><span class="n">run_function</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="o">.</span><span class="n">mainloop</span><span class="p">()</span>

<div class="viewcode-block" id="ConcatenatingVideosPopUp.run"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.ConcatenatingVideosPopUp.run">[docs]</a>    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">video_1_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">video_path_1</span><span class="o">.</span><span class="n">file_path</span>
        <span class="n">video_2_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">video_path_2</span><span class="o">.</span><span class="n">file_path</span>
        <span class="n">resolution</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">resolution_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">()</span>
        <span class="n">int_res</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">check_int</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;resolution&#39;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">resolution</span><span class="p">,</span> <span class="n">raise_error</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">int_res</span><span class="p">:</span>
            <span class="n">resolution</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">resolution</span><span class="p">)</span>
        <span class="n">horizontal_bool</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">horizontal</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
        <span class="n">gpu_bool</span> <span class="o">=</span> <span class="n">str_2_bool</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">gpu_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">())</span>
        <span class="n">check_file_exist_and_readable</span><span class="p">(</span><span class="n">file_path</span><span class="o">=</span><span class="n">video_1_path</span><span class="p">)</span>
        <span class="n">check_file_exist_and_readable</span><span class="p">(</span><span class="n">file_path</span><span class="o">=</span><span class="n">video_2_path</span><span class="p">)</span>
        <span class="n">video_1_meta</span> <span class="o">=</span> <span class="n">get_video_meta_data</span><span class="p">(</span><span class="n">video_path</span><span class="o">=</span><span class="n">video_1_path</span><span class="p">)</span>
        <span class="n">video_2_meta</span> <span class="o">=</span> <span class="n">get_video_meta_data</span><span class="p">(</span><span class="n">video_path</span><span class="o">=</span><span class="n">video_2_path</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">horizontal_bool</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">int_res</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">video_1_meta</span><span class="p">[</span><span class="s1">&#39;height&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">video_2_meta</span><span class="p">[</span><span class="s1">&#39;height&#39;</span><span class="p">]:</span>
                <span class="k">raise</span> <span class="n">ResolutionError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;For HORIZONTAL concatenation, the videos has to be the same height. Got Video 1 height: </span><span class="si">{</span><span class="n">video_1_meta</span><span class="p">[</span><span class="s2">&quot;height&quot;</span><span class="p">]</span><span class="si">}</span><span class="s1">, Video 2 height: </span><span class="si">{</span><span class="n">video_2_meta</span><span class="p">[</span><span class="s2">&quot;height&quot;</span><span class="p">]</span><span class="si">}</span><span class="s1">. Select a specific resolution or convert the video resolution heights of the two videos first to be the same.&#39;</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
        <span class="k">elif</span> <span class="ow">not</span> <span class="n">horizontal_bool</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">int_res</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">video_1_meta</span><span class="p">[</span><span class="s1">&#39;width&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">video_2_meta</span><span class="p">[</span><span class="s1">&#39;width&#39;</span><span class="p">]:</span>
                <span class="k">raise</span> <span class="n">ResolutionError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;For VERTICAL concatenation, the videos has to be the same width. Got Video 1 width: </span><span class="si">{</span><span class="n">video_1_meta</span><span class="p">[</span><span class="s2">&quot;width&quot;</span><span class="p">]</span><span class="si">}</span><span class="s1">, Video 2 width: </span><span class="si">{</span><span class="n">video_2_meta</span><span class="p">[</span><span class="s2">&quot;width&quot;</span><span class="p">]</span><span class="si">}</span><span class="s1">. Select a specific resolution or convert the video resolution widths of the two videos first to be the same.&#39;</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
        <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">video_concatenator</span><span class="p">(</span><span class="n">video_one_path</span><span class="o">=</span><span class="n">video_1_path</span><span class="p">,</span> <span class="n">video_two_path</span><span class="o">=</span><span class="n">video_2_path</span><span class="p">,</span> <span class="n">resolution</span><span class="o">=</span><span class="n">resolution</span><span class="p">,</span> <span class="n">horizontal</span><span class="o">=</span><span class="n">horizontal_bool</span><span class="p">,</span> <span class="n">gpu</span><span class="o">=</span><span class="n">gpu_bool</span><span class="p">))</span><span class="o">.</span><span class="n">start</span><span class="p">()</span></div></div>

<div class="viewcode-block" id="ConcatenatorPopUp"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.ConcatenatorPopUp">[docs]</a><span class="k">class</span> <span class="nc">ConcatenatorPopUp</span><span class="p">(</span><span class="n">PopUpMixin</span><span class="p">,</span> <span class="n">ConfigReader</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">PathLike</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
        <span class="n">PopUpMixin</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;MERGE (CONCATENATE) VIDEOS&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">config_path</span> <span class="o">=</span> <span class="n">config_path</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">select_video_cnt_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;VIDEOS #&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">CONCAT_VIDEOS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">select_video_cnt_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">select_video_cnt_frm</span><span class="p">,</span> <span class="s2">&quot;VIDEOS #&quot;</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">21</span><span class="p">)),</span> <span class="s2">&quot;15&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">select_video_cnt_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">select_video_cnt_btn</span>  <span class="o">=</span> <span class="n">SimbaButton</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">select_video_cnt_frm</span><span class="p">,</span> <span class="n">txt</span><span class="o">=</span><span class="s2">&quot;APPLY&quot;</span><span class="p">,</span> <span class="n">img</span><span class="o">=</span><span class="s1">&#39;tick&#39;</span><span class="p">,</span> <span class="n">txt_clr</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">cmd</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">populate_table</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">select_video_cnt_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">select_video_cnt_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">select_video_cnt_btn</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="o">.</span><span class="n">mainloop</span><span class="p">()</span>

<div class="viewcode-block" id="ConcatenatorPopUp.populate_table"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.ConcatenatorPopUp.populate_table">[docs]</a>    <span class="k">def</span> <span class="nf">populate_table</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;video_table_frm&quot;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">video_table_frm</span><span class="o">.</span><span class="n">destroy</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">join_type_frm</span><span class="o">.</span><span class="n">destroy</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">video_table_frm</span> <span class="o">=</span> <span class="n">LabelFrame</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span>
            <span class="n">text</span><span class="o">=</span><span class="s2">&quot;VIDEO PATHS&quot;</span><span class="p">,</span>
            <span class="n">pady</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
            <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
            <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_HEADER</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">fg</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">video_table_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">join_type_frm</span> <span class="o">=</span> <span class="n">LabelFrame</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span>
            <span class="n">text</span><span class="o">=</span><span class="s2">&quot;JOIN TYPE&quot;</span><span class="p">,</span>
            <span class="n">pady</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
            <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
            <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_HEADER</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">fg</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">join_type_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">videos_dict</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">cnt</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">select_video_cnt_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">())):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">videos_dict</span><span class="p">[</span><span class="n">cnt</span><span class="p">]</span> <span class="o">=</span> <span class="n">FileSelect</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">video_table_frm</span><span class="p">,</span>
                <span class="s2">&quot;Video </span><span class="si">{}</span><span class="s2">: &quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">cnt</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)),</span>
                <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select a video file&quot;</span><span class="p">,</span>
                <span class="n">file_types</span><span class="o">=</span><span class="p">[(</span><span class="s2">&quot;VIDEO&quot;</span><span class="p">,</span> <span class="n">Options</span><span class="o">.</span><span class="n">ALL_VIDEO_FORMAT_STR_OPTIONS</span><span class="o">.</span><span class="n">value</span><span class="p">)],</span>
            <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">videos_dict</span><span class="p">[</span><span class="n">cnt</span><span class="p">]</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="n">cnt</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">join_type_var</span> <span class="o">=</span> <span class="n">StringVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">icons_dict</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">simba_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">simba</span><span class="o">.</span><span class="vm">__file__</span><span class="p">)</span>
        <span class="n">icon_assets_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">simba_dir</span><span class="p">,</span> <span class="n">Paths</span><span class="o">.</span><span class="n">ICON_ASSETS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="n">concat_icon_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">icon_assets_dir</span><span class="p">,</span> <span class="s2">&quot;concat_icons&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">file_cnt</span><span class="p">,</span> <span class="n">file_path</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="n">concat_icon_dir</span> <span class="o">+</span> <span class="s2">&quot;/*.png&quot;</span><span class="p">)):</span>
            <span class="n">_</span><span class="p">,</span> <span class="n">file_name</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">get_fn_ext</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">icons_dict</span><span class="p">[</span><span class="n">file_name</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">icons_dict</span><span class="p">[</span><span class="n">file_name</span><span class="p">][</span><span class="s2">&quot;img&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ImageTk</span><span class="o">.</span><span class="n">PhotoImage</span><span class="p">(</span>
                <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>
            <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">icons_dict</span><span class="p">[</span><span class="n">file_name</span><span class="p">][</span><span class="s2">&quot;btn&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Radiobutton</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">join_type_frm</span><span class="p">,</span>
                <span class="n">text</span><span class="o">=</span><span class="n">file_name</span><span class="p">,</span>
                <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">join_type_var</span><span class="p">,</span>
                <span class="n">value</span><span class="o">=</span><span class="n">file_name</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">icons_dict</span><span class="p">[</span><span class="n">file_name</span><span class="p">][</span><span class="s2">&quot;btn&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">config</span><span class="p">(</span>
                <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">icons_dict</span><span class="p">[</span><span class="n">file_name</span><span class="p">][</span><span class="s2">&quot;img&quot;</span><span class="p">]</span>
            <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">icons_dict</span><span class="p">[</span><span class="n">file_name</span><span class="p">][</span><span class="s2">&quot;btn&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">icons_dict</span><span class="p">[</span><span class="n">file_name</span><span class="p">][</span><span class="s2">&quot;img&quot;</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">icons_dict</span><span class="p">[</span><span class="n">file_name</span><span class="p">][</span><span class="s2">&quot;btn&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="n">file_cnt</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">join_type_var</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="s2">&quot;mosaic&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resolution_frm</span> <span class="o">=</span> <span class="n">LabelFrame</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span>
            <span class="n">text</span><span class="o">=</span><span class="s2">&quot;RESOLUTION&quot;</span><span class="p">,</span>
            <span class="n">pady</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
            <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
            <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_HEADER</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">fg</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resolution_width</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">resolution_frm</span><span class="p">,</span> <span class="s2">&quot;Width&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;480&quot;</span><span class="p">,</span> <span class="s2">&quot;640&quot;</span><span class="p">,</span> <span class="s2">&quot;1280&quot;</span><span class="p">,</span> <span class="s2">&quot;1920&quot;</span><span class="p">,</span> <span class="s2">&quot;2560&quot;</span><span class="p">],</span> <span class="s2">&quot;15&quot;</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resolution_width</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="s2">&quot;480&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resolution_height</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">resolution_frm</span><span class="p">,</span> <span class="s2">&quot;Height&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;480&quot;</span><span class="p">,</span> <span class="s2">&quot;640&quot;</span><span class="p">,</span> <span class="s2">&quot;1280&quot;</span><span class="p">,</span> <span class="s2">&quot;1920&quot;</span><span class="p">,</span> <span class="s2">&quot;2560&quot;</span><span class="p">],</span> <span class="s2">&quot;15&quot;</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resolution_height</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="s2">&quot;640&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gpu_frm</span> <span class="o">=</span> <span class="n">LabelFrame</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span>
            <span class="n">text</span><span class="o">=</span><span class="s2">&quot;GPU&quot;</span><span class="p">,</span>
            <span class="n">pady</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
            <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
            <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_HEADER</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">fg</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">use_gpu_cb</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_gpu_var</span> <span class="o">=</span> <span class="n">SimbaCheckbox</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">gpu_frm</span><span class="p">,</span> <span class="n">txt</span><span class="o">=</span><span class="s2">&quot;Use GPU (reduced runtime)&quot;</span><span class="p">,</span> <span class="n">txt_img</span><span class="o">=</span><span class="s1">&#39;gpu_2&#39;</span><span class="p">)</span>


        <span class="n">use_gpu_cb</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resolution_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gpu_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resolution_width</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resolution_height</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>

        <span class="n">run_btn</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;RUN&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">())</span>
        <span class="n">run_btn</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span></div>

<div class="viewcode-block" id="ConcatenatorPopUp.run"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.ConcatenatorPopUp.run">[docs]</a>    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">file_paths</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">cnt</span><span class="p">,</span> <span class="p">(</span><span class="n">video_name</span><span class="p">,</span> <span class="n">video_data</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">videos_dict</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
            <span class="n">_</span> <span class="o">=</span> <span class="n">get_video_meta_data</span><span class="p">(</span><span class="n">video_path</span><span class="o">=</span><span class="n">video_data</span><span class="o">.</span><span class="n">file_path</span><span class="p">)</span>
            <span class="n">file_paths</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">video_data</span><span class="o">.</span><span class="n">file_path</span><span class="p">)</span>

        <span class="k">if</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">file_paths</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">join_type_var</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;mixed_mosaic&quot;</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">MixedMosaicError</span><span class="p">(</span>
                <span class="n">msg</span><span class="o">=</span><span class="s2">&quot;If using the mixed mosaic join type, please tick check-boxes for at least three video types.&quot;</span><span class="p">,</span>
                <span class="n">source</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">if</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">file_paths</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">join_type_var</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;mosaic&quot;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">join_type_var</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="s2">&quot;vertical&quot;</span><span class="p">)</span>

        <span class="n">video_merger</span> <span class="o">=</span> <span class="n">FrameMergererFFmpeg</span><span class="p">(</span>
            <span class="n">config_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config_path</span><span class="p">,</span>
            <span class="n">video_paths</span><span class="o">=</span><span class="n">file_paths</span><span class="p">,</span>
            <span class="n">video_height</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">resolution_height</span><span class="o">.</span><span class="n">getChoices</span><span class="p">()),</span>
            <span class="n">video_width</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">resolution_width</span><span class="o">.</span><span class="n">getChoices</span><span class="p">()),</span>
            <span class="n">concat_type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">join_type_var</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
            <span class="n">gpu</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">use_gpu_var</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
        <span class="p">)</span>

        <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">video_merger</span><span class="o">.</span><span class="n">run</span><span class="p">())</span></div></div>


<span class="c1">#ConcatenatorPopUp(config_path=&#39;/Users/simon/Desktop/envs/simba/troubleshooting/two_black_animals_14bp/project_folder/project_config.ini&#39;)</span>
<span class="c1">#ConcatenatorPopUp(config_path=None)</span>



<div class="viewcode-block" id="VideoRotatorPopUp"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.VideoRotatorPopUp">[docs]</a><span class="k">class</span> <span class="nc">VideoRotatorPopUp</span><span class="p">(</span><span class="n">PopUpMixin</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;ROTATE VIDEOS&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">save_dir_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;SAVE LOCATION&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">save_dir</span> <span class="o">=</span> <span class="n">FolderSelect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">save_dir_frm</span><span class="p">,</span> <span class="s2">&quot;Save directory:&quot;</span><span class="p">,</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">setting_frm</span> <span class="o">=</span> <span class="n">LabelFrame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;SETTINGS&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_HEADER</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>

        <span class="n">use_gpu_cb</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_gpu_var</span> <span class="o">=</span> <span class="n">SimbaCheckbox</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">setting_frm</span><span class="p">,</span> <span class="n">txt</span><span class="o">=</span><span class="s2">&quot;Use GPU (reduced runtime)&quot;</span><span class="p">,</span> <span class="n">txt_img</span><span class="o">=</span><span class="s1">&#39;gpu_2&#39;</span><span class="p">)</span>
        <span class="n">use_ffmpeg_cb</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_ffmpeg_var</span> <span class="o">=</span> <span class="n">SimbaCheckbox</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">setting_frm</span><span class="p">,</span> <span class="n">txt</span><span class="o">=</span><span class="s2">&quot;Use GPU (reduced runtime)&quot;</span><span class="p">)</span>
        <span class="n">use_gpu_cb</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="n">use_ffmpeg_cb</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">rotate_dir_frm</span> <span class="o">=</span> <span class="n">LabelFrame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;ROTATE VIDEOS IN DIRECTORY&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_HEADER</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">input_dir</span> <span class="o">=</span> <span class="n">FolderSelect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rotate_dir_frm</span><span class="p">,</span> <span class="s2">&quot;Video directory:&quot;</span><span class="p">,</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">run_dir</span> <span class="o">=</span> <span class="n">SimbaButton</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">rotate_dir_frm</span><span class="p">,</span> <span class="n">txt</span><span class="o">=</span><span class="s2">&quot;RUN&quot;</span><span class="p">,</span> <span class="n">img</span><span class="o">=</span><span class="s1">&#39;rocket&#39;</span><span class="p">,</span> <span class="n">txt_clr</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">cmd</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">,</span> <span class="n">cmd_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;input_path&#39;</span><span class="p">:</span> <span class="k">lambda</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">input_dir</span><span class="o">.</span><span class="n">folder_path</span><span class="p">,</span> <span class="s1">&#39;output_path&#39;</span><span class="p">:</span> <span class="k">lambda</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">save_dir</span><span class="o">.</span><span class="n">folder_path</span><span class="p">})</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">rotate_video_frm</span> <span class="o">=</span> <span class="n">LabelFrame</span><span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;ROTATE SINGLE VIDEO&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_HEADER</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">input_file</span> <span class="o">=</span> <span class="n">FileSelect</span><span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">rotate_video_frm</span><span class="p">,</span> <span class="s2">&quot;Video path:&quot;</span><span class="p">,</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">file_types</span><span class="o">=</span><span class="p">[(</span><span class="s2">&quot;VIDEO FILE&quot;</span><span class="p">,</span> <span class="n">Options</span><span class="o">.</span><span class="n">ALL_VIDEO_FORMAT_STR_OPTIONS</span><span class="o">.</span><span class="n">value</span><span class="p">)])</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">run_file</span> <span class="o">=</span> <span class="n">SimbaButton</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">rotate_video_frm</span><span class="p">,</span> <span class="n">txt</span><span class="o">=</span><span class="s2">&quot;RUN&quot;</span><span class="p">,</span> <span class="n">img</span><span class="o">=</span><span class="s1">&#39;rocket&#39;</span><span class="p">,</span> <span class="n">txt_clr</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">cmd</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">,</span> <span class="n">cmd_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;input_path&#39;</span><span class="p">:</span> <span class="k">lambda</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">input_file</span><span class="o">.</span><span class="n">file_path</span><span class="p">,</span> <span class="s1">&#39;output_path&#39;</span><span class="p">:</span> <span class="k">lambda</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">save_dir</span><span class="o">.</span><span class="n">folder_path</span><span class="p">})</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">save_dir_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">save_dir</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">setting_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">rotate_dir_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">input_dir</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">run_dir</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">rotate_video_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">input_file</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">run_file</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>

<div class="viewcode-block" id="VideoRotatorPopUp.run"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.VideoRotatorPopUp.run">[docs]</a>    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">input_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">output_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">check_if_dir_exists</span><span class="p">(</span><span class="n">in_dir</span><span class="o">=</span><span class="n">output_path</span><span class="p">)</span>
        <span class="n">rotator</span> <span class="o">=</span> <span class="n">VideoRotator</span><span class="p">(</span>
            <span class="n">input_path</span><span class="o">=</span><span class="n">input_path</span><span class="p">,</span>
            <span class="n">output_dir</span><span class="o">=</span><span class="n">output_path</span><span class="p">,</span>
            <span class="n">ffmpeg</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">use_ffmpeg_var</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
            <span class="n">gpu</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">use_gpu_var</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
        <span class="p">)</span>
        <span class="n">rotator</span><span class="o">.</span><span class="n">run</span><span class="p">()</span></div></div>


<div class="viewcode-block" id="VideoTemporalJoinPopUp"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.VideoTemporalJoinPopUp">[docs]</a><span class="k">class</span> <span class="nc">VideoTemporalJoinPopUp</span><span class="p">(</span><span class="n">PopUpMixin</span><span class="p">):</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;TEMPORAL JOIN VIDEOS&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">settings_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span>
                                                     <span class="n">header</span><span class="o">=</span><span class="s2">&quot;SETTINGS&quot;</span><span class="p">,</span>
                                                     <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
                                                     <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>

        <span class="n">FPS_OPTIONS</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">102</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
        <span class="n">FPS_OPTIONS</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;SAME AS THE FIRST INPUT VIDEO IN INPUT DIRECTORY&#39;</span><span class="p">)</span>
        <span class="n">FPS_OPTIONS</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;KEEP INPUT VIDEO FPS&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">input_dir</span> <span class="o">=</span> <span class="n">FolderSelect</span><span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;INPUT DIRECTORY:&quot;</span><span class="p">,</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file_format</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;INPUT VIDEO FORMAT:&quot;</span><span class="p">,</span> <span class="n">Options</span><span class="o">.</span><span class="n">VIDEO_FORMAT_OPTIONS</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="s2">&quot;30&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">out_fps</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;OUTPUT FPS:&quot;</span><span class="p">,</span> <span class="n">FPS_OPTIONS</span><span class="p">,</span> <span class="s2">&quot;30&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">out_fps</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="s1">&#39;SAME AS INPUT VIDEOS&#39;</span><span class="p">)</span>
        <span class="n">use_gpu_cb</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_gpu_var</span> <span class="o">=</span> <span class="n">SimbaCheckbox</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">settings_frm</span><span class="p">,</span> <span class="n">txt</span><span class="o">=</span><span class="s2">&quot;Use GPU (reduced runtime)&quot;</span><span class="p">,</span> <span class="n">txt_img</span><span class="o">=</span><span class="s1">&#39;gpu_2&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file_format</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="n">Options</span><span class="o">.</span><span class="n">VIDEO_FORMAT_OPTIONS</span><span class="o">.</span><span class="n">value</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">settings_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">input_dir</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file_format</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">out_fps</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="n">use_gpu_cb</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">create_run_frm</span><span class="p">(</span><span class="n">run_function</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="o">.</span><span class="n">mainloop</span><span class="p">()</span>

<div class="viewcode-block" id="VideoTemporalJoinPopUp.run"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.VideoTemporalJoinPopUp.run">[docs]</a>    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">check_if_dir_exists</span><span class="p">(</span><span class="n">in_dir</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">input_dir</span><span class="o">.</span><span class="n">folder_path</span><span class="p">)</span>
        <span class="n">_</span> <span class="o">=</span> <span class="n">find_files_of_filetypes_in_directory</span><span class="p">(</span><span class="n">directory</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">input_dir</span><span class="o">.</span><span class="n">folder_path</span><span class="p">,</span> <span class="n">extensions</span><span class="o">=</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;.</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">file_format</span><span class="o">.</span><span class="n">getChoices</span><span class="p">()</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">],</span> <span class="n">raise_error</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">fps_setting</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">out_fps</span><span class="o">.</span><span class="n">getChoices</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">fps_setting</span> <span class="o">==</span> <span class="s1">&#39;KEEP INPUT VIDEO FPS&#39;</span><span class="p">:</span>
            <span class="n">fps</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">elif</span> <span class="n">fps_setting</span> <span class="o">==</span> <span class="s1">&#39;SAME AS THE FIRST INPUT VIDEO IN INPUT DIRECTORY&#39;</span><span class="p">:</span>
            <span class="n">fps</span> <span class="o">=</span> <span class="s1">&#39;0&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">fps</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">fps_setting</span><span class="p">)</span>

        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Concatenating videos in </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">input_dir</span><span class="o">.</span><span class="n">folder_path</span><span class="si">}</span><span class="s2"> directory...&quot;</span><span class="p">)</span>
        <span class="n">save_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">input_dir</span><span class="o">.</span><span class="n">folder_path</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;concatenated.mp4&quot;</span><span class="p">)</span>
        <span class="n">concatenate_videos_in_folder</span><span class="p">(</span><span class="n">in_folder</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">input_dir</span><span class="o">.</span><span class="n">folder_path</span><span class="p">,</span>
                                     <span class="n">save_path</span><span class="o">=</span><span class="n">save_path</span><span class="p">,</span>
                                     <span class="n">remove_splits</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                     <span class="n">fps</span><span class="o">=</span><span class="n">fps</span><span class="p">,</span>
                                     <span class="n">video_format</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">file_format</span><span class="o">.</span><span class="n">getChoices</span><span class="p">(),</span>
                                     <span class="n">gpu</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">use_gpu_var</span><span class="o">.</span><span class="n">get</span><span class="p">())</span></div></div>

<div class="viewcode-block" id="ImportFrameDirectoryPopUp"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.ImportFrameDirectoryPopUp">[docs]</a><span class="k">class</span> <span class="nc">ImportFrameDirectoryPopUp</span><span class="p">(</span><span class="n">PopUpMixin</span><span class="p">,</span> <span class="n">ConfigReader</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">PopUpMixin</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;IMPORT FRAME DIRECTORY&quot;</span><span class="p">)</span>
        <span class="n">ConfigReader</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config_path</span><span class="o">=</span><span class="n">config_path</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">frame_folder</span> <span class="o">=</span> <span class="n">FolderSelect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="s2">&quot;FRAME DIRECTORY:&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select the main directory with frame folders&quot;</span><span class="p">)</span>
        <span class="n">import_btn</span>  <span class="o">=</span> <span class="n">SimbaButton</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">txt</span><span class="o">=</span><span class="s2">&quot;IMPORT FRAMES&quot;</span><span class="p">,</span> <span class="n">img</span><span class="o">=</span><span class="s1">&#39;import&#39;</span><span class="p">,</span> <span class="n">txt_clr</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">cmd</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">frame_folder</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="n">import_btn</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="o">.</span><span class="n">mainloop</span><span class="p">()</span>

<div class="viewcode-block" id="ImportFrameDirectoryPopUp.run"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.ImportFrameDirectoryPopUp.run">[docs]</a>    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frame_folder</span><span class="o">.</span><span class="n">folder_path</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">NotDirectoryError</span><span class="p">(</span>
                <span class="n">msg</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;SIMBA ERROR: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">frame_folder</span><span class="o">.</span><span class="n">folder_path</span><span class="si">}</span><span class="s2"> is not a valid directory.&quot;</span><span class="p">,</span>
                <span class="n">source</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="n">copy_img_folder</span><span class="p">(</span>
            <span class="n">config_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config_path</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">frame_folder</span><span class="o">.</span><span class="n">folder_path</span>
        <span class="p">)</span></div></div>


<span class="c1">#ImportFrameDirectoryPopUp(config_path=r&quot;C:\troubleshooting\mitra\project_folder\project_config.ini&quot;)</span>

<div class="viewcode-block" id="ExtractAnnotationFramesPopUp"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.ExtractAnnotationFramesPopUp">[docs]</a><span class="k">class</span> <span class="nc">ExtractAnnotationFramesPopUp</span><span class="p">(</span><span class="n">PopUpMixin</span><span class="p">,</span> <span class="n">ConfigReader</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    :example:</span>
<span class="sd">    &gt;&gt;&gt; ExtractAnnotationFramesPopUp(config_path=&#39;/Users/simon/Desktop/envs/simba/troubleshooting/two_black_animals_14bp/project_folder/project_config.ini&#39;)</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                 <span class="n">config_path</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">PathLike</span><span class="p">]):</span>
        <span class="n">ConfigReader</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config_path</span><span class="o">=</span><span class="n">config_path</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">target_file_paths</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">NoFilesFoundError</span><span class="p">(</span><span class="n">msg</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;Cannot extract annotation images: No data files found in </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">targets_folder</span><span class="si">}</span><span class="s1">.&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">video_dict</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">file_path</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">target_file_paths</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">video_dict</span><span class="p">[</span><span class="n">get_fn_ext</span><span class="p">(</span><span class="n">filepath</span><span class="o">=</span><span class="n">file_path</span><span class="p">)[</span><span class="mi">1</span><span class="p">]]</span> <span class="o">=</span> <span class="n">file_path</span>

        <span class="n">PopUpMixin</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config_path</span><span class="o">=</span><span class="n">config_path</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;EXTRACT ANNOTATED FRAMES&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">clf_frame</span> <span class="o">=</span> <span class="n">LabelFrame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;CHOOSE CLASSIFIERS&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_HEADER</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">create_clf_checkboxes</span><span class="p">(</span><span class="n">main_frm</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">clf_frame</span><span class="p">,</span> <span class="n">clfs</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">clf_names</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">choose_video_frm</span> <span class="o">=</span> <span class="n">LabelFrame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;CHOOSE VIDEOS&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_HEADER</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="n">video_options</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;ALL&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">video_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">video_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">choose_video_frm</span><span class="p">,</span> <span class="s2">&quot;Video:&quot;</span><span class="p">,</span> <span class="n">video_options</span><span class="p">,</span> <span class="s2">&quot;25&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">video_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="s1">&#39;ALL&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">settings_frm</span> <span class="o">=</span> <span class="n">LabelFrame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;STYLE SETTINGS&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_HEADER</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="n">down_sample_resolution_options</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;None&quot;</span><span class="p">,</span> <span class="s2">&quot;2x&quot;</span><span class="p">,</span> <span class="s2">&quot;3x&quot;</span><span class="p">,</span> <span class="s2">&quot;4x&quot;</span><span class="p">,</span> <span class="s2">&quot;5x&quot;</span><span class="p">]</span>
        <span class="n">img_format_options</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;png&#39;</span><span class="p">,</span> <span class="s1">&#39;jpg&#39;</span><span class="p">,</span> <span class="s1">&#39;webp&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resolution_downsample_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;Down-sample images:&quot;</span><span class="p">,</span> <span class="n">down_sample_resolution_options</span><span class="p">,</span> <span class="s2">&quot;25&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resolution_downsample_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="n">down_sample_resolution_options</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">img_format_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;Image format:&quot;</span><span class="p">,</span> <span class="n">img_format_options</span><span class="p">,</span> <span class="s2">&quot;25&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">img_format_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="n">img_format_options</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">greyscale_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;Image grayscale:&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;TRUE&#39;</span><span class="p">,</span> <span class="s1">&#39;FALSE&#39;</span><span class="p">],</span> <span class="s2">&quot;25&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">greyscale_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="s1">&#39;FALSE&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">choose_video_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">children_cnt_main</span><span class="p">()</span><span class="o">+</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">video_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">settings_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">children_cnt_main</span><span class="p">()</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resolution_downsample_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">img_format_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">greyscale_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>



        <span class="bp">self</span><span class="o">.</span><span class="n">run_btn</span> <span class="o">=</span> <span class="n">SimbaButton</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">txt</span><span class="o">=</span><span class="s2">&quot;RUN&quot;</span><span class="p">,</span> <span class="n">img</span><span class="o">=</span><span class="s1">&#39;rocket&#39;</span><span class="p">,</span> <span class="n">txt_clr</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">cmd</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">run_btn</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">children_cnt_main</span><span class="p">()</span><span class="o">+</span><span class="mi">3</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="o">.</span><span class="n">mainloop</span><span class="p">()</span>

<div class="viewcode-block" id="ExtractAnnotationFramesPopUp.run"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.ExtractAnnotationFramesPopUp.run">[docs]</a>    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">downsample</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">resolution_downsample_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">downsample</span> <span class="o">!=</span> <span class="n">Dtypes</span><span class="o">.</span><span class="n">NONE</span><span class="o">.</span><span class="n">value</span><span class="p">:</span> <span class="n">downsample</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="nb">str</span><span class="o">.</span><span class="n">isdigit</span><span class="p">,</span> <span class="n">downsample</span><span class="p">)))</span>
        <span class="k">else</span><span class="p">:</span> <span class="n">downsample</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">greyscale</span> <span class="o">=</span> <span class="n">str_2_bool</span><span class="p">(</span><span class="n">input_str</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">greyscale_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">())</span>
        <span class="n">img_format</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">img_format_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">()</span>
        <span class="n">clfs</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">clf_name</span><span class="p">,</span> <span class="n">selection</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">clf_selections</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">selection</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
                <span class="n">clfs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">clf_name</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">clfs</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">NoChoosenClassifierError</span><span class="p">(</span><span class="n">source</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
        <span class="n">video_selection</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">video_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">video_selection</span> <span class="o">==</span> <span class="s1">&#39;ALL&#39;</span><span class="p">:</span>
            <span class="n">data_paths</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">video_dict</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">data_paths</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">video_dict</span><span class="p">[</span><span class="n">video_selection</span><span class="p">]]</span>

        <span class="k">for</span> <span class="n">data_path</span> <span class="ow">in</span> <span class="n">data_paths</span><span class="p">:</span>
            <span class="n">_</span> <span class="o">=</span> <span class="n">find_video_of_file</span><span class="p">(</span><span class="n">video_dir</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">video_dir</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="n">get_fn_ext</span><span class="p">(</span><span class="n">filepath</span><span class="o">=</span><span class="n">data_path</span><span class="p">)[</span><span class="mi">1</span><span class="p">],</span> <span class="n">raise_error</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

        <span class="n">frame_extractor</span> <span class="o">=</span> <span class="n">AnnotationFrameExtractor</span><span class="p">(</span><span class="n">config_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config_path</span><span class="p">,</span>
                                                   <span class="n">clfs</span><span class="o">=</span><span class="n">clfs</span><span class="p">,</span>
                                                   <span class="n">downsample</span><span class="o">=</span><span class="n">downsample</span><span class="p">,</span>
                                                   <span class="n">img_format</span><span class="o">=</span><span class="n">img_format</span><span class="p">,</span>
                                                   <span class="n">greyscale</span><span class="o">=</span><span class="n">greyscale</span><span class="p">,</span>
                                                   <span class="n">data_paths</span><span class="o">=</span><span class="n">data_paths</span><span class="p">)</span>
        <span class="n">frame_extractor</span><span class="o">.</span><span class="n">run</span><span class="p">()</span></div></div>

<div class="viewcode-block" id="DownsampleVideoPopUp"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.DownsampleVideoPopUp">[docs]</a><span class="k">class</span> <span class="nc">DownsampleVideoPopUp</span><span class="p">(</span><span class="n">PopUpMixin</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;DOWN-SAMPLE VIDEO RESOLUTION&quot;</span><span class="p">)</span>
        <span class="n">instructions</span> <span class="o">=</span> <span class="n">Label</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span>
            <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Choose only one of the following method (Custom or Default)&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span>
        <span class="p">)</span>
        <span class="n">choose_video_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span>
            <span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span>
            <span class="n">header</span><span class="o">=</span><span class="s2">&quot;SELECT VIDEO&quot;</span><span class="p">,</span>
            <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">DOWNSAMPLE</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">video_path_selected</span> <span class="o">=</span> <span class="n">FileSelect</span><span class="p">(</span>
            <span class="n">choose_video_frm</span><span class="p">,</span>
            <span class="s2">&quot;Video path&quot;</span><span class="p">,</span>
            <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select a video file&quot;</span><span class="p">,</span>
            <span class="n">file_types</span><span class="o">=</span><span class="p">[(</span><span class="s2">&quot;VIDEO FILE&quot;</span><span class="p">,</span> <span class="n">Options</span><span class="o">.</span><span class="n">ALL_VIDEO_FORMAT_STR_OPTIONS</span><span class="o">.</span><span class="n">value</span><span class="p">)],</span>
        <span class="p">)</span>
        <span class="n">gpu_frm</span> <span class="o">=</span> <span class="n">LabelFrame</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span>
            <span class="n">text</span><span class="o">=</span><span class="s2">&quot;GPU&quot;</span><span class="p">,</span>
            <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_HEADER</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">fg</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span>
            <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
            <span class="n">pady</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">use_gpu_cb</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_gpu_var</span> <span class="o">=</span> <span class="n">SimbaCheckbox</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">gpu_frm</span><span class="p">,</span> <span class="n">txt</span><span class="o">=</span><span class="s2">&quot;Use GPU (reduced runtime)&quot;</span><span class="p">,</span> <span class="n">txt_img</span><span class="o">=</span><span class="s1">&#39;gpu_2&#39;</span><span class="p">)</span>
        <span class="n">use_gpu_cb</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="n">custom_frm</span> <span class="o">=</span> <span class="n">LabelFrame</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span>
            <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Custom resolution&quot;</span><span class="p">,</span>
            <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_HEADER</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">fg</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span>
            <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
            <span class="n">pady</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">entry_width</span> <span class="o">=</span> <span class="n">Entry_Box</span><span class="p">(</span><span class="n">custom_frm</span><span class="p">,</span> <span class="s2">&quot;Width&quot;</span><span class="p">,</span> <span class="s2">&quot;10&quot;</span><span class="p">,</span> <span class="n">validation</span><span class="o">=</span><span class="s2">&quot;numeric&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">entry_height</span> <span class="o">=</span> <span class="n">Entry_Box</span><span class="p">(</span><span class="n">custom_frm</span><span class="p">,</span> <span class="s2">&quot;Height&quot;</span><span class="p">,</span> <span class="s2">&quot;10&quot;</span><span class="p">,</span> <span class="n">validation</span><span class="o">=</span><span class="s2">&quot;numeric&quot;</span><span class="p">)</span>




        <span class="bp">self</span><span class="o">.</span><span class="n">custom_downsample_btn</span> <span class="o">=</span> <span class="n">SimbaButton</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">custom_frm</span><span class="p">,</span> <span class="n">txt</span><span class="o">=</span><span class="s2">&quot;Downsample to custom resolution&quot;</span><span class="p">,</span> <span class="n">img</span><span class="o">=</span><span class="s1">&#39;rocket&#39;</span><span class="p">,</span> <span class="n">txt_clr</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">cmd</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">custom_downsample</span><span class="p">)</span>

        <span class="n">default_frm</span> <span class="o">=</span> <span class="n">LabelFrame</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Default resolution&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_HEADER</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">5</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">radio_btns</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">var</span> <span class="o">=</span> <span class="n">StringVar</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">custom_cnt</span><span class="p">,</span> <span class="n">resolution_radiobtn</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">resolutions</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">radio_btns</span><span class="p">[</span><span class="n">resolution_radiobtn</span><span class="p">]</span> <span class="o">=</span> <span class="n">Radiobutton</span><span class="p">(</span>
                <span class="n">default_frm</span><span class="p">,</span>
                <span class="n">text</span><span class="o">=</span><span class="n">resolution_radiobtn</span><span class="p">,</span>
                <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">var</span><span class="p">,</span>
                <span class="n">value</span><span class="o">=</span><span class="n">resolution_radiobtn</span><span class="p">,</span>
                <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">radio_btns</span><span class="p">[</span><span class="n">resolution_radiobtn</span><span class="p">]</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="n">custom_cnt</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">default_downsample_btn</span> <span class="o">=</span> <span class="n">SimbaButton</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">default_frm</span><span class="p">,</span> <span class="n">txt</span><span class="o">=</span><span class="s2">&quot;Downsample to default resolution&quot;</span><span class="p">,</span> <span class="n">img</span><span class="o">=</span><span class="s1">&#39;rocket&#39;</span><span class="p">,</span> <span class="n">txt_clr</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">cmd</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_downsample</span><span class="p">)</span>



        <span class="n">instructions</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">choose_video_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="n">gpu_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">video_path_selected</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="n">custom_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">entry_width</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">entry_height</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">custom_downsample_btn</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="n">default_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">default_downsample_btn</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span>
            <span class="n">row</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">resolutions</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span>
        <span class="p">)</span>

<div class="viewcode-block" id="DownsampleVideoPopUp.custom_downsample"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.DownsampleVideoPopUp.custom_downsample">[docs]</a>    <span class="k">def</span> <span class="nf">custom_downsample</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">width</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">entry_width</span><span class="o">.</span><span class="n">entry_get</span>
        <span class="n">height</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">entry_height</span><span class="o">.</span><span class="n">entry_get</span>
        <span class="n">check_int</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Video width&quot;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">width</span><span class="p">)</span>
        <span class="n">check_int</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Video height&quot;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">height</span><span class="p">)</span>
        <span class="n">check_file_exist_and_readable</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">video_path_selected</span><span class="o">.</span><span class="n">file_path</span><span class="p">)</span>
        <span class="n">downsample_video</span><span class="p">(</span>
            <span class="n">file_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">video_path_selected</span><span class="o">.</span><span class="n">file_path</span><span class="p">,</span>
            <span class="n">video_width</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">width</span><span class="p">),</span>
            <span class="n">video_height</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">height</span><span class="p">),</span>
            <span class="n">gpu</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">use_gpu_var</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="DownsampleVideoPopUp.default_downsample"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.DownsampleVideoPopUp.default_downsample">[docs]</a>    <span class="k">def</span> <span class="nf">default_downsample</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">resolution</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">var</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
        <span class="n">width</span><span class="p">,</span> <span class="n">height</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">resolution</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">(),</span>
            <span class="n">resolution</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">(),</span>
        <span class="p">)</span>
        <span class="n">check_file_exist_and_readable</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">video_path_selected</span><span class="o">.</span><span class="n">file_path</span><span class="p">)</span>
        <span class="n">downsample_video</span><span class="p">(</span>
            <span class="n">file_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">video_path_selected</span><span class="o">.</span><span class="n">file_path</span><span class="p">,</span>
            <span class="n">video_width</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">width</span><span class="p">),</span>
            <span class="n">video_height</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">height</span><span class="p">),</span>
            <span class="n">gpu</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">use_gpu_var</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
        <span class="p">)</span></div></div>


<div class="viewcode-block" id="ConvertROIDefinitionsPopUp"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.ConvertROIDefinitionsPopUp">[docs]</a><span class="k">class</span> <span class="nc">ConvertROIDefinitionsPopUp</span><span class="p">(</span><span class="n">PopUpMixin</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;CONVERT ROI DEFINITIONS&quot;</span><span class="p">)</span>
        <span class="n">settings_frm</span> <span class="o">=</span> <span class="n">LabelFrame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;SETTINGS&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_HEADER</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">roi_definitions_file_select</span> <span class="o">=</span> <span class="n">FileSelect</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;ROI DEFINITIONS PATH (H5)&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;SELECT H5 FILE&quot;</span><span class="p">,</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">file_types</span><span class="o">=</span><span class="p">[(</span><span class="s2">&quot;H5 FILE&quot;</span><span class="p">,</span> <span class="p">(</span><span class="s2">&quot;.h5&quot;</span><span class="p">,</span> <span class="s2">&quot;.H5&quot;</span><span class="p">))])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">save_dir</span> <span class="o">=</span> <span class="n">FolderSelect</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;SAVE DIRECTORY&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;SELECT H5 FILE&quot;</span><span class="p">,</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
        <span class="n">settings_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">roi_definitions_file_select</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">save_dir</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">create_run_frm</span><span class="p">(</span><span class="n">run_function</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">)</span>

<div class="viewcode-block" id="ConvertROIDefinitionsPopUp.run"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.ConvertROIDefinitionsPopUp.run">[docs]</a>    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">check_file_exist_and_readable</span><span class="p">(</span><span class="n">file_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">roi_definitions_file_select</span><span class="o">.</span><span class="n">file_path</span><span class="p">)</span>
        <span class="n">check_if_dir_exists</span><span class="p">(</span><span class="n">in_dir</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">save_dir</span><span class="o">.</span><span class="n">folder_path</span><span class="p">)</span>
        <span class="n">convert_roi_definitions</span><span class="p">(</span><span class="n">roi_definitions_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">roi_definitions_file_select</span><span class="o">.</span><span class="n">file_path</span><span class="p">,</span> <span class="n">save_dir</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">save_dir</span><span class="o">.</span><span class="n">folder_path</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="CropVideoCirclesPopUp"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.CropVideoCirclesPopUp">[docs]</a><span class="k">class</span> <span class="nc">CropVideoCirclesPopUp</span><span class="p">(</span><span class="n">PopUpMixin</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">PopUpMixin</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;CROP SINGLE VIDEO (CIRCLES)&quot;</span><span class="p">)</span>
        <span class="n">crop_video_lbl_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;Crop Video (CIRCLES)&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">CIRCLE_CROP</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="n">selected_video</span> <span class="o">=</span> <span class="n">FileSelect</span><span class="p">(</span><span class="n">crop_video_lbl_frm</span><span class="p">,</span> <span class="s2">&quot;Video path&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select a video file&quot;</span><span class="p">,</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">file_types</span><span class="o">=</span><span class="p">[(</span><span class="s2">&quot;VIDEO FILE&quot;</span><span class="p">,</span> <span class="n">Options</span><span class="o">.</span><span class="n">ALL_VIDEO_FORMAT_STR_OPTIONS</span><span class="o">.</span><span class="n">value</span><span class="p">)])</span>
        <span class="n">button_crop_video_single</span> <span class="o">=</span> <span class="n">SimbaButton</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">crop_video_lbl_frm</span><span class="p">,</span> <span class="n">txt</span><span class="o">=</span><span class="s2">&quot;CROP VIDEO&quot;</span><span class="p">,</span> <span class="n">img</span><span class="o">=</span><span class="s1">&#39;rocket&#39;</span><span class="p">,</span> <span class="n">txt_clr</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">cmd</span><span class="o">=</span><span class="n">crop_single_video_circle</span><span class="p">,</span> <span class="n">cmd_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;file_path&#39;</span><span class="p">:</span> <span class="k">lambda</span><span class="p">:</span><span class="n">selected_video</span><span class="o">.</span><span class="n">file_path</span><span class="p">})</span>
        <span class="n">crop_video_lbl_frm_multiple</span> <span class="o">=</span> <span class="n">LabelFrame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Fixed CIRCLE coordinates crop for multiple videos&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_HEADER</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="n">input_folder</span> <span class="o">=</span> <span class="n">FolderSelect</span><span class="p">(</span><span class="n">crop_video_lbl_frm_multiple</span><span class="p">,</span><span class="s2">&quot;Video directory:&quot;</span><span class="p">,</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select Folder with videos&quot;</span><span class="p">,</span><span class="n">lblwidth</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
        <span class="n">output_folder</span> <span class="o">=</span> <span class="n">FolderSelect</span><span class="p">(</span><span class="n">crop_video_lbl_frm_multiple</span><span class="p">,</span> <span class="s2">&quot;Output directory:&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select a folder for your output videos&quot;</span><span class="p">,</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
        <span class="n">button_crop_video_multiple</span> <span class="o">=</span> <span class="n">SimbaButton</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">crop_video_lbl_frm_multiple</span><span class="p">,</span> <span class="n">txt</span><span class="o">=</span><span class="s2">&quot;CROP VIDEOS&quot;</span><span class="p">,</span> <span class="n">img</span><span class="o">=</span><span class="s1">&#39;rocket&#39;</span><span class="p">,</span> <span class="n">txt_clr</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">cmd</span><span class="o">=</span><span class="n">crop_single_video_circle</span><span class="p">,</span> <span class="n">cmd_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;in_dir&#39;</span><span class="p">:</span> <span class="k">lambda</span><span class="p">:</span><span class="n">input_folder</span><span class="o">.</span><span class="n">folder_path</span><span class="p">,</span> <span class="s1">&#39;out_dir&#39;</span><span class="p">:</span> <span class="k">lambda</span><span class="p">:</span><span class="n">output_folder</span><span class="o">.</span><span class="n">folder_path</span><span class="p">})</span>
        <span class="n">crop_video_lbl_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="n">selected_video</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="n">button_crop_video_single</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="n">crop_video_lbl_frm_multiple</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="n">input_folder</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="n">output_folder</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="n">button_crop_video_multiple</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span></div>


<span class="c1"># _ = CropVideoCirclesPopUp()</span>


<div class="viewcode-block" id="CropVideoPolygonsPopUp"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.CropVideoPolygonsPopUp">[docs]</a><span class="k">class</span> <span class="nc">CropVideoPolygonsPopUp</span><span class="p">(</span><span class="n">PopUpMixin</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">PopUpMixin</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;CROP SINGLE VIDEO (POLYGONS)&quot;</span><span class="p">)</span>
        <span class="n">crop_video_lbl_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;Crop Video (POLYGONS)&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">CIRCLE_CROP</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="n">selected_video</span> <span class="o">=</span> <span class="n">FileSelect</span><span class="p">(</span> <span class="n">crop_video_lbl_frm</span><span class="p">,</span> <span class="s2">&quot;Video path&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select a video file&quot;</span><span class="p">,</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">file_types</span><span class="o">=</span><span class="p">[(</span><span class="s2">&quot;VIDEO FILE&quot;</span><span class="p">,</span> <span class="n">Options</span><span class="o">.</span><span class="n">ALL_VIDEO_FORMAT_STR_OPTIONS</span><span class="o">.</span><span class="n">value</span><span class="p">)])</span>

        <span class="n">button_crop_video_single</span> <span class="o">=</span> <span class="n">SimbaButton</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">crop_video_lbl_frm</span><span class="p">,</span> <span class="n">txt</span><span class="o">=</span><span class="s2">&quot;CROP VIDEO&quot;</span><span class="p">,</span> <span class="n">img</span><span class="o">=</span><span class="s1">&#39;rocket&#39;</span><span class="p">,</span> <span class="n">txt_clr</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">cmd</span><span class="o">=</span><span class="n">crop_single_video_polygon</span><span class="p">,</span> <span class="n">cmd_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;file_path&#39;</span><span class="p">:</span> <span class="k">lambda</span><span class="p">:</span><span class="n">selected_video</span><span class="o">.</span><span class="n">file_path</span><span class="p">})</span>
        <span class="n">crop_video_lbl_frm_multiple</span> <span class="o">=</span> <span class="n">LabelFrame</span><span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Fixed POLYGON coordinates crop for multiple videos&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_HEADER</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="n">input_folder</span> <span class="o">=</span> <span class="n">FolderSelect</span><span class="p">(</span> <span class="n">crop_video_lbl_frm_multiple</span><span class="p">,</span> <span class="s2">&quot;Video directory:&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select Folder with videos&quot;</span><span class="p">,</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
        <span class="n">output_folder</span> <span class="o">=</span> <span class="n">FolderSelect</span><span class="p">(</span> <span class="n">crop_video_lbl_frm_multiple</span><span class="p">,</span> <span class="s2">&quot;Output directory:&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select a folder for your output videos&quot;</span><span class="p">,</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
        <span class="n">button_crop_video_multiple</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span><span class="n">crop_video_lbl_frm_multiple</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Crop Videos&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="n">crop_multiple_videos_polygons</span><span class="p">(</span>     <span class="n">in_dir</span><span class="o">=</span><span class="n">input_folder</span><span class="o">.</span><span class="n">folder_path</span><span class="p">,</span> <span class="n">out_dir</span><span class="o">=</span><span class="n">output_folder</span><span class="o">.</span><span class="n">folder_path</span><span class="p">))</span>

        <span class="n">crop_video_lbl_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="n">selected_video</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="n">button_crop_video_single</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="n">crop_video_lbl_frm_multiple</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="n">input_folder</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="n">output_folder</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="n">button_crop_video_multiple</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span></div>


<div class="viewcode-block" id="ClipSingleVideoByFrameNumbers"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.ClipSingleVideoByFrameNumbers">[docs]</a><span class="k">class</span> <span class="nc">ClipSingleVideoByFrameNumbers</span><span class="p">(</span><span class="n">PopUpMixin</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;CLIP SINGLE VIDEO BY FRAME NUMBERS&quot;</span><span class="p">)</span>
        <span class="n">settings_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;SETTINGS&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video</span> <span class="o">=</span> <span class="n">FileSelect</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;VIDEO PATH: &quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select a video file&quot;</span><span class="p">,</span> <span class="n">file_types</span><span class="o">=</span><span class="p">[(</span><span class="s2">&quot;VIDEO&quot;</span><span class="p">,</span> <span class="n">Options</span><span class="o">.</span><span class="n">ALL_VIDEO_FORMAT_STR_OPTIONS</span><span class="o">.</span><span class="n">value</span><span class="p">)],</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">start_frm_eb</span> <span class="o">=</span> <span class="n">Entry_Box</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;START FRAME: &quot;</span><span class="p">,</span> <span class="s2">&quot;15&quot;</span><span class="p">,</span> <span class="n">validation</span><span class="o">=</span><span class="s2">&quot;numeric&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">end_frm_eb</span> <span class="o">=</span> <span class="n">Entry_Box</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;END FRAME: &quot;</span><span class="p">,</span> <span class="s2">&quot;15&quot;</span><span class="p">,</span> <span class="n">validation</span><span class="o">=</span><span class="s2">&quot;numeric&quot;</span><span class="p">)</span>

        <span class="n">settings_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">start_frm_eb</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">end_frm_eb</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">create_run_frm</span><span class="p">(</span><span class="n">run_function</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">)</span>

<div class="viewcode-block" id="ClipSingleVideoByFrameNumbers.run"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.ClipSingleVideoByFrameNumbers.run">[docs]</a>    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">check_file_exist_and_readable</span><span class="p">(</span><span class="n">file_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">selected_video</span><span class="o">.</span><span class="n">file_path</span><span class="p">)</span>
        <span class="n">video_meta_data</span> <span class="o">=</span> <span class="n">get_video_meta_data</span><span class="p">(</span><span class="n">video_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">selected_video</span><span class="o">.</span><span class="n">file_path</span><span class="p">)</span>
        <span class="n">check_int</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Start frame&quot;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">start_frm_eb</span><span class="o">.</span><span class="n">entry_get</span><span class="p">,</span> <span class="n">min_value</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">check_int</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;End frame&quot;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">end_frm_eb</span><span class="o">.</span><span class="n">entry_get</span><span class="p">,</span> <span class="n">min_value</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">start_frame</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">start_frm_eb</span><span class="o">.</span><span class="n">entry_get</span><span class="p">)</span>
        <span class="n">end_frame</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">end_frm_eb</span><span class="o">.</span><span class="n">entry_get</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">start_frame</span> <span class="o">&gt;=</span> <span class="n">end_frame</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">FrameRangeError</span><span class="p">(</span>
                <span class="n">msg</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Start frame (</span><span class="si">{</span><span class="n">start_frame</span><span class="si">}</span><span class="s2">) is after or the same as the end frame (</span><span class="si">{</span><span class="n">end_frame</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">,</span>
                <span class="n">source</span><span class="o">=</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">start_frame</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">end_frame</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">FrameRangeError</span><span class="p">(</span>
                <span class="n">msg</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Start frame has to be at least 0 and end frame has to be at least 1&quot;</span><span class="p">,</span>
                <span class="n">source</span><span class="o">=</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">if</span> <span class="n">start_frame</span> <span class="o">&gt;</span> <span class="n">video_meta_data</span><span class="p">[</span><span class="s2">&quot;frame_count&quot;</span><span class="p">]:</span>
            <span class="k">raise</span> <span class="n">FrameRangeError</span><span class="p">(</span>
                <span class="n">msg</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;The video  has </span><span class="si">{</span><span class="n">video_meta_data</span><span class="p">[</span><span class="s2">&quot;frame_count&quot;</span><span class="p">]</span><span class="si">}</span><span class="s1"> frames, which is less than the start frame: </span><span class="si">{</span><span class="n">start_frame</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span>
                <span class="n">source</span><span class="o">=</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">if</span> <span class="n">end_frame</span> <span class="o">&gt;</span> <span class="n">video_meta_data</span><span class="p">[</span><span class="s2">&quot;frame_count&quot;</span><span class="p">]:</span>
            <span class="k">raise</span> <span class="n">FrameRangeError</span><span class="p">(</span>
                <span class="n">msg</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;The video  has </span><span class="si">{</span><span class="n">video_meta_data</span><span class="p">[</span><span class="s2">&quot;frame_count&quot;</span><span class="p">]</span><span class="si">}</span><span class="s1"> frames, which is less than the end frame: </span><span class="si">{</span><span class="n">end_frame</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span>
                <span class="n">source</span><span class="o">=</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="n">frm_ids</span> <span class="o">=</span> <span class="p">[[</span><span class="n">start_frame</span><span class="p">,</span> <span class="n">end_frame</span><span class="p">]]</span>
        <span class="n">_</span> <span class="o">=</span> <span class="n">clip_videos_by_frame_ids</span><span class="p">(</span>
            <span class="n">file_paths</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">selected_video</span><span class="o">.</span><span class="n">file_path</span><span class="p">],</span> <span class="n">frm_ids</span><span class="o">=</span><span class="n">frm_ids</span><span class="p">,</span> <span class="n">save_dir</span><span class="o">=</span><span class="kc">None</span>
        <span class="p">)</span></div></div>


<span class="c1">#ClipSingleVideoByFrameNumbers()</span>


<div class="viewcode-block" id="ClipMultipleVideosByFrameNumbersPopUp"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.ClipMultipleVideosByFrameNumbersPopUp">[docs]</a><span class="k">class</span> <span class="nc">ClipMultipleVideosByFrameNumbersPopUp</span><span class="p">(</span><span class="n">PopUpMixin</span><span class="p">):</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                 <span class="n">data_dir</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">PathLike</span><span class="p">],</span>
                 <span class="n">save_dir</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">PathLike</span><span class="p">]):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :param data_dir: Directory containing video files to be clipped.</span>
<span class="sd">        :param save_dir: Directory where to save the clipped videos.</span>

<span class="sd">        :example:</span>
<span class="sd">        &gt;&gt;&gt; ClipMultipleVideosByFrameNumbersPopUp(data_dir=&#39;/Users/simon/Downloads/test__/test__&#39;, save_dir=&#39;/Users/simon/Downloads/test__/res&#39;)</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">check_if_dir_exists</span><span class="p">(</span><span class="n">in_dir</span><span class="o">=</span><span class="n">data_dir</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">create_if_not_exist</span><span class="o">=</span><span class="kc">False</span> <span class="p">)</span>
        <span class="n">check_if_dir_exists</span><span class="p">(</span><span class="n">in_dir</span><span class="o">=</span><span class="n">save_dir</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">create_if_not_exist</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">video_paths</span> <span class="o">=</span> <span class="n">find_all_videos_in_directory</span><span class="p">(</span><span class="n">directory</span><span class="o">=</span><span class="n">data_dir</span><span class="p">,</span> <span class="n">as_dict</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">raise_error</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">video_meta_data</span> <span class="o">=</span> <span class="p">[</span><span class="n">get_video_meta_data</span><span class="p">(</span><span class="n">video_path</span><span class="o">=</span><span class="n">x</span><span class="p">)[</span><span class="s2">&quot;frame_count&quot;</span><span class="p">]</span><span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">video_paths</span><span class="o">.</span><span class="n">values</span><span class="p">())]</span>
        <span class="n">max_video_name_len</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">video_paths</span><span class="o">.</span><span class="n">keys</span><span class="p">())))</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;CLIP MULTIPLE VIDEOS BY FRAME NUMBERS&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">save_dir</span> <span class="o">=</span> <span class="n">save_dir</span>
        <span class="n">data_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;VIDEO SETTINGS&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="n">data_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="n">Label</span><span class="p">(</span><span class="n">data_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;VIDEO NAME&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="n">max_video_name_len</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="n">Label</span><span class="p">(</span><span class="n">data_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;START FRAME&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
        <span class="n">Label</span><span class="p">(</span><span class="n">data_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;END FRAME&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">entry_boxes</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">cnt</span><span class="p">,</span> <span class="n">video_name</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">video_paths</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">entry_boxes</span><span class="p">[</span><span class="n">video_name</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="n">Label</span><span class="p">(</span><span class="n">data_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="n">video_name</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="n">max_video_name_len</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span>
                <span class="n">row</span><span class="o">=</span><span class="n">cnt</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span>
            <span class="p">)</span>
            <span class="n">Label</span><span class="p">(</span>
                <span class="n">data_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">video_meta_data</span><span class="p">[</span><span class="n">cnt</span><span class="p">],</span> <span class="n">width</span><span class="o">=</span><span class="n">max_video_name_len</span>
            <span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="n">cnt</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">entry_boxes</span><span class="p">[</span><span class="n">video_name</span><span class="p">][</span><span class="s2">&quot;start&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Entry_Box</span><span class="p">(</span>
                <span class="n">data_frm</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">validation</span><span class="o">=</span><span class="s2">&quot;numeric&quot;</span>
            <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">entry_boxes</span><span class="p">[</span><span class="n">video_name</span><span class="p">][</span><span class="s2">&quot;end&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Entry_Box</span><span class="p">(</span>
                <span class="n">data_frm</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">validation</span><span class="o">=</span><span class="s2">&quot;numeric&quot;</span>
            <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">entry_boxes</span><span class="p">[</span><span class="n">video_name</span><span class="p">][</span><span class="s2">&quot;start&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="n">cnt</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">entry_boxes</span><span class="p">[</span><span class="n">video_name</span><span class="p">][</span><span class="s2">&quot;end&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="n">cnt</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">create_run_frm</span><span class="p">(</span><span class="n">run_function</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">,</span> <span class="n">btn_txt_clr</span><span class="o">=</span><span class="s2">&quot;blue&quot;</span><span class="p">)</span>

<div class="viewcode-block" id="ClipMultipleVideosByFrameNumbersPopUp.run"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.ClipMultipleVideosByFrameNumbersPopUp.run">[docs]</a>    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">video_paths</span><span class="p">,</span> <span class="n">frame_ids</span> <span class="o">=</span> <span class="p">[],</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">cnt</span><span class="p">,</span> <span class="p">(</span><span class="n">video_name</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">entry_boxes</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
            <span class="n">video_paths</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">video_paths</span><span class="p">[</span><span class="n">video_name</span><span class="p">])</span>
            <span class="n">video_frm_cnt</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">video_meta_data</span><span class="p">[</span><span class="n">cnt</span><span class="p">]</span>
            <span class="n">check_int</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;START </span><span class="si">{</span><span class="n">video_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">v</span><span class="p">[</span><span class="s2">&quot;start&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">entry_get</span><span class="p">,</span> <span class="n">min_value</span><span class="o">=</span><span class="mi">0</span>
            <span class="p">)</span>
            <span class="n">check_int</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;START </span><span class="si">{</span><span class="n">video_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">v</span><span class="p">[</span><span class="s2">&quot;end&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">entry_get</span><span class="p">,</span> <span class="n">min_value</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
            <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="s2">&quot;start&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">entry_get</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="s2">&quot;end&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">entry_get</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">start</span> <span class="o">&gt;=</span> <span class="n">end</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">FrameRangeError</span><span class="p">(</span>
                    <span class="n">msg</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;For video </span><span class="si">{</span><span class="n">video_name</span><span class="si">}</span><span class="s2">, the start frame (</span><span class="si">{</span><span class="n">start</span><span class="si">}</span><span class="s2">) is after or the same as the end frame (</span><span class="si">{</span><span class="n">end</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">,</span>
                    <span class="n">source</span><span class="o">=</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">start</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">end</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">):</span>
                <span class="k">raise</span> <span class="n">FrameRangeError</span><span class="p">(</span>
                    <span class="n">msg</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;For video </span><span class="si">{</span><span class="n">video_name</span><span class="si">}</span><span class="s2">, start frame has to be at least 0 and end frame has to be at least 1&quot;</span><span class="p">,</span>
                    <span class="n">source</span><span class="o">=</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="k">if</span> <span class="n">start</span> <span class="o">&gt;</span> <span class="n">video_frm_cnt</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">FrameRangeError</span><span class="p">(</span>
                    <span class="n">msg</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;The video </span><span class="si">{</span><span class="n">video_name</span><span class="si">}</span><span class="s2"> has </span><span class="si">{</span><span class="n">video_frm_cnt</span><span class="si">}</span><span class="s2"> frames, which is less than the start frame: </span><span class="si">{</span><span class="n">start</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                    <span class="n">source</span><span class="o">=</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="k">if</span> <span class="n">end</span> <span class="o">&gt;</span> <span class="n">video_frm_cnt</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">FrameRangeError</span><span class="p">(</span>
                    <span class="n">msg</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;The video </span><span class="si">{</span><span class="n">video_name</span><span class="si">}</span><span class="s2"> has </span><span class="si">{</span><span class="n">video_frm_cnt</span><span class="si">}</span><span class="s2"> frames, which is less than the end frame: </span><span class="si">{</span><span class="n">end</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                    <span class="n">source</span><span class="o">=</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="n">frame_ids</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">])</span>

        <span class="n">_</span> <span class="o">=</span> <span class="n">clip_videos_by_frame_ids</span><span class="p">(</span>
            <span class="n">file_paths</span><span class="o">=</span><span class="n">video_paths</span><span class="p">,</span> <span class="n">frm_ids</span><span class="o">=</span><span class="n">frame_ids</span><span class="p">,</span> <span class="n">save_dir</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">save_dir</span>
        <span class="p">)</span></div></div>


<div class="viewcode-block" id="InitiateClipMultipleVideosByFrameNumbersPopUp"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.InitiateClipMultipleVideosByFrameNumbersPopUp">[docs]</a><span class="k">class</span> <span class="nc">InitiateClipMultipleVideosByFrameNumbersPopUp</span><span class="p">(</span><span class="n">PopUpMixin</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;CLIP MULTIPLE VIDEOS BY FRAME NUMBERS&quot;</span><span class="p">)</span>
        <span class="n">data_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span>
            <span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span>
            <span class="n">header</span><span class="o">=</span><span class="s2">&quot;SELECT DATA DIRECTORIES&quot;</span><span class="p">,</span>
            <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">input_folder</span> <span class="o">=</span> <span class="n">FolderSelect</span><span class="p">(</span>
            <span class="n">data_frm</span><span class="p">,</span> <span class="s2">&quot;Video directory:&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select Folder with videos&quot;</span><span class="p">,</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">20</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">output_folder</span> <span class="o">=</span> <span class="n">FolderSelect</span><span class="p">(</span>
            <span class="n">data_frm</span><span class="p">,</span>
            <span class="s2">&quot;Output directory:&quot;</span><span class="p">,</span>
            <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select a folder for your output videos&quot;</span><span class="p">,</span>
            <span class="n">lblwidth</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">data_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">input_folder</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">output_folder</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">create_run_frm</span><span class="p">(</span><span class="n">run_function</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">)</span>

<div class="viewcode-block" id="InitiateClipMultipleVideosByFrameNumbersPopUp.run"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.InitiateClipMultipleVideosByFrameNumbersPopUp.run">[docs]</a>    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">check_if_dir_exists</span><span class="p">(</span>
            <span class="n">in_dir</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">input_folder</span><span class="o">.</span><span class="n">folder_path</span><span class="p">,</span>
            <span class="n">source</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="n">create_if_not_exist</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">check_if_dir_exists</span><span class="p">(</span>
            <span class="n">in_dir</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">output_folder</span><span class="o">.</span><span class="n">folder_path</span><span class="p">,</span>
            <span class="n">source</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="n">create_if_not_exist</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">video_paths</span> <span class="o">=</span> <span class="n">find_all_videos_in_directory</span><span class="p">(</span>
            <span class="n">directory</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">input_folder</span><span class="o">.</span><span class="n">folder_path</span><span class="p">,</span> <span class="n">as_dict</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">raise_error</span><span class="o">=</span><span class="kc">True</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">destroy</span><span class="p">()</span>
        <span class="n">_</span> <span class="o">=</span> <span class="n">ClipMultipleVideosByFrameNumbersPopUp</span><span class="p">(</span>
            <span class="n">data_dir</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">input_folder</span><span class="o">.</span><span class="n">folder_path</span><span class="p">,</span>
            <span class="n">save_dir</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">output_folder</span><span class="o">.</span><span class="n">folder_path</span><span class="p">,</span>
        <span class="p">)</span></div></div>


<div class="viewcode-block" id="ClipMultipleVideosByTimestamps"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.ClipMultipleVideosByTimestamps">[docs]</a><span class="k">class</span> <span class="nc">ClipMultipleVideosByTimestamps</span><span class="p">(</span><span class="n">PopUpMixin</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    :example:</span>
<span class="sd">    &gt;&gt;&gt; ClipMultipleVideosByTimestamps(data_dir=r&quot;C:\troubleshooting\RAT_NOR\project_folder\videos\test&quot;, save_dir=r&quot;C:\troubleshooting\RAT_NOR\project_folder\videos\test\out&quot;)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_dir</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">PathLike</span><span class="p">],</span> <span class="n">save_dir</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">PathLike</span><span class="p">]):</span>

        <span class="n">check_if_dir_exists</span><span class="p">(</span><span class="n">in_dir</span><span class="o">=</span><span class="n">data_dir</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">create_if_not_exist</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">check_if_dir_exists</span><span class="p">(</span><span class="n">in_dir</span><span class="o">=</span><span class="n">save_dir</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">create_if_not_exist</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">video_paths</span> <span class="o">=</span> <span class="n">find_all_videos_in_directory</span><span class="p">(</span><span class="n">directory</span><span class="o">=</span><span class="n">data_dir</span><span class="p">,</span> <span class="n">as_dict</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">raise_error</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">video_meta_data</span> <span class="o">=</span> <span class="p">[</span><span class="n">get_video_meta_data</span><span class="p">(</span><span class="n">video_path</span><span class="o">=</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">video_paths</span><span class="o">.</span><span class="n">values</span><span class="p">())]</span>
        <span class="n">max_video_name_len</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">video_paths</span><span class="o">.</span><span class="n">keys</span><span class="p">())))</span> <span class="o">+</span> <span class="mi">5</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;CLIP MULTIPLE VIDEOS BY TIME-STAMPS&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">save_dir</span> <span class="o">=</span> <span class="n">save_dir</span>
        <span class="n">data_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;VIDEO SETTINGS&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="n">data_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">save_dir</span> <span class="o">=</span> <span class="n">save_dir</span>
        <span class="n">data_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;VIDEO SETTINGS&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="n">data_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="n">Label</span><span class="p">(</span><span class="n">data_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;VIDEO NAME&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="n">max_video_name_len</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="n">Label</span><span class="p">(</span><span class="n">data_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;VIDEO LENGTH&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">Label</span><span class="p">(</span><span class="n">data_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;START TIME (HH:MM:SS)&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">18</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
        <span class="n">Label</span><span class="p">(</span><span class="n">data_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;END TIME (HH:MM:SS)&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">18</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">entry_boxes</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">cnt</span><span class="p">,</span> <span class="n">video_name</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">video_paths</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">entry_boxes</span><span class="p">[</span><span class="n">video_name</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="n">Label</span><span class="p">(</span><span class="n">data_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="n">video_name</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="n">max_video_name_len</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="n">cnt</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
            <span class="n">video_length</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">video_meta_data</span><span class="p">[</span><span class="n">cnt</span><span class="p">][</span><span class="s2">&quot;video_length_s&quot;</span><span class="p">]</span>
            <span class="n">video_length_hhmmss</span> <span class="o">=</span> <span class="n">seconds_to_timestamp</span><span class="p">(</span><span class="n">seconds</span><span class="o">=</span><span class="n">video_length</span><span class="p">)</span>
            <span class="n">Label</span><span class="p">(</span><span class="n">data_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="n">video_length_hhmmss</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="n">max_video_name_len</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="n">cnt</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">entry_boxes</span><span class="p">[</span><span class="n">video_name</span><span class="p">][</span><span class="s2">&quot;start&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Entry_Box</span><span class="p">(</span><span class="n">data_frm</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">entry_boxes</span><span class="p">[</span><span class="n">video_name</span><span class="p">][</span><span class="s2">&quot;end&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Entry_Box</span><span class="p">(</span><span class="n">data_frm</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">entry_boxes</span><span class="p">[</span><span class="n">video_name</span><span class="p">][</span><span class="s2">&quot;start&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="n">cnt</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">entry_boxes</span><span class="p">[</span><span class="n">video_name</span><span class="p">][</span><span class="s2">&quot;end&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="n">cnt</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>

        <span class="n">gpu_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;GPU SETTINGS&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="n">gpu_cb</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">gpu_var</span> <span class="o">=</span> <span class="n">SimbaCheckbox</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">gpu_frm</span><span class="p">,</span> <span class="n">txt</span><span class="o">=</span><span class="s1">&#39;USE GPU&#39;</span><span class="p">,</span> <span class="n">txt_img</span><span class="o">=</span><span class="s1">&#39;gpu&#39;</span><span class="p">)</span>
        <span class="n">gpu_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="n">gpu_cb</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">create_run_frm</span><span class="p">(</span><span class="n">run_function</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">,</span> <span class="n">btn_txt_clr</span><span class="o">=</span><span class="s2">&quot;blue&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="o">.</span><span class="n">mainloop</span><span class="p">()</span>

<div class="viewcode-block" id="ClipMultipleVideosByTimestamps.run"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.ClipMultipleVideosByTimestamps.run">[docs]</a>    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">timer</span> <span class="o">=</span> <span class="n">SimbaTimer</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">cnt</span><span class="p">,</span> <span class="p">(</span><span class="n">video_name</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">entry_boxes</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
            <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="n">v</span><span class="p">[</span><span class="s2">&quot;start&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">entry_get</span><span class="p">,</span> <span class="n">v</span><span class="p">[</span><span class="s2">&quot;end&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">entry_get</span>
            <span class="n">check_if_string_value_is_valid_video_timestamp</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">start</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">video_name</span><span class="si">}</span><span class="s2"> START TIME&quot;</span> <span class="p">)</span>
            <span class="n">check_if_string_value_is_valid_video_timestamp</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">end</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">video_name</span><span class="si">}</span><span class="s2"> END TIME&quot;</span><span class="p">)</span>
            <span class="n">check_that_hhmmss_start_is_before_end</span><span class="p">(</span><span class="n">start_time</span><span class="o">=</span><span class="n">start</span><span class="p">,</span> <span class="n">end_time</span><span class="o">=</span><span class="n">end</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">video_name</span><span class="p">)</span>
            <span class="n">check_if_hhmmss_timestamp_is_valid_part_of_video</span><span class="p">(</span><span class="n">timestamp</span><span class="o">=</span><span class="n">start</span><span class="p">,</span> <span class="n">video_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">video_paths</span><span class="p">[</span><span class="n">video_name</span><span class="p">])</span>
            <span class="n">check_if_hhmmss_timestamp_is_valid_part_of_video</span><span class="p">(</span><span class="n">timestamp</span><span class="o">=</span><span class="n">end</span><span class="p">,</span> <span class="n">video_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">video_paths</span><span class="p">[</span><span class="n">video_name</span><span class="p">])</span>
            <span class="n">clip_video_in_range</span><span class="p">(</span>
                <span class="n">file_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">video_paths</span><span class="p">[</span><span class="n">video_name</span><span class="p">],</span>
                <span class="n">start_time</span><span class="o">=</span><span class="n">start</span><span class="p">,</span>
                <span class="n">end_time</span><span class="o">=</span><span class="n">end</span><span class="p">,</span>
                <span class="n">out_dir</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">save_dir</span><span class="p">,</span>
                <span class="n">overwrite</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                <span class="n">include_clip_time_in_filename</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                <span class="n">gpu</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">gpu_var</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
            <span class="p">)</span>
        <span class="n">timer</span><span class="o">.</span><span class="n">stop_timer</span><span class="p">()</span>
        <span class="n">stdout_success</span><span class="p">(</span>
            <span class="n">msg</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">entry_boxes</span><span class="p">)</span><span class="si">}</span><span class="s2"> videos clipped by time-stamps and saved in </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">save_dir</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">elapsed_time</span><span class="o">=</span><span class="n">timer</span><span class="o">.</span><span class="n">elapsed_time_str</span><span class="p">,</span>
        <span class="p">)</span></div></div>


<div class="viewcode-block" id="InitiateClipMultipleVideosByTimestampsPopUp"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.InitiateClipMultipleVideosByTimestampsPopUp">[docs]</a><span class="k">class</span> <span class="nc">InitiateClipMultipleVideosByTimestampsPopUp</span><span class="p">(</span><span class="n">PopUpMixin</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;CLIP MULTIPLE VIDEOS BY TIME-STAMPS&quot;</span><span class="p">)</span>
        <span class="n">data_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span>
            <span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span>
            <span class="n">header</span><span class="o">=</span><span class="s2">&quot;SELECT DATA DIRECTORIES&quot;</span><span class="p">,</span>
            <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">input_folder</span> <span class="o">=</span> <span class="n">FolderSelect</span><span class="p">(</span>
            <span class="n">data_frm</span><span class="p">,</span> <span class="s2">&quot;Video directory:&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select Folder with videos&quot;</span><span class="p">,</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">20</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">output_folder</span> <span class="o">=</span> <span class="n">FolderSelect</span><span class="p">(</span>
            <span class="n">data_frm</span><span class="p">,</span>
            <span class="s2">&quot;Output directory:&quot;</span><span class="p">,</span>
            <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select a folder for your output videos&quot;</span><span class="p">,</span>
            <span class="n">lblwidth</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">data_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">input_folder</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">output_folder</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">create_run_frm</span><span class="p">(</span><span class="n">run_function</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">)</span>

<div class="viewcode-block" id="InitiateClipMultipleVideosByTimestampsPopUp.run"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.InitiateClipMultipleVideosByTimestampsPopUp.run">[docs]</a>    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">check_if_dir_exists</span><span class="p">(</span>
            <span class="n">in_dir</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">input_folder</span><span class="o">.</span><span class="n">folder_path</span><span class="p">,</span>
            <span class="n">source</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="n">create_if_not_exist</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">check_if_dir_exists</span><span class="p">(</span>
            <span class="n">in_dir</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">output_folder</span><span class="o">.</span><span class="n">folder_path</span><span class="p">,</span>
            <span class="n">source</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="n">create_if_not_exist</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">video_paths</span> <span class="o">=</span> <span class="n">find_all_videos_in_directory</span><span class="p">(</span>
            <span class="n">directory</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">input_folder</span><span class="o">.</span><span class="n">folder_path</span><span class="p">,</span> <span class="n">as_dict</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">raise_error</span><span class="o">=</span><span class="kc">True</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">destroy</span><span class="p">()</span>
        <span class="n">_</span> <span class="o">=</span> <span class="n">ClipMultipleVideosByTimestamps</span><span class="p">(</span>
            <span class="n">data_dir</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">input_folder</span><span class="o">.</span><span class="n">folder_path</span><span class="p">,</span>
            <span class="n">save_dir</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">output_folder</span><span class="o">.</span><span class="n">folder_path</span><span class="p">,</span>
        <span class="p">)</span></div></div>

<div class="viewcode-block" id="BrightnessContrastPopUp"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.BrightnessContrastPopUp">[docs]</a><span class="k">class</span> <span class="nc">BrightnessContrastPopUp</span><span class="p">(</span><span class="n">PopUpMixin</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    .. image:: _static/img/brightness_contrast_ui.gif</span>
<span class="sd">       :width: 700</span>
<span class="sd">       :align: center</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;CHANGE BRIGHTNESS / CONTRAST&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">datetime</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%Y%m</span><span class="si">%d</span><span class="s2">%H%M%S&quot;</span><span class="p">)</span>
        <span class="n">setting_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;SETTINGS&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gpu_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">setting_frm</span><span class="p">,</span> <span class="s2">&quot;USE GPU:&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;TRUE&#39;</span><span class="p">,</span> <span class="s1">&#39;FALSE&#39;</span><span class="p">],</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gpu_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="s1">&#39;FALSE&#39;</span><span class="p">)</span>
        <span class="n">setting_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gpu_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>

        <span class="n">single_video_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;CHANGE BRIGHTNESS / CONTRAST SINGLE VIDEO&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video</span> <span class="o">=</span> <span class="n">FileSelect</span><span class="p">(</span><span class="n">single_video_frm</span><span class="p">,</span> <span class="s2">&quot;VIDEO PATH:&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select a video file&quot;</span><span class="p">,</span> <span class="n">file_types</span><span class="o">=</span><span class="p">[(</span><span class="s2">&quot;VIDEO&quot;</span><span class="p">,</span> <span class="n">Options</span><span class="o">.</span><span class="n">ALL_VIDEO_FORMAT_STR_OPTIONS</span><span class="o">.</span><span class="n">value</span><span class="p">)],</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="n">run_video_btn</span> <span class="o">=</span> <span class="n">SimbaButton</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">single_video_frm</span><span class="p">,</span> <span class="n">txt</span><span class="o">=</span><span class="s2">&quot;RUN SINGLE VIDEO&quot;</span><span class="p">,</span> <span class="n">img</span><span class="o">=</span><span class="s1">&#39;rocket&#39;</span><span class="p">,</span> <span class="n">txt_clr</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">cmd</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">run_video</span><span class="p">)</span>

        <span class="n">single_video_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="n">run_video_btn</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>

        <span class="n">video_dir_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;CHANGE BRIGHTNESS / CONTRAST MULTIPLE VIDEOS&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_dir</span> <span class="o">=</span> <span class="n">FolderSelect</span><span class="p">(</span><span class="n">video_dir_frm</span><span class="p">,</span> <span class="s2">&quot;VIDEO DIRECTORY PATH:&quot;</span><span class="p">,</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>

        <span class="n">run_dir_btn</span> <span class="o">=</span> <span class="n">SimbaButton</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">video_dir_frm</span><span class="p">,</span> <span class="n">txt</span><span class="o">=</span><span class="s2">&quot;RUN VIDEO DIRECTORY&quot;</span><span class="p">,</span> <span class="n">img</span><span class="o">=</span><span class="s1">&#39;rocket&#39;</span><span class="p">,</span> <span class="n">txt_clr</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">cmd</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">run_directory</span><span class="p">)</span>

        <span class="n">video_dir_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_dir</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="n">run_dir_btn</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>

<div class="viewcode-block" id="BrightnessContrastPopUp.run_video"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.BrightnessContrastPopUp.run_video">[docs]</a>    <span class="k">def</span> <span class="nf">run_video</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">video_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_video</span><span class="o">.</span><span class="n">file_path</span>
        <span class="n">check_file_exist_and_readable</span><span class="p">(</span><span class="n">file_path</span><span class="o">=</span><span class="n">video_path</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">brightness</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">contrast</span> <span class="o">=</span> <span class="n">brightness_contrast_ui</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">video_path</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">video_paths</span> <span class="o">=</span> <span class="p">[</span><span class="n">video_path</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">apply</span><span class="p">()</span></div>

<div class="viewcode-block" id="BrightnessContrastPopUp.run_directory"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.BrightnessContrastPopUp.run_directory">[docs]</a>    <span class="k">def</span> <span class="nf">run_directory</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">video_dir</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_dir</span><span class="o">.</span><span class="n">folder_path</span>
        <span class="n">check_if_dir_exists</span><span class="p">(</span><span class="n">in_dir</span><span class="o">=</span><span class="n">video_dir</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">video_paths</span> <span class="o">=</span> <span class="n">find_files_of_filetypes_in_directory</span><span class="p">(</span><span class="n">directory</span><span class="o">=</span><span class="n">video_dir</span><span class="p">,</span> <span class="n">extensions</span><span class="o">=</span><span class="n">Options</span><span class="o">.</span><span class="n">ALL_VIDEO_FORMAT_OPTIONS</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">raise_error</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">brightness</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">contrast</span> <span class="o">=</span> <span class="n">brightness_contrast_ui</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">video_paths</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">apply</span><span class="p">()</span></div>

<div class="viewcode-block" id="BrightnessContrastPopUp.apply"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.BrightnessContrastPopUp.apply">[docs]</a>    <span class="k">def</span> <span class="nf">apply</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">timer</span> <span class="o">=</span> <span class="n">SimbaTimer</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">gpu</span> <span class="o">=</span> <span class="n">str_2_bool</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">gpu_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">())</span>
        <span class="k">for</span> <span class="n">file_cnt</span><span class="p">,</span> <span class="n">file_path</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">video_paths</span><span class="p">):</span>
            <span class="n">video_timer</span> <span class="o">=</span> <span class="n">SimbaTimer</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="nb">dir</span><span class="p">,</span> <span class="n">video_name</span><span class="p">,</span> <span class="n">ext</span> <span class="o">=</span> <span class="n">get_fn_ext</span><span class="p">(</span><span class="n">filepath</span><span class="o">=</span><span class="n">file_path</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Creating copy of </span><span class="si">{</span><span class="n">video_name</span><span class="si">}</span><span class="s1">...&#39;</span><span class="p">)</span>
            <span class="n">out_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">dir</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">video_name</span><span class="si">}</span><span class="s1">_eq_</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">datetime</span><span class="si">}{</span><span class="n">ext</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">gpu</span><span class="p">:</span>
                <span class="n">cmd</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;ffmpeg -i &quot;</span><span class="si">{</span><span class="n">file_path</span><span class="si">}</span><span class="s1">&quot; -vf &quot;eq=brightness=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">brightness</span><span class="si">}</span><span class="s1">:contrast=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">contrast</span><span class="si">}</span><span class="s1">&quot; -loglevel error -stats &quot;</span><span class="si">{</span><span class="n">out_path</span><span class="si">}</span><span class="s1">&quot; -y&#39;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">cmd</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;ffmpeg -i -hwaccel auto &quot;</span><span class="si">{</span><span class="n">file_path</span><span class="si">}</span><span class="s1">&quot; -vf &quot;eq=brightness=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">brightness</span><span class="si">}</span><span class="s1">:contrast=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">contrast</span><span class="si">}</span><span class="s1">&quot; -c:v h264_nvenc -loglevel error -stats &quot;</span><span class="si">{</span><span class="n">out_path</span><span class="si">}</span><span class="s1">&quot; -y&#39;</span>
            <span class="n">subprocess</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="n">shell</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">stdout</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">PIPE</span><span class="p">)</span>
            <span class="n">video_timer</span><span class="o">.</span><span class="n">stop_timer</span><span class="p">()</span>
            <span class="n">stdout_success</span><span class="p">(</span><span class="n">msg</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;Video </span><span class="si">{</span><span class="n">out_path</span><span class="si">}</span><span class="s1"> complete!&#39;</span><span class="p">,</span> <span class="n">elapsed_time</span><span class="o">=</span><span class="n">video_timer</span><span class="o">.</span><span class="n">elapsed_time_str</span><span class="p">)</span>
        <span class="n">timer</span><span class="o">.</span><span class="n">stop_timer</span><span class="p">()</span>
        <span class="n">stdout_success</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">video_paths</span><span class="p">)</span><span class="si">}</span><span class="s1"> video(s) converted.&#39;</span><span class="p">,</span> <span class="n">elapsed_time</span><span class="o">=</span><span class="n">timer</span><span class="o">.</span><span class="n">elapsed_time_str</span><span class="p">)</span></div></div>

<span class="c1">#BrightnessContrastPopUp()</span>

<div class="viewcode-block" id="InteractiveClahePopUp"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.InteractiveClahePopUp">[docs]</a><span class="k">class</span> <span class="nc">InteractiveClahePopUp</span><span class="p">(</span><span class="n">PopUpMixin</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    .. image:: _static/img/interactive_clahe_ui.gif</span>
<span class="sd">       :width: 500</span>
<span class="sd">       :align: center</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;INTERACTIVE CLAHE&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">datetime</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%Y%m</span><span class="si">%d</span><span class="s2">%H%M%S&quot;</span><span class="p">)</span>
        <span class="n">single_video_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;INTERACTIVE CLAHE - SINGLE VIDEO&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video</span> <span class="o">=</span> <span class="n">FileSelect</span><span class="p">(</span><span class="n">single_video_frm</span><span class="p">,</span> <span class="s2">&quot;VIDEO PATH:&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select a video file&quot;</span><span class="p">,</span> <span class="n">file_types</span><span class="o">=</span><span class="p">[(</span><span class="s2">&quot;VIDEO&quot;</span><span class="p">,</span> <span class="n">Options</span><span class="o">.</span><span class="n">ALL_VIDEO_FORMAT_STR_OPTIONS</span><span class="o">.</span><span class="n">value</span><span class="p">)],</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="n">run_video_btn</span> <span class="o">=</span> <span class="n">SimbaButton</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">single_video_frm</span><span class="p">,</span> <span class="n">txt</span><span class="o">=</span><span class="s2">&quot;RUN SINGLE VIDEO&quot;</span><span class="p">,</span> <span class="n">img</span><span class="o">=</span><span class="s1">&#39;rocket&#39;</span><span class="p">,</span> <span class="n">txt_clr</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">cmd</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">run_video</span><span class="p">)</span>


        <span class="n">single_video_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="n">run_video_btn</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>

        <span class="n">video_dir_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;INTERACTIVE CLAHE - MULTIPLE VIDEOS&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_dir</span> <span class="o">=</span> <span class="n">FolderSelect</span><span class="p">(</span><span class="n">video_dir_frm</span><span class="p">,</span> <span class="s2">&quot;VIDEO DIRECTORY PATH:&quot;</span><span class="p">,</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="n">run_dir_btn</span> <span class="o">=</span> <span class="n">SimbaButton</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">video_dir_frm</span><span class="p">,</span> <span class="n">txt</span><span class="o">=</span><span class="s2">&quot;RUN VIDEO DIRECTORY&quot;</span><span class="p">,</span> <span class="n">img</span><span class="o">=</span><span class="s1">&#39;rocket&#39;</span><span class="p">,</span> <span class="n">txt_clr</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">cmd</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">run_directory</span><span class="p">)</span>
        <span class="n">video_dir_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_dir</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="n">run_dir_btn</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>

<div class="viewcode-block" id="InteractiveClahePopUp.run_video"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.InteractiveClahePopUp.run_video">[docs]</a>    <span class="k">def</span> <span class="nf">run_video</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">video_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_video</span><span class="o">.</span><span class="n">file_path</span>
        <span class="n">check_file_exist_and_readable</span><span class="p">(</span><span class="n">file_path</span><span class="o">=</span><span class="n">video_path</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">clip_limit</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">tile_size</span> <span class="o">=</span> <span class="n">interactive_clahe_ui</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">video_path</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">video_paths</span> <span class="o">=</span> <span class="p">[</span><span class="n">video_path</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">apply</span><span class="p">()</span></div>

<div class="viewcode-block" id="InteractiveClahePopUp.run_directory"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.InteractiveClahePopUp.run_directory">[docs]</a>    <span class="k">def</span> <span class="nf">run_directory</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">video_dir</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_dir</span><span class="o">.</span><span class="n">folder_path</span>
        <span class="n">check_if_dir_exists</span><span class="p">(</span><span class="n">in_dir</span><span class="o">=</span><span class="n">video_dir</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">video_paths</span> <span class="o">=</span> <span class="n">find_files_of_filetypes_in_directory</span><span class="p">(</span><span class="n">directory</span><span class="o">=</span><span class="n">video_dir</span><span class="p">,</span> <span class="n">extensions</span><span class="o">=</span><span class="n">Options</span><span class="o">.</span><span class="n">ALL_VIDEO_FORMAT_OPTIONS</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">raise_error</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">clip_limit</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">tile_size</span> <span class="o">=</span> <span class="n">interactive_clahe_ui</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">video_paths</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">apply</span><span class="p">()</span></div>

<div class="viewcode-block" id="InteractiveClahePopUp.apply"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.InteractiveClahePopUp.apply">[docs]</a>    <span class="k">def</span> <span class="nf">apply</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">timer</span> <span class="o">=</span> <span class="n">SimbaTimer</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">file_cnt</span><span class="p">,</span> <span class="n">file_path</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">video_paths</span><span class="p">):</span>
            <span class="nb">dir</span><span class="p">,</span> <span class="n">video_name</span><span class="p">,</span> <span class="n">ext</span> <span class="o">=</span> <span class="n">get_fn_ext</span><span class="p">(</span><span class="n">filepath</span><span class="o">=</span><span class="n">file_path</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Creating CLAHE copy of </span><span class="si">{</span><span class="n">video_name</span><span class="si">}</span><span class="s1">...&#39;</span><span class="p">)</span>
            <span class="n">out_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">dir</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">video_name</span><span class="si">}</span><span class="s1">_CLAHE_CLIPLIMIT_</span><span class="si">{</span><span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">clip_limit</span><span class="p">)</span><span class="si">}</span><span class="s1">_TILESIZE_</span><span class="si">{</span><span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tile_size</span><span class="p">)</span><span class="si">}</span><span class="s1">_</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">datetime</span><span class="si">}{</span><span class="n">ext</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">clahe_enhance_video</span><span class="p">(</span><span class="n">file_path</span><span class="o">=</span><span class="n">file_path</span><span class="p">,</span> <span class="n">clip_limit</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">clip_limit</span><span class="p">),</span> <span class="n">tile_grid_size</span><span class="o">=</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tile_size</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tile_size</span><span class="p">)),</span> <span class="n">out_path</span><span class="o">=</span><span class="n">out_path</span><span class="p">)</span>
        <span class="n">timer</span><span class="o">.</span><span class="n">stop_timer</span><span class="p">()</span>
        <span class="n">stdout_success</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">video_paths</span><span class="p">)</span><span class="si">}</span><span class="s1"> video(s) converted.&#39;</span><span class="p">,</span> <span class="n">elapsed_time</span><span class="o">=</span><span class="n">timer</span><span class="o">.</span><span class="n">elapsed_time_str</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="DownsampleSingleVideoPopUp"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.DownsampleSingleVideoPopUp">[docs]</a><span class="k">class</span> <span class="nc">DownsampleSingleVideoPopUp</span><span class="p">(</span><span class="n">PopUpMixin</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">PopUpMixin</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;DOWN-SAMPLE SINGLE VIDEO RESOLUTION&quot;</span><span class="p">)</span>
        <span class="n">choose_video_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;SELECT VIDEO&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">DOWNSAMPLE</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">video_path_selected</span> <span class="o">=</span> <span class="n">FileSelect</span><span class="p">(</span><span class="n">choose_video_frm</span><span class="p">,</span> <span class="s2">&quot;VIDEO PATH: &quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select a video file&quot;</span><span class="p">,</span> <span class="n">file_types</span><span class="o">=</span><span class="p">[(</span><span class="s2">&quot;VIDEO FILE&quot;</span><span class="p">,</span> <span class="n">Options</span><span class="o">.</span><span class="n">ALL_VIDEO_FORMAT_STR_OPTIONS</span><span class="o">.</span><span class="n">value</span><span class="p">)])</span>
        <span class="n">choose_video_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">video_path_selected</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>

        <span class="n">gpu_frm</span> <span class="o">=</span> <span class="n">LabelFrame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;GPU (REDUCED RUNTIMES)&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_HEADER</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">fg</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="n">use_gpu_cb</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_gpu_var</span> <span class="o">=</span> <span class="n">SimbaCheckbox</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">gpu_frm</span><span class="p">,</span> <span class="n">txt</span><span class="o">=</span><span class="s2">&quot;Use GPU (reduced runtime)&quot;</span><span class="p">,</span> <span class="n">txt_img</span><span class="o">=</span><span class="s1">&#39;gpu_2&#39;</span><span class="p">)</span>

        <span class="n">gpu_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="n">use_gpu_cb</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>

        <span class="n">custom_size_frm</span> <span class="o">=</span> <span class="n">LabelFrame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;CUSTOM RESOLUTION&quot;</span><span class="p">,</span><span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_HEADER</span><span class="o">.</span><span class="n">value</span><span class="p">,</span><span class="n">fg</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span><span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class="n">pady</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">entry_width</span> <span class="o">=</span> <span class="n">Entry_Box</span><span class="p">(</span><span class="n">custom_size_frm</span><span class="p">,</span> <span class="s2">&quot;Width&quot;</span><span class="p">,</span> <span class="s2">&quot;10&quot;</span><span class="p">,</span> <span class="n">validation</span><span class="o">=</span><span class="s2">&quot;numeric&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">entry_height</span> <span class="o">=</span> <span class="n">Entry_Box</span><span class="p">(</span><span class="n">custom_size_frm</span><span class="p">,</span> <span class="s2">&quot;Height&quot;</span><span class="p">,</span> <span class="s2">&quot;10&quot;</span><span class="p">,</span> <span class="n">validation</span><span class="o">=</span><span class="s2">&quot;numeric&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">custom_downsample_btn</span> <span class="o">=</span> <span class="n">SimbaButton</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">custom_size_frm</span><span class="p">,</span> <span class="n">txt</span><span class="o">=</span><span class="s2">&quot;DOWN-SAMPLE USING CUSTOM RESOLUTION&quot;</span><span class="p">,</span> <span class="n">img</span><span class="o">=</span><span class="s1">&#39;rocket&#39;</span><span class="p">,</span> <span class="n">txt_clr</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">cmd</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">downsample_custom</span><span class="p">)</span>


        <span class="n">custom_size_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">entry_width</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">entry_height</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">custom_downsample_btn</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>

        <span class="n">default_size_frm</span> <span class="o">=</span> <span class="n">LabelFrame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;DEFAULT RESOLUTION&quot;</span><span class="p">,</span><span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_HEADER</span><span class="o">.</span><span class="n">value</span><span class="p">,</span><span class="n">fg</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span><span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class="n">pady</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">width_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">default_size_frm</span><span class="p">,</span> <span class="s2">&quot;WIDTH:&quot;</span><span class="p">,</span> <span class="n">Options</span><span class="o">.</span><span class="n">RESOLUTION_OPTIONS_2</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">height_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">default_size_frm</span><span class="p">,</span> <span class="s2">&quot;HEIGHT:&quot;</span><span class="p">,</span> <span class="n">Options</span><span class="o">.</span><span class="n">RESOLUTION_OPTIONS_2</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">width_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="mi">640</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">height_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="s2">&quot;AUTO&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">default_downsample_btn</span> <span class="o">=</span> <span class="n">SimbaButton</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">default_size_frm</span><span class="p">,</span> <span class="n">txt</span><span class="o">=</span><span class="s2">&quot;DOWN-SAMPLE USING DEFAULT RESOLUTION&quot;</span><span class="p">,</span> <span class="n">img</span><span class="o">=</span><span class="s1">&#39;rocket&#39;</span><span class="p">,</span> <span class="n">txt_clr</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">cmd</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">downsample_default</span><span class="p">)</span>

        <span class="n">default_size_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">width_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">height_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">default_downsample_btn</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_checks</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">check_ffmpeg_available</span><span class="p">(</span><span class="n">raise_error</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gpu</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_gpu_var</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">gpu</span><span class="p">:</span>
            <span class="n">check_nvidea_gpu_available</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">video_path_selected</span><span class="o">.</span><span class="n">file_path</span>
        <span class="n">check_file_exist_and_readable</span><span class="p">(</span><span class="n">file_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">file_path</span><span class="p">)</span>
        <span class="n">_</span> <span class="o">=</span> <span class="n">get_video_meta_data</span><span class="p">(</span><span class="n">video_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">file_path</span><span class="p">)</span>

<div class="viewcode-block" id="DownsampleSingleVideoPopUp.downsample_custom"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.DownsampleSingleVideoPopUp.downsample_custom">[docs]</a>    <span class="k">def</span> <span class="nf">downsample_custom</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_checks</span><span class="p">()</span>
        <span class="n">width</span><span class="p">,</span> <span class="n">height</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">entry_width</span><span class="o">.</span><span class="n">entry_get</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">entry_height</span><span class="o">.</span><span class="n">entry_get</span>
        <span class="n">check_int</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1"> width&#39;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">width</span><span class="p">,</span> <span class="n">min_value</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">check_int</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1"> height&#39;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">height</span><span class="p">,</span> <span class="n">min_value</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">downsample_video</span><span class="p">(</span><span class="n">file_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">file_path</span><span class="p">,</span> <span class="n">video_height</span><span class="o">=</span><span class="n">height</span><span class="p">,</span> <span class="n">video_width</span><span class="o">=</span><span class="n">width</span><span class="p">,</span> <span class="n">gpu</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">gpu</span><span class="p">))</span><span class="o">.</span><span class="n">start</span><span class="p">()</span></div>

<div class="viewcode-block" id="DownsampleSingleVideoPopUp.downsample_default"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.DownsampleSingleVideoPopUp.downsample_default">[docs]</a>    <span class="k">def</span> <span class="nf">downsample_default</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_checks</span><span class="p">()</span>
        <span class="n">width</span><span class="p">,</span> <span class="n">height</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">width_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">height_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">width</span> <span class="o">==</span> <span class="s1">&#39;AUTO&#39;</span> <span class="ow">and</span> <span class="n">height</span> <span class="o">==</span> <span class="s1">&#39;AUTO&#39;</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">InvalidInputError</span><span class="p">(</span><span class="n">msg</span><span class="o">=</span><span class="s1">&#39;Both width and height cannot be AUTO&#39;</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">width</span> <span class="o">==</span> <span class="s1">&#39;AUTO&#39;</span><span class="p">:</span>
            <span class="n">resize_videos_by_height</span><span class="p">(</span><span class="n">video_paths</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">file_path</span><span class="p">],</span> <span class="n">height</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">height</span><span class="p">),</span> <span class="n">overwrite</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">save_dir</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">gpu</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">gpu</span><span class="p">,</span> <span class="n">suffix</span><span class="o">=</span><span class="s1">&#39;downsampled&#39;</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">height</span> <span class="o">==</span> <span class="s1">&#39;AUTO&#39;</span><span class="p">:</span>
            <span class="n">resize_videos_by_width</span><span class="p">(</span><span class="n">video_paths</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">file_path</span><span class="p">],</span> <span class="n">width</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">width</span><span class="p">),</span> <span class="n">overwrite</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">save_dir</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">gpu</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">gpu</span><span class="p">,</span> <span class="n">suffix</span><span class="o">=</span><span class="s1">&#39;downsampled&#39;</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">downsample_video</span><span class="p">(</span><span class="n">file_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">file_path</span><span class="p">,</span> <span class="n">video_height</span><span class="o">=</span><span class="n">height</span><span class="p">,</span> <span class="n">video_width</span><span class="o">=</span><span class="n">width</span><span class="p">,</span> <span class="n">gpu</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">gpu</span><span class="p">))</span><span class="o">.</span><span class="n">start</span><span class="p">()</span></div></div>

<div class="viewcode-block" id="DownsampleMultipleVideosPopUp"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.DownsampleMultipleVideosPopUp">[docs]</a><span class="k">class</span> <span class="nc">DownsampleMultipleVideosPopUp</span><span class="p">(</span><span class="n">PopUpMixin</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">PopUpMixin</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;DOWN-SAMPLE MULTIPLE VIDEO RESOLUTION&quot;</span><span class="p">)</span>
        <span class="n">choose_video_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;SELECT VIDEO&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">DOWNSAMPLE</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">video_dir_selected</span> <span class="o">=</span> <span class="n">FolderSelect</span><span class="p">(</span><span class="n">choose_video_frm</span><span class="p">,</span> <span class="s2">&quot;VIDEO DIRECTORY:&quot;</span><span class="p">,</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select Folder with videos&quot;</span><span class="p">,</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
        <span class="n">choose_video_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">video_dir_selected</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>

        <span class="n">gpu_frm</span> <span class="o">=</span> <span class="n">LabelFrame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;GPU (REDUCED RUNTIMES)&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_HEADER</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">fg</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="n">use_gpu_cb</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_gpu_var</span> <span class="o">=</span> <span class="n">SimbaCheckbox</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">gpu_frm</span><span class="p">,</span> <span class="n">txt</span><span class="o">=</span><span class="s2">&quot;Use GPU (reduced runtime)&quot;</span><span class="p">,</span> <span class="n">txt_img</span><span class="o">=</span><span class="s1">&#39;gpu_2&#39;</span><span class="p">)</span>

        <span class="n">gpu_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="n">use_gpu_cb</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>

        <span class="n">custom_size_frm</span> <span class="o">=</span> <span class="n">LabelFrame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;CUSTOM RESOLUTION&quot;</span><span class="p">,</span><span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_HEADER</span><span class="o">.</span><span class="n">value</span><span class="p">,</span><span class="n">fg</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span><span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class="n">pady</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">entry_width</span> <span class="o">=</span> <span class="n">Entry_Box</span><span class="p">(</span><span class="n">custom_size_frm</span><span class="p">,</span> <span class="s2">&quot;Width&quot;</span><span class="p">,</span> <span class="s2">&quot;10&quot;</span><span class="p">,</span> <span class="n">validation</span><span class="o">=</span><span class="s2">&quot;numeric&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">entry_height</span> <span class="o">=</span> <span class="n">Entry_Box</span><span class="p">(</span><span class="n">custom_size_frm</span><span class="p">,</span> <span class="s2">&quot;Height&quot;</span><span class="p">,</span> <span class="s2">&quot;10&quot;</span><span class="p">,</span> <span class="n">validation</span><span class="o">=</span><span class="s2">&quot;numeric&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">custom_downsample_btn</span> <span class="o">=</span> <span class="n">SimbaButton</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">custom_size_frm</span><span class="p">,</span> <span class="n">txt</span><span class="o">=</span><span class="s2">&quot;DOWN-SAMPLE USING CUSTOM RESOLUTION&quot;</span><span class="p">,</span> <span class="n">img</span><span class="o">=</span><span class="s1">&#39;rocket&#39;</span><span class="p">,</span> <span class="n">txt_clr</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">cmd</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">downsample_custom</span><span class="p">)</span>

        <span class="n">custom_size_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">entry_width</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">entry_height</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">custom_downsample_btn</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>

        <span class="n">default_size_frm</span> <span class="o">=</span> <span class="n">LabelFrame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;DEFAULT RESOLUTION&quot;</span><span class="p">,</span><span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_HEADER</span><span class="o">.</span><span class="n">value</span><span class="p">,</span><span class="n">fg</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span><span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class="n">pady</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">width_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">default_size_frm</span><span class="p">,</span> <span class="s2">&quot;WIDTH:&quot;</span><span class="p">,</span> <span class="n">Options</span><span class="o">.</span><span class="n">RESOLUTION_OPTIONS_2</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">height_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">default_size_frm</span><span class="p">,</span> <span class="s2">&quot;HEIGHT:&quot;</span><span class="p">,</span> <span class="n">Options</span><span class="o">.</span><span class="n">RESOLUTION_OPTIONS_2</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">width_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="mi">640</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">height_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="s2">&quot;AUTO&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">default_downsample_btn</span> <span class="o">=</span> <span class="n">SimbaButton</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">default_size_frm</span><span class="p">,</span> <span class="n">txt</span><span class="o">=</span><span class="s2">&quot;DOWN-SAMPLE USING DEFAULT RESOLUTION&quot;</span><span class="p">,</span> <span class="n">img</span><span class="o">=</span><span class="s1">&#39;rocket&#39;</span><span class="p">,</span> <span class="n">txt_clr</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">cmd</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">downsample_default</span><span class="p">)</span>

        <span class="n">default_size_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">width_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">height_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">default_downsample_btn</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_checks</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">check_ffmpeg_available</span><span class="p">(</span><span class="n">raise_error</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gpu</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_gpu_var</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">gpu</span><span class="p">:</span>
            <span class="n">check_nvidea_gpu_available</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">video_directory</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">video_dir_selected</span><span class="o">.</span><span class="n">folder_path</span>
        <span class="n">check_if_dir_exists</span><span class="p">(</span><span class="n">in_dir</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">video_directory</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">video_paths</span> <span class="o">=</span> <span class="n">find_all_videos_in_directory</span><span class="p">(</span><span class="n">directory</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">video_directory</span><span class="p">,</span> <span class="n">raise_error</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">as_dict</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<div class="viewcode-block" id="DownsampleMultipleVideosPopUp.downsample_custom"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.DownsampleMultipleVideosPopUp.downsample_custom">[docs]</a>    <span class="k">def</span> <span class="nf">downsample_custom</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_checks</span><span class="p">()</span>
        <span class="n">width</span><span class="p">,</span> <span class="n">height</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">entry_width</span><span class="o">.</span><span class="n">entry_get</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">entry_height</span><span class="o">.</span><span class="n">entry_get</span>
        <span class="n">check_int</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1"> width&#39;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">width</span><span class="p">,</span> <span class="n">min_value</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">check_int</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1"> height&#39;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">height</span><span class="p">,</span> <span class="n">min_value</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">file_path</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">video_paths</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">downsample_video</span><span class="p">(</span><span class="n">file_path</span><span class="o">=</span><span class="n">file_path</span><span class="p">,</span> <span class="n">video_height</span><span class="o">=</span><span class="n">height</span><span class="p">,</span> <span class="n">video_width</span><span class="o">=</span><span class="n">width</span><span class="p">,</span> <span class="n">gpu</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">gpu</span><span class="p">))</span><span class="o">.</span><span class="n">start</span><span class="p">()</span></div>

<div class="viewcode-block" id="DownsampleMultipleVideosPopUp.downsample_default"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.DownsampleMultipleVideosPopUp.downsample_default">[docs]</a>    <span class="k">def</span> <span class="nf">downsample_default</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_checks</span><span class="p">()</span>
        <span class="n">width</span><span class="p">,</span> <span class="n">height</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">width_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">height_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">width</span> <span class="o">==</span> <span class="s1">&#39;AUTO&#39;</span> <span class="ow">and</span> <span class="n">height</span> <span class="o">==</span> <span class="s1">&#39;AUTO&#39;</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">InvalidInputError</span><span class="p">(</span><span class="n">msg</span><span class="o">=</span><span class="s1">&#39;Both width and height cannot be AUTO&#39;</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">width</span> <span class="o">==</span> <span class="s1">&#39;AUTO&#39;</span><span class="p">:</span>
            <span class="n">resize_videos_by_height</span><span class="p">(</span><span class="n">video_paths</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">video_paths</span><span class="o">.</span><span class="n">values</span><span class="p">()),</span> <span class="n">height</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">height</span><span class="p">),</span> <span class="n">overwrite</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">save_dir</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">gpu</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">gpu</span><span class="p">,</span> <span class="n">suffix</span><span class="o">=</span><span class="s1">&#39;downsampled&#39;</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">height</span> <span class="o">==</span> <span class="s1">&#39;AUTO&#39;</span><span class="p">:</span>
            <span class="n">resize_videos_by_width</span><span class="p">(</span><span class="n">video_paths</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">video_paths</span><span class="o">.</span><span class="n">values</span><span class="p">()),</span> <span class="n">width</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">width</span><span class="p">),</span> <span class="n">overwrite</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">save_dir</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">gpu</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">gpu</span><span class="p">,</span> <span class="n">suffix</span><span class="o">=</span><span class="s1">&#39;downsampled&#39;</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">file_path</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">video_paths</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
                <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">downsample_video</span><span class="p">(</span><span class="n">file_path</span><span class="o">=</span><span class="n">file_path</span><span class="p">,</span> <span class="n">video_height</span><span class="o">=</span><span class="n">height</span><span class="p">,</span> <span class="n">video_width</span><span class="o">=</span><span class="n">width</span><span class="p">,</span> <span class="n">gpu</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">gpu</span><span class="p">))</span><span class="o">.</span><span class="n">start</span><span class="p">()</span></div></div>

<div class="viewcode-block" id="Convert2jpegPopUp"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.Convert2jpegPopUp">[docs]</a><span class="k">class</span> <span class="nc">Convert2jpegPopUp</span><span class="p">(</span><span class="n">PopUpMixin</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;CONVERT IMAGE DIRECTORY TO JPEG&quot;</span><span class="p">)</span>
        <span class="n">settings_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;SETTINGS&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">quality_lbl</span> <span class="o">=</span> <span class="n">Label</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;JPEG OUTPUT QUALITY: &quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">quality_scale</span> <span class="o">=</span> <span class="n">Scale</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="n">from_</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">to</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">orient</span><span class="o">=</span><span class="n">HORIZONTAL</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;JPEG OUTPUT QUALITY&#39;</span><span class="p">,</span> <span class="n">fg</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">quality_scale</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">95</span><span class="p">)</span>
        <span class="n">settings_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">quality_scale</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>

        <span class="n">img_dir_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;CONVERT IMAGE DIRECTORY TO JPEG&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_frame_dir</span> <span class="o">=</span> <span class="n">FolderSelect</span><span class="p">(</span><span class="n">img_dir_frm</span><span class="p">,</span> <span class="s2">&quot;IMAGE DIRECTORY PATH:&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select a image directory&quot;</span><span class="p">,</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>

        <span class="n">run_btn_dir</span> <span class="o">=</span> <span class="n">SimbaButton</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">img_dir_frm</span><span class="p">,</span> <span class="n">txt</span><span class="o">=</span><span class="s2">&quot;RUN DIRECTORY JPEG CONVERSION&quot;</span><span class="p">,</span> <span class="n">img</span><span class="o">=</span><span class="s1">&#39;rocket&#39;</span><span class="p">,</span> <span class="n">txt_clr</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">cmd</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">run_dir</span><span class="p">)</span>
        <span class="n">img_dir_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_frame_dir</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="n">run_btn_dir</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>

        <span class="n">img_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;CONVERT IMAGE TO JPEG&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_file</span> <span class="o">=</span> <span class="n">FileSelect</span><span class="p">(</span><span class="n">img_frm</span><span class="p">,</span> <span class="s2">&quot;IMAGE PATH:&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select an image file&quot;</span><span class="p">,</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">file_types</span><span class="o">=</span><span class="p">[(</span><span class="s2">&quot;VIDEO FILE&quot;</span><span class="p">,</span> <span class="n">Options</span><span class="o">.</span><span class="n">ALL_IMAGE_FORMAT_OPTIONS</span><span class="o">.</span><span class="n">value</span><span class="p">)])</span>

        <span class="n">run_btn_img</span> <span class="o">=</span> <span class="n">SimbaButton</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">img_frm</span><span class="p">,</span> <span class="n">txt</span><span class="o">=</span><span class="s2">&quot;RUN IMAGE JPEG CONVERSION&quot;</span><span class="p">,</span> <span class="n">img</span><span class="o">=</span><span class="s1">&#39;rocket&#39;</span><span class="p">,</span> <span class="n">txt_clr</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">cmd</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">run_img</span><span class="p">)</span>
        <span class="n">img_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_file</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="n">run_btn_img</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>

<div class="viewcode-block" id="Convert2jpegPopUp.run_dir"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.Convert2jpegPopUp.run_dir">[docs]</a>    <span class="k">def</span> <span class="nf">run_dir</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">folder_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_frame_dir</span><span class="o">.</span><span class="n">folder_path</span>
        <span class="n">check_if_dir_exists</span><span class="p">(</span><span class="n">in_dir</span><span class="o">=</span><span class="n">folder_path</span><span class="p">)</span>
        <span class="n">_</span> <span class="o">=</span> <span class="n">convert_to_jpeg</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">folder_path</span><span class="p">,</span> <span class="n">quality</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">quality_scale</span><span class="o">.</span><span class="n">get</span><span class="p">()),</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></div>

<div class="viewcode-block" id="Convert2jpegPopUp.run_img"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.Convert2jpegPopUp.run_img">[docs]</a>    <span class="k">def</span> <span class="nf">run_img</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">file_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_file</span><span class="o">.</span><span class="n">file_path</span>
        <span class="n">check_file_exist_and_readable</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>
        <span class="n">_</span> <span class="o">=</span> <span class="n">convert_to_jpeg</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">file_path</span><span class="p">,</span> <span class="n">quality</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">quality_scale</span><span class="o">.</span><span class="n">get</span><span class="p">()),</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="Convert2bmpPopUp"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.Convert2bmpPopUp">[docs]</a><span class="k">class</span> <span class="nc">Convert2bmpPopUp</span><span class="p">(</span><span class="n">PopUpMixin</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;CONVERT IMAGES TO BMP&quot;</span><span class="p">)</span>
        <span class="n">img_dir_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;CONVERT IMAGE DIRECTORY TO BMP&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_frame_dir</span> <span class="o">=</span> <span class="n">FolderSelect</span><span class="p">(</span><span class="n">img_dir_frm</span><span class="p">,</span> <span class="s2">&quot;IMAGE DIRECTORY PATH:&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select a image directory&quot;</span><span class="p">,</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>

        <span class="n">run_btn_dir</span> <span class="o">=</span> <span class="n">SimbaButton</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">img_dir_frm</span><span class="p">,</span> <span class="n">txt</span><span class="o">=</span><span class="s2">&quot;RUN DIRECTORY BMP CONVERSION&quot;</span><span class="p">,</span> <span class="n">img</span><span class="o">=</span><span class="s1">&#39;rocket&#39;</span><span class="p">,</span> <span class="n">txt_clr</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">cmd</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">run_dir</span><span class="p">)</span>
        <span class="n">img_dir_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_frame_dir</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="n">run_btn_dir</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>

        <span class="n">img_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;CONVERT IMAGE TO BMP&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_file</span> <span class="o">=</span> <span class="n">FileSelect</span><span class="p">(</span><span class="n">img_frm</span><span class="p">,</span> <span class="s2">&quot;IMAGE PATH:&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select an image file&quot;</span><span class="p">,</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">file_types</span><span class="o">=</span><span class="p">[(</span><span class="s2">&quot;VIDEO FILE&quot;</span><span class="p">,</span> <span class="n">Options</span><span class="o">.</span><span class="n">ALL_IMAGE_FORMAT_OPTIONS</span><span class="o">.</span><span class="n">value</span><span class="p">)])</span>
        <span class="n">run_btn_img</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span><span class="n">img_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;RUN IMAGE BMP CONVERSION&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">run_img</span><span class="p">())</span>

        <span class="n">img_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_file</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="n">run_btn_img</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>

<div class="viewcode-block" id="Convert2bmpPopUp.run_dir"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.Convert2bmpPopUp.run_dir">[docs]</a>    <span class="k">def</span> <span class="nf">run_dir</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">folder_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_frame_dir</span><span class="o">.</span><span class="n">folder_path</span>
        <span class="n">check_if_dir_exists</span><span class="p">(</span><span class="n">in_dir</span><span class="o">=</span><span class="n">folder_path</span><span class="p">)</span>
        <span class="n">_</span> <span class="o">=</span> <span class="n">convert_to_bmp</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">folder_path</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></div>

<div class="viewcode-block" id="Convert2bmpPopUp.run_img"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.Convert2bmpPopUp.run_img">[docs]</a>    <span class="k">def</span> <span class="nf">run_img</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">file_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_file</span><span class="o">.</span><span class="n">file_path</span>
        <span class="n">check_file_exist_and_readable</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>
        <span class="n">_</span> <span class="o">=</span> <span class="n">convert_to_bmp</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">file_path</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="Convert2WEBPPopUp"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.Convert2WEBPPopUp">[docs]</a><span class="k">class</span> <span class="nc">Convert2WEBPPopUp</span><span class="p">(</span><span class="n">PopUpMixin</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;CONVERT IMAGES TO WEBP&quot;</span><span class="p">)</span>
        <span class="n">settings_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;SETTINGS&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">quality_lbl</span> <span class="o">=</span> <span class="n">Label</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;WEBP OUTPUT QUALITY: &quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">quality_scale</span> <span class="o">=</span> <span class="n">Scale</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="n">from_</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">to</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">orient</span><span class="o">=</span><span class="n">HORIZONTAL</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;WEBP QUALITY&#39;</span><span class="p">,</span> <span class="n">fg</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">quality_scale</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">95</span><span class="p">)</span>
        <span class="n">settings_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">quality_scale</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>

        <span class="n">convert_dir_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;CONVERT IMAGE DIRECTORY TO WEBP&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_frame_dir</span> <span class="o">=</span> <span class="n">FolderSelect</span><span class="p">(</span><span class="n">convert_dir_frm</span><span class="p">,</span> <span class="s2">&quot;IMAGE DIRECTORY PATH:&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select a image directory&quot;</span><span class="p">,</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>

        <span class="n">run_btn_dir</span> <span class="o">=</span> <span class="n">SimbaButton</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">convert_dir_frm</span><span class="p">,</span> <span class="n">txt</span><span class="o">=</span><span class="s2">&quot;RUN IMAGE DIRECTORY WEBP CONVERSION&quot;</span><span class="p">,</span> <span class="n">img</span><span class="o">=</span><span class="s1">&#39;rocket&#39;</span><span class="p">,</span> <span class="n">txt_clr</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">cmd</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">run_dir</span><span class="p">)</span>

        <span class="n">convert_dir_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_frame_dir</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="n">run_btn_dir</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>

        <span class="n">convert_img_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;CONVERT IMAGE FILE TO WEBP&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_file</span> <span class="o">=</span> <span class="n">FileSelect</span><span class="p">(</span><span class="n">convert_img_frm</span><span class="p">,</span> <span class="s2">&quot;IMAGE PATH:&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select an image file&quot;</span><span class="p">,</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">file_types</span><span class="o">=</span><span class="p">[(</span><span class="s2">&quot;VIDEO FILE&quot;</span><span class="p">,</span> <span class="n">Options</span><span class="o">.</span><span class="n">ALL_IMAGE_FORMAT_OPTIONS</span><span class="o">.</span><span class="n">value</span><span class="p">)])</span>


        <span class="n">run_btn_frm</span> <span class="o">=</span> <span class="n">SimbaButton</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">convert_img_frm</span><span class="p">,</span> <span class="n">txt</span><span class="o">=</span><span class="s2">&quot;RUN IMAGE WEBP CONVERSION&quot;</span><span class="p">,</span> <span class="n">img</span><span class="o">=</span><span class="s1">&#39;rocket&#39;</span><span class="p">,</span> <span class="n">txt_clr</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">cmd</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">run_img</span><span class="p">)</span>
        <span class="n">convert_img_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_file</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="n">run_btn_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>

        <span class="c1">#self.main_frm.mainloop()</span>

<div class="viewcode-block" id="Convert2WEBPPopUp.run_dir"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.Convert2WEBPPopUp.run_dir">[docs]</a>    <span class="k">def</span> <span class="nf">run_dir</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">folder_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_frame_dir</span><span class="o">.</span><span class="n">folder_path</span>
        <span class="n">check_if_dir_exists</span><span class="p">(</span><span class="n">in_dir</span><span class="o">=</span><span class="n">folder_path</span><span class="p">)</span>
        <span class="n">_</span> <span class="o">=</span> <span class="n">convert_to_webp</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">folder_path</span><span class="p">,</span> <span class="n">quality</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">quality_scale</span><span class="o">.</span><span class="n">get</span><span class="p">()),</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></div>

<div class="viewcode-block" id="Convert2WEBPPopUp.run_img"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.Convert2WEBPPopUp.run_img">[docs]</a>    <span class="k">def</span> <span class="nf">run_img</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">file_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_file</span><span class="o">.</span><span class="n">file_path</span>
        <span class="n">check_file_exist_and_readable</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>
        <span class="n">_</span> <span class="o">=</span> <span class="n">convert_to_webp</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">file_path</span><span class="p">,</span> <span class="n">quality</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">quality_scale</span><span class="o">.</span><span class="n">get</span><span class="p">()),</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></div></div>

<div class="viewcode-block" id="Convert2TIFFPopUp"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.Convert2TIFFPopUp">[docs]</a><span class="k">class</span> <span class="nc">Convert2TIFFPopUp</span><span class="p">(</span><span class="n">PopUpMixin</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;CONVERT IMAGE DIRECTORY TO TIFF&quot;</span><span class="p">)</span>
        <span class="n">settings_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;SETTINGS&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_frame_dir</span> <span class="o">=</span> <span class="n">FolderSelect</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;IMAGE DIRECTORY PATH:&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select a image directory&quot;</span><span class="p">,</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">compression_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;COMPRESSION:&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;raw&#39;</span><span class="p">,</span> <span class="s1">&#39;tiff_deflate&#39;</span><span class="p">,</span> <span class="s1">&#39;tiff_lzw&#39;</span><span class="p">],</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">compression_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="s1">&#39;raw&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stack_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;STACK:&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;FALSE&#39;</span><span class="p">,</span> <span class="s1">&#39;TRUE&#39;</span><span class="p">],</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stack_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="s1">&#39;FALSE&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">create_run_frm</span><span class="p">(</span><span class="n">run_function</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;RUN TIFF CONVERSION&#39;</span><span class="p">)</span>

        <span class="n">settings_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_frame_dir</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">compression_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stack_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="c1">#self.main_frm.mainloop()</span>

<div class="viewcode-block" id="Convert2TIFFPopUp.run"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.Convert2TIFFPopUp.run">[docs]</a>    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">folder_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_frame_dir</span><span class="o">.</span><span class="n">folder_path</span>
        <span class="n">check_if_dir_exists</span><span class="p">(</span><span class="n">in_dir</span><span class="o">=</span><span class="n">folder_path</span><span class="p">)</span>
        <span class="n">stack</span> <span class="o">=</span> <span class="n">str_2_bool</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">stack_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">())</span>
        <span class="n">convert_to_tiff</span><span class="p">(</span><span class="n">directory</span><span class="o">=</span><span class="n">folder_path</span><span class="p">,</span> <span class="n">compression</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">compression_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">(),</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">stack</span><span class="o">=</span><span class="n">stack</span><span class="p">)</span></div></div>

<div class="viewcode-block" id="Convert2PNGPopUp"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.Convert2PNGPopUp">[docs]</a><span class="k">class</span> <span class="nc">Convert2PNGPopUp</span><span class="p">(</span><span class="n">PopUpMixin</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;CONVERT IMAGE TO PNG&quot;</span><span class="p">)</span>
        <span class="n">img_dir_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;CONVERT IMAGE DIRECTORY TO PNG&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_frame_dir</span> <span class="o">=</span> <span class="n">FolderSelect</span><span class="p">(</span><span class="n">img_dir_frm</span><span class="p">,</span> <span class="s2">&quot;IMAGE DIRECTORY PATH:&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select a image directory&quot;</span><span class="p">,</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="n">run_btn_dir</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span><span class="n">img_dir_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;RUN DIRECTORY PNG CONVERSION&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">run_dir</span><span class="p">())</span>

        <span class="n">img_dir_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_frame_dir</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="n">run_btn_dir</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>

        <span class="n">img_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;CONVERT IMAGE TO PNG&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_file_dir</span> <span class="o">=</span> <span class="n">FileSelect</span><span class="p">(</span><span class="n">img_frm</span><span class="p">,</span> <span class="s2">&quot;IMAGE PATH:&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select a video file&quot;</span><span class="p">,</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">file_types</span><span class="o">=</span><span class="p">[(</span><span class="s2">&quot;VIDEO FILE&quot;</span><span class="p">,</span> <span class="n">Options</span><span class="o">.</span><span class="n">ALL_IMAGE_FORMAT_OPTIONS</span><span class="o">.</span><span class="n">value</span><span class="p">)])</span>
        <span class="n">run_btn_img</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span><span class="n">img_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;RUN PNG CONVERSION&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">run_img</span><span class="p">())</span>

        <span class="n">img_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_file_dir</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="n">run_btn_img</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="o">.</span><span class="n">mainloop</span><span class="p">()</span>

<div class="viewcode-block" id="Convert2PNGPopUp.run_dir"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.Convert2PNGPopUp.run_dir">[docs]</a>    <span class="k">def</span> <span class="nf">run_dir</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">folder_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_frame_dir</span><span class="o">.</span><span class="n">folder_path</span>
        <span class="n">check_if_dir_exists</span><span class="p">(</span><span class="n">in_dir</span><span class="o">=</span><span class="n">folder_path</span><span class="p">)</span>
        <span class="n">_</span> <span class="o">=</span> <span class="n">convert_to_png</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">folder_path</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></div>

<div class="viewcode-block" id="Convert2PNGPopUp.run_img"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.Convert2PNGPopUp.run_img">[docs]</a>    <span class="k">def</span> <span class="nf">run_img</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">file_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_file_dir</span><span class="o">.</span><span class="n">file_path</span>
        <span class="n">check_file_exist_and_readable</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>
        <span class="n">_</span> <span class="o">=</span> <span class="n">convert_to_png</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">file_path</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></div></div>

<div class="viewcode-block" id="Convert2MP4PopUp"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.Convert2MP4PopUp">[docs]</a><span class="k">class</span> <span class="nc">Convert2MP4PopUp</span><span class="p">(</span><span class="n">PopUpMixin</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    :example:</span>
<span class="sd">    &gt;&gt;&gt; Convert2MP4PopUp()</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;CONVERT VIDEOS TO MP4&quot;</span><span class="p">)</span>
        <span class="n">settings_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;SETTINGS&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">MP4_CODEC_LK</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;HEVC (H.265)&#39;</span><span class="p">:</span> <span class="s1">&#39;libx265&#39;</span><span class="p">,</span> <span class="s1">&#39;H.264 (AVC)&#39;</span><span class="p">:</span> <span class="s1">&#39;libx264&#39;</span><span class="p">,</span> <span class="s1">&#39;VP9&#39;</span><span class="p">:</span> <span class="s1">&#39;vp9&#39;</span><span class="p">,</span> <span class="s1">&#39;GPU (h264_cuvid)&#39;</span><span class="p">:</span> <span class="s1">&#39;h264_cuvid&#39;</span><span class="p">,</span> <span class="s1">&#39;Guranteed powerpoint compatible&#39;</span><span class="p">:</span> <span class="s1">&#39;powerpoint&#39;</span><span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cpu_codec_qualities</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">110</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gpu_codec_qualities</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Low&#39;</span><span class="p">,</span> <span class="s1">&#39;Medium&#39;</span><span class="p">,</span> <span class="s1">&#39;High&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">quality_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;OUTPUT VIDEO QUALITY:&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">cpu_codec_qualities</span><span class="p">,</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">quality_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="mi">60</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">codec_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;COMPRESSION CODEC:&quot;</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">MP4_CODEC_LK</span><span class="o">.</span><span class="n">keys</span><span class="p">()),</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">com</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">update_quality_dropdown</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">codec_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="s1">&#39;H.264 (AVC)&#39;</span><span class="p">)</span>
        <span class="n">settings_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">quality_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">codec_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>

        <span class="n">single_video_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;SINGLE VIDEO&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video</span> <span class="o">=</span> <span class="n">FileSelect</span><span class="p">(</span><span class="n">single_video_frm</span><span class="p">,</span> <span class="s2">&quot;VIDEO PATH:&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select a video file&quot;</span><span class="p">,</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">file_types</span><span class="o">=</span><span class="p">[(</span><span class="s2">&quot;VIDEO FILE&quot;</span><span class="p">,</span> <span class="n">Options</span><span class="o">.</span><span class="n">ALL_VIDEO_FORMAT_STR_OPTIONS</span><span class="o">.</span><span class="n">value</span><span class="p">)])</span>
        <span class="n">single_video_run</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span><span class="n">single_video_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;RUN - SINGLE VIDEO&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">multiple</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
        <span class="n">single_video_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="n">single_video_run</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>

        <span class="n">multiple_video_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;VIDEO DIRECTORY&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video_dir</span> <span class="o">=</span> <span class="n">FolderSelect</span><span class="p">(</span><span class="n">multiple_video_frm</span><span class="p">,</span> <span class="s2">&quot;VIDEO DIRECTORY PATH:&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select a video directory&quot;</span><span class="p">,</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="n">multiple_video_run</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span><span class="n">multiple_video_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;RUN - VIDEO DIRECTORY&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">multiple</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
        <span class="n">multiple_video_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video_dir</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="n">multiple_video_run</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="o">.</span><span class="n">mainloop</span><span class="p">()</span>

<div class="viewcode-block" id="Convert2MP4PopUp.update_quality_dropdown"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.Convert2MP4PopUp.update_quality_dropdown">[docs]</a>    <span class="k">def</span> <span class="nf">update_quality_dropdown</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">k</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">quality_dropdown</span><span class="o">.</span><span class="n">popupMenu</span><span class="p">[</span><span class="s1">&#39;menu&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;end&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">k</span> <span class="o">==</span> <span class="s1">&#39;GPU (h264_cuvid)&#39;</span><span class="p">:</span> <span class="n">option_lst</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gpu_codec_qualities</span>
        <span class="k">else</span><span class="p">:</span> <span class="n">option_lst</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cpu_codec_qualities</span>
        <span class="k">for</span> <span class="n">option</span> <span class="ow">in</span> <span class="n">option_lst</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">quality_dropdown</span><span class="o">.</span><span class="n">popupMenu</span><span class="p">[</span><span class="s1">&#39;menu&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">add_command</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="n">option</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="k">lambda</span> <span class="n">value</span><span class="o">=</span><span class="n">option</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">quality_dropdown</span><span class="o">.</span><span class="n">dropdownvar</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">quality_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="n">option_lst</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span></div>

<div class="viewcode-block" id="Convert2MP4PopUp.run"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.Convert2MP4PopUp.run">[docs]</a>    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">multiple</span><span class="p">:</span> <span class="nb">bool</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">multiple</span><span class="p">:</span>
            <span class="n">video_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_video</span><span class="o">.</span><span class="n">file_path</span>
            <span class="n">check_file_exist_and_readable</span><span class="p">(</span><span class="n">file_path</span><span class="o">=</span><span class="n">video_path</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">video_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_video_dir</span><span class="o">.</span><span class="n">folder_path</span>
            <span class="n">check_if_dir_exists</span><span class="p">(</span><span class="n">in_dir</span><span class="o">=</span><span class="n">video_path</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
        <span class="n">codec</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">MP4_CODEC_LK</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">codec_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">()]</span>
        <span class="n">quality</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">quality_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">()</span>
        <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">convert_to_mp4</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">video_path</span><span class="p">,</span> <span class="n">codec</span><span class="o">=</span><span class="n">codec</span><span class="p">,</span> <span class="n">quality</span><span class="o">=</span><span class="n">quality</span><span class="p">))</span></div></div>

<div class="viewcode-block" id="Convert2AVIPopUp"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.Convert2AVIPopUp">[docs]</a><span class="k">class</span> <span class="nc">Convert2AVIPopUp</span><span class="p">(</span><span class="n">PopUpMixin</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    :example:</span>
<span class="sd">    &gt;&gt;&gt; Convert2AVIPopUp()</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;CONVERT VIDEOS TO AVI&quot;</span><span class="p">)</span>
        <span class="n">settings_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;SETTINGS&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">AVI_CODEC_LK</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;XviD&#39;</span><span class="p">:</span> <span class="s1">&#39;xvid&#39;</span><span class="p">,</span> <span class="s1">&#39;DivX&#39;</span><span class="p">:</span> <span class="s1">&#39;divx&#39;</span><span class="p">,</span> <span class="s1">&#39;MJPEG&#39;</span><span class="p">:</span> <span class="s1">&#39;mjpeg&#39;</span><span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">quality_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;OUTPUT VIDEO QUALITY:&quot;</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">110</span><span class="p">,</span> <span class="mi">10</span><span class="p">)),</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">quality_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="mi">60</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">codec_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;COMPRESSION CODEC:&quot;</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">AVI_CODEC_LK</span><span class="o">.</span><span class="n">keys</span><span class="p">()),</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">codec_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="s1">&#39;DivX&#39;</span><span class="p">)</span>
        <span class="n">settings_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">quality_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">codec_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="n">single_video_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;SINGLE VIDEO&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video</span> <span class="o">=</span> <span class="n">FileSelect</span><span class="p">(</span><span class="n">single_video_frm</span><span class="p">,</span> <span class="s2">&quot;VIDEO PATH:&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select a video file&quot;</span><span class="p">,</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">file_types</span><span class="o">=</span><span class="p">[(</span><span class="s2">&quot;VIDEO FILE&quot;</span><span class="p">,</span> <span class="n">Options</span><span class="o">.</span><span class="n">ALL_VIDEO_FORMAT_STR_OPTIONS</span><span class="o">.</span><span class="n">value</span><span class="p">)])</span>
        <span class="n">single_video_run</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span><span class="n">single_video_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;RUN - SINGLE VIDEO&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">multiple</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
        <span class="n">single_video_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="n">single_video_run</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>

        <span class="n">multiple_video_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;VIDEO DIRECTORY&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video_dir</span> <span class="o">=</span> <span class="n">FolderSelect</span><span class="p">(</span><span class="n">multiple_video_frm</span><span class="p">,</span> <span class="s2">&quot;VIDEO DIRECTORY PATH:&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select a video directory&quot;</span><span class="p">,</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="n">multiple_video_run</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span><span class="n">multiple_video_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;RUN - VIDEO DIRECTORY&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">multiple</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
        <span class="n">multiple_video_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video_dir</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="n">multiple_video_run</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="c1">#self.main_frm.mainloop()</span>

<div class="viewcode-block" id="Convert2AVIPopUp.run"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.Convert2AVIPopUp.run">[docs]</a>    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">multiple</span><span class="p">:</span> <span class="nb">bool</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">multiple</span><span class="p">:</span>
            <span class="n">video_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_video</span><span class="o">.</span><span class="n">file_path</span>
            <span class="n">check_file_exist_and_readable</span><span class="p">(</span><span class="n">file_path</span><span class="o">=</span><span class="n">video_path</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">video_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_video_dir</span><span class="o">.</span><span class="n">folder_path</span>
            <span class="n">check_if_dir_exists</span><span class="p">(</span><span class="n">in_dir</span><span class="o">=</span><span class="n">video_path</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
        <span class="n">codec</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">AVI_CODEC_LK</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">codec_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">()]</span>
        <span class="n">quality</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">quality_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">())</span>
        <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">convert_to_avi</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">video_path</span><span class="p">,</span> <span class="n">codec</span><span class="o">=</span><span class="n">codec</span><span class="p">,</span> <span class="n">quality</span><span class="o">=</span><span class="n">quality</span><span class="p">))</span></div></div>

<div class="viewcode-block" id="Convert2WEBMPopUp"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.Convert2WEBMPopUp">[docs]</a><span class="k">class</span> <span class="nc">Convert2WEBMPopUp</span><span class="p">(</span><span class="n">PopUpMixin</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    :example:</span>
<span class="sd">    &gt;&gt;&gt; Convert2WEBMPopUp()</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;CONVERT VIDEOS TO WEBM&quot;</span><span class="p">)</span>
        <span class="n">settings_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;SETTINGS&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">WEBM_CODEC_LK</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;VP8&#39;</span><span class="p">:</span> <span class="s1">&#39;vp8&#39;</span><span class="p">,</span> <span class="s1">&#39;VP9&#39;</span><span class="p">:</span> <span class="s1">&#39;vp9&#39;</span><span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">quality_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;OUTPUT VIDEO QUALITY:&quot;</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">110</span><span class="p">,</span> <span class="mi">10</span><span class="p">)),</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">quality_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="mi">60</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">codec_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;COMPRESSION CODEC:&quot;</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">WEBM_CODEC_LK</span><span class="o">.</span><span class="n">keys</span><span class="p">()),</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">codec_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="s1">&#39;VP9&#39;</span><span class="p">)</span>
        <span class="n">settings_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">quality_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">codec_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="n">single_video_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;SINGLE VIDEO&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video</span> <span class="o">=</span> <span class="n">FileSelect</span><span class="p">(</span><span class="n">single_video_frm</span><span class="p">,</span> <span class="s2">&quot;VIDEO PATH:&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select a video file&quot;</span><span class="p">,</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">file_types</span><span class="o">=</span><span class="p">[(</span><span class="s2">&quot;VIDEO FILE&quot;</span><span class="p">,</span> <span class="n">Options</span><span class="o">.</span><span class="n">ALL_VIDEO_FORMAT_STR_OPTIONS</span><span class="o">.</span><span class="n">value</span><span class="p">)])</span>
        <span class="n">single_video_run</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span><span class="n">single_video_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;RUN - SINGLE VIDEO&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">multiple</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
        <span class="n">single_video_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="n">single_video_run</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>

        <span class="n">multiple_video_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;VIDEO DIRECTORY&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video_dir</span> <span class="o">=</span> <span class="n">FolderSelect</span><span class="p">(</span><span class="n">multiple_video_frm</span><span class="p">,</span> <span class="s2">&quot;VIDEO DIRECTORY PATH:&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select a video directory&quot;</span><span class="p">,</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="n">multiple_video_run</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span><span class="n">multiple_video_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;RUN - VIDEO DIRECTORY&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">multiple</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
        <span class="n">multiple_video_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video_dir</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="n">multiple_video_run</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="c1">#self.main_frm.mainloop()</span>

<div class="viewcode-block" id="Convert2WEBMPopUp.run"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.Convert2WEBMPopUp.run">[docs]</a>    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">multiple</span><span class="p">:</span> <span class="nb">bool</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">multiple</span><span class="p">:</span>
            <span class="n">video_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_video</span><span class="o">.</span><span class="n">file_path</span>
            <span class="n">check_file_exist_and_readable</span><span class="p">(</span><span class="n">file_path</span><span class="o">=</span><span class="n">video_path</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">video_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_video_dir</span><span class="o">.</span><span class="n">folder_path</span>
            <span class="n">check_if_dir_exists</span><span class="p">(</span><span class="n">in_dir</span><span class="o">=</span><span class="n">video_path</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
        <span class="n">codec</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">WEBM_CODEC_LK</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">codec_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">()]</span>
        <span class="n">quality</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">quality_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">())</span>
        <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">convert_to_webm</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">video_path</span><span class="p">,</span> <span class="n">codec</span><span class="o">=</span><span class="n">codec</span><span class="p">,</span> <span class="n">quality</span><span class="o">=</span><span class="n">quality</span><span class="p">))</span></div></div>

<div class="viewcode-block" id="Convert2MOVPopUp"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.Convert2MOVPopUp">[docs]</a><span class="k">class</span> <span class="nc">Convert2MOVPopUp</span><span class="p">(</span><span class="n">PopUpMixin</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    :example:</span>
<span class="sd">    &gt;&gt;&gt; Convert2MOVPopUp()</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;CONVERT VIDEOS TO MOV&quot;</span><span class="p">)</span>
        <span class="n">settings_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;SETTINGS&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">MOV_CODEC_LK</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;ProRes Kostya Samanta&#39;</span><span class="p">:</span> <span class="s1">&#39;prores&#39;</span><span class="p">,</span>
                             <span class="s1">&#39;Animation&#39;</span><span class="p">:</span> <span class="s1">&#39;animation&#39;</span><span class="p">,</span>
                             <span class="s1">&#39;CineForm&#39;</span><span class="p">:</span> <span class="s1">&#39;cineform&#39;</span><span class="p">,</span>
                             <span class="s1">&#39;DNxHD/DNxHR&#39;</span><span class="p">:</span> <span class="s1">&#39;dnxhd&#39;</span><span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">quality_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;OUTPUT VIDEO QUALITY:&quot;</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">110</span><span class="p">,</span> <span class="mi">10</span><span class="p">)),</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">quality_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="mi">60</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">codec_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;COMPRESSION CODEC:&quot;</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">MOV_CODEC_LK</span><span class="o">.</span><span class="n">keys</span><span class="p">()),</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">codec_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="s1">&#39;ProRes Kostya Samanta&#39;</span><span class="p">)</span>
        <span class="n">settings_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">quality_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">codec_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="n">single_video_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;SINGLE VIDEO&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video</span> <span class="o">=</span> <span class="n">FileSelect</span><span class="p">(</span><span class="n">single_video_frm</span><span class="p">,</span> <span class="s2">&quot;VIDEO PATH:&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select a video file&quot;</span><span class="p">,</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">file_types</span><span class="o">=</span><span class="p">[(</span><span class="s2">&quot;VIDEO FILE&quot;</span><span class="p">,</span> <span class="n">Options</span><span class="o">.</span><span class="n">ALL_VIDEO_FORMAT_STR_OPTIONS</span><span class="o">.</span><span class="n">value</span><span class="p">)])</span>
        <span class="n">single_video_run</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span><span class="n">single_video_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;RUN - SINGLE VIDEO&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">multiple</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
        <span class="n">single_video_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="n">single_video_run</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>

        <span class="n">multiple_video_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;VIDEO DIRECTORY&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video_dir</span> <span class="o">=</span> <span class="n">FolderSelect</span><span class="p">(</span><span class="n">multiple_video_frm</span><span class="p">,</span> <span class="s2">&quot;VIDEO DIRECTORY PATH:&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select a video directory&quot;</span><span class="p">,</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="n">multiple_video_run</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span><span class="n">multiple_video_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;RUN - VIDEO DIRECTORY&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">multiple</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
        <span class="n">multiple_video_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video_dir</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="n">multiple_video_run</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="c1">#self.main_frm.mainloop()</span>

<div class="viewcode-block" id="Convert2MOVPopUp.run"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.Convert2MOVPopUp.run">[docs]</a>    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">multiple</span><span class="p">:</span> <span class="nb">bool</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">multiple</span><span class="p">:</span>
            <span class="n">video_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_video</span><span class="o">.</span><span class="n">file_path</span>
            <span class="n">check_file_exist_and_readable</span><span class="p">(</span><span class="n">file_path</span><span class="o">=</span><span class="n">video_path</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">video_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_video_dir</span><span class="o">.</span><span class="n">folder_path</span>
            <span class="n">check_if_dir_exists</span><span class="p">(</span><span class="n">in_dir</span><span class="o">=</span><span class="n">video_path</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
        <span class="n">codec</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">MOV_CODEC_LK</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">codec_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">()]</span>
        <span class="n">quality</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">quality_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">())</span>
        <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">convert_to_mov</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">video_path</span><span class="p">,</span> <span class="n">codec</span><span class="o">=</span><span class="n">codec</span><span class="p">,</span> <span class="n">quality</span><span class="o">=</span><span class="n">quality</span><span class="p">))</span></div></div>

<div class="viewcode-block" id="SuperimposeWatermarkPopUp"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.SuperimposeWatermarkPopUp">[docs]</a><span class="k">class</span> <span class="nc">SuperimposeWatermarkPopUp</span><span class="p">(</span><span class="n">PopUpMixin</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">PopUpMixin</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;WATERMARK VIDEOS&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">LOCATIONS</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;TOP LEFT&#39;</span><span class="p">:</span> <span class="s1">&#39;top_left&#39;</span><span class="p">,</span> <span class="s1">&#39;TOP RIGHT&#39;</span><span class="p">:</span> <span class="s1">&#39;top_right&#39;</span><span class="p">,</span> <span class="s1">&#39;BOTTOM LEFT&#39;</span><span class="p">:</span> <span class="s1">&#39;bottom_left&#39;</span><span class="p">,</span> <span class="s1">&#39;BOTTOM RIGHT&#39;</span><span class="p">:</span> <span class="s1">&#39;bottom_right&#39;</span><span class="p">,</span> <span class="s1">&#39;CENTER&#39;</span><span class="p">:</span> <span class="s1">&#39;center&#39;</span><span class="p">}</span>
        <span class="n">settings_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;SETTINGS&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="n">opacities</span> <span class="o">=</span> <span class="p">[</span><span class="nb">round</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">1.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">))]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_img</span> <span class="o">=</span> <span class="n">FileSelect</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;WATERMARK IMAGE PATH:&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select an image file&quot;</span><span class="p">,</span> <span class="n">file_types</span><span class="o">=</span><span class="p">[(</span><span class="s2">&quot;VIDEO&quot;</span><span class="p">,</span> <span class="n">Options</span><span class="o">.</span><span class="n">ALL_IMAGE_FORMAT_OPTIONS</span><span class="o">.</span><span class="n">value</span><span class="p">)],</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">location_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;WATERMARK LOCATION:&quot;</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">LOCATIONS</span><span class="o">.</span><span class="n">keys</span><span class="p">()),</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">opacity_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;WATERMARK OPACITY:&quot;</span><span class="p">,</span> <span class="n">opacities</span><span class="p">,</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">size_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;WATERMARK SCALE %:&quot;</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">5</span><span class="p">)),</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gpu_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;USE GPU&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;TRUE&#39;</span><span class="p">,</span> <span class="s1">&#39;FALSE&#39;</span><span class="p">],</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">location_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="s1">&#39;TOP LEFT&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">opacity_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">size_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gpu_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="s1">&#39;FALSE&#39;</span><span class="p">)</span>

        <span class="n">settings_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_img</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">location_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">opacity_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">size_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gpu_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>

        <span class="n">single_video_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;SINGLE VIDEO - SUPERIMPOSE WATERMARK&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video</span> <span class="o">=</span> <span class="n">FileSelect</span><span class="p">(</span><span class="n">single_video_frm</span><span class="p">,</span> <span class="s2">&quot;VIDEO PATH:&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select a video file&quot;</span><span class="p">,</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">file_types</span><span class="o">=</span><span class="p">[(</span><span class="s2">&quot;VIDEO FILE&quot;</span><span class="p">,</span> <span class="n">Options</span><span class="o">.</span><span class="n">ALL_VIDEO_FORMAT_STR_OPTIONS</span><span class="o">.</span><span class="n">value</span><span class="p">)])</span>
        <span class="n">single_video_run</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span><span class="n">single_video_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;RUN - SINGLE VIDEO&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">multiple</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>

        <span class="n">single_video_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="n">single_video_run</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>

        <span class="n">multiple_videos_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;MULTIPLE VIDEOS - SUPERIMPOSE WATERMARK&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video_dir</span> <span class="o">=</span> <span class="n">FolderSelect</span><span class="p">(</span><span class="n">multiple_videos_frm</span><span class="p">,</span> <span class="s2">&quot;VIDEO DIRECTORY PATH:&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select a video directory&quot;</span><span class="p">,</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="n">multiple_videos_run</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span><span class="n">multiple_videos_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;RUN - MULTIPLE VIDEOS&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">multiple</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>

        <span class="n">multiple_videos_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video_dir</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="n">multiple_videos_run</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="c1">#self.main_frm.mainloop()</span>

<div class="viewcode-block" id="SuperimposeWatermarkPopUp.run"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.SuperimposeWatermarkPopUp.run">[docs]</a>    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">multiple</span><span class="p">:</span> <span class="nb">bool</span><span class="p">):</span>
        <span class="n">gpu</span> <span class="o">=</span> <span class="n">str_2_bool</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">gpu_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">())</span>
        <span class="n">img_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_img</span><span class="o">.</span><span class="n">file_path</span>
        <span class="n">loc</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">location_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">()</span>
        <span class="n">loc</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">LOCATIONS</span><span class="p">[</span><span class="n">loc</span><span class="p">]</span>
        <span class="n">opacity</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">opacity_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">())</span>
        <span class="n">size</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">size_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">())</span> <span class="o">/</span> <span class="mi">100</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">size</span> <span class="o">==</span> <span class="mf">1.0</span><span class="p">:</span> <span class="n">size</span> <span class="o">=</span> <span class="n">size</span> <span class="o">-</span> <span class="mf">0.001</span>
        <span class="n">check_file_exist_and_readable</span><span class="p">(</span><span class="n">file_path</span><span class="o">=</span><span class="n">img_path</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">multiple</span><span class="p">:</span>
            <span class="n">data_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_video</span><span class="o">.</span><span class="n">file_path</span>
            <span class="n">check_file_exist_and_readable</span><span class="p">(</span><span class="n">file_path</span><span class="o">=</span><span class="n">data_path</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">data_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_video_dir</span><span class="o">.</span><span class="n">folder_path</span>
            <span class="n">check_if_dir_exists</span><span class="p">(</span><span class="n">in_dir</span><span class="o">=</span><span class="n">data_path</span><span class="p">)</span>

        <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">watermark_video</span><span class="p">(</span><span class="n">video_path</span><span class="o">=</span><span class="n">data_path</span><span class="p">,</span>
                                                <span class="n">watermark_path</span><span class="o">=</span><span class="n">img_path</span><span class="p">,</span> <span class="n">position</span><span class="o">=</span><span class="n">loc</span><span class="p">,</span>
                                                <span class="n">opacity</span><span class="o">=</span><span class="n">opacity</span><span class="p">,</span>
                                                <span class="n">scale</span><span class="o">=</span><span class="n">size</span><span class="p">,</span>
                                                <span class="n">gpu</span><span class="o">=</span><span class="n">gpu</span><span class="p">))</span><span class="o">.</span><span class="n">start</span><span class="p">()</span></div></div>
<span class="c1">#SuperimposeWatermarkPopUp()</span>


<div class="viewcode-block" id="SuperimposeTimerPopUp"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.SuperimposeTimerPopUp">[docs]</a><span class="k">class</span> <span class="nc">SuperimposeTimerPopUp</span><span class="p">(</span><span class="n">PopUpMixin</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">PopUpMixin</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;SUPER-IMPOSE TIME ON VIDEOS&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">LOCATIONS</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;TOP LEFT&#39;</span><span class="p">:</span> <span class="s1">&#39;top_left&#39;</span><span class="p">,</span> <span class="s1">&#39;TOP RIGHT&#39;</span><span class="p">:</span> <span class="s1">&#39;top_right&#39;</span><span class="p">,</span> <span class="s1">&#39;TOP MIDDLE&#39;</span><span class="p">:</span> <span class="s1">&#39;top_middle&#39;</span><span class="p">,</span> <span class="s1">&#39;BOTTOM LEFT&#39;</span><span class="p">:</span> <span class="s1">&#39;bottom_left&#39;</span><span class="p">,</span> <span class="s1">&#39;BOTTOM RIGHT&#39;</span><span class="p">:</span> <span class="s1">&#39;bottom_right&#39;</span><span class="p">,</span> <span class="s1">&#39;BOTTOM MIDDLE&#39;</span><span class="p">:</span> <span class="s1">&#39;bottom_middle&#39;</span><span class="p">}</span>
        <span class="n">settings_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;SETTINGS&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">color_dict</span> <span class="o">=</span> <span class="n">get_color_dict</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">font_dict</span> <span class="o">=</span> <span class="n">get_fonts</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">location_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;TIMER LOCATION:&quot;</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">LOCATIONS</span><span class="o">.</span><span class="n">keys</span><span class="p">()),</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">font_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;TIMER FONT:&quot;</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">font_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">()),</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">font_size_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;FONT SIZE:&quot;</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">5</span><span class="p">)),</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">font_color_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;FONT COLOR:&quot;</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">color_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">()),</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">font_border_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;FONT BORDER COLOR:&quot;</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">color_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">()),</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">font_border_width_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;FONT BORDER WIDTH:&quot;</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">52</span><span class="p">,</span> <span class="mi">2</span><span class="p">)),</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">timer_format_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;TIME FORMAT:&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;MM:SS&#39;</span><span class="p">,</span> <span class="s1">&#39;HH:MM:SS&#39;</span><span class="p">,</span> <span class="s1">&#39;SS.MMMMMM&#39;</span><span class="p">,</span> <span class="s1">&#39;HH:MM:SS.MMMM&#39;</span><span class="p">],</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gpu_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;USE GPU:&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;TRUE&#39;</span><span class="p">,</span> <span class="s1">&#39;FALSE&#39;</span><span class="p">],</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">location_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="s1">&#39;TOP LEFT&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">font_size_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">font_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="s1">&#39;Arial&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">font_color_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="s1">&#39;White&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">font_border_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="s1">&#39;Black&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">font_border_width_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">timer_format_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="s1">&#39;HH:MM:SS.MMMM&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gpu_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="s1">&#39;FALSE&#39;</span><span class="p">)</span>

        <span class="n">settings_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">location_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">font_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">font_size_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">font_color_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">font_border_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">font_border_width_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">timer_format_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gpu_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>

        <span class="n">single_video_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;SINGLE VIDEO - SUPERIMPOSE TIMER&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video</span> <span class="o">=</span> <span class="n">FileSelect</span><span class="p">(</span><span class="n">single_video_frm</span><span class="p">,</span> <span class="s2">&quot;VIDEO PATH:&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select a video file&quot;</span><span class="p">,</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">file_types</span><span class="o">=</span><span class="p">[(</span><span class="s2">&quot;VIDEO FILE&quot;</span><span class="p">,</span> <span class="n">Options</span><span class="o">.</span><span class="n">ALL_VIDEO_FORMAT_STR_OPTIONS</span><span class="o">.</span><span class="n">value</span><span class="p">)])</span>
        <span class="n">single_video_run</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span><span class="n">single_video_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;RUN - SINGLE VIDEO&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">multiple</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>

        <span class="n">single_video_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="n">single_video_run</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>

        <span class="n">multiple_videos_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;MULTIPLE VIDEOS - SUPERIMPOSE TIMER&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video_dir</span> <span class="o">=</span> <span class="n">FolderSelect</span><span class="p">(</span><span class="n">multiple_videos_frm</span><span class="p">,</span> <span class="s2">&quot;VIDEO DIRECTORY PATH:&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select a video directory&quot;</span><span class="p">,</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="n">multiple_videos_run</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span><span class="n">multiple_videos_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;RUN - MULTIPLE VIDEOS&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">multiple</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>

        <span class="n">multiple_videos_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video_dir</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="n">multiple_videos_run</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="c1">#self.main_frm.mainloop()</span>

<div class="viewcode-block" id="SuperimposeTimerPopUp.run"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.SuperimposeTimerPopUp.run">[docs]</a>    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">multiple</span><span class="p">:</span> <span class="nb">bool</span><span class="p">):</span>
        <span class="n">gpu</span> <span class="o">=</span> <span class="n">str_2_bool</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">gpu_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">())</span>
        <span class="n">loc</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">location_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">()</span>
        <span class="n">loc</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">LOCATIONS</span><span class="p">[</span><span class="n">loc</span><span class="p">]</span>
        <span class="n">font_size</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">font_size_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">())</span>
        <span class="n">font</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">()</span>
        <span class="n">font_clr</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font_color_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">()</span>
        <span class="n">font_border_clr</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font_border_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">()</span>
        <span class="n">font_border_width</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">font_border_width_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">())</span>
        <span class="n">timer_format</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">timer_format_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">multiple</span><span class="p">:</span>
            <span class="n">data_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_video</span><span class="o">.</span><span class="n">file_path</span>
            <span class="n">check_file_exist_and_readable</span><span class="p">(</span><span class="n">file_path</span><span class="o">=</span><span class="n">data_path</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">data_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_video_dir</span><span class="o">.</span><span class="n">folder_path</span>
            <span class="n">check_if_dir_exists</span><span class="p">(</span><span class="n">in_dir</span><span class="o">=</span><span class="n">data_path</span><span class="p">)</span>

        <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">superimpose_elapsed_time</span><span class="p">(</span><span class="n">video_path</span><span class="o">=</span><span class="n">data_path</span><span class="p">,</span>
                                                         <span class="n">font</span><span class="o">=</span><span class="n">font</span><span class="p">,</span>
                                                         <span class="n">font_size</span><span class="o">=</span><span class="n">font_size</span><span class="p">,</span>
                                                         <span class="n">font_color</span><span class="o">=</span><span class="n">font_clr</span><span class="p">,</span>
                                                         <span class="n">font_border_color</span><span class="o">=</span><span class="n">font_border_clr</span><span class="p">,</span>
                                                         <span class="n">font_border_width</span><span class="o">=</span><span class="n">font_border_width</span><span class="p">,</span>
                                                         <span class="n">time_format</span><span class="o">=</span><span class="n">timer_format</span><span class="p">,</span>
                                                         <span class="n">position</span><span class="o">=</span><span class="n">loc</span><span class="p">,</span>
                                                         <span class="n">gpu</span><span class="o">=</span><span class="n">gpu</span><span class="p">))</span><span class="o">.</span><span class="n">start</span><span class="p">()</span></div></div>


<div class="viewcode-block" id="SuperimposeProgressBarPopUp"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.SuperimposeProgressBarPopUp">[docs]</a><span class="k">class</span> <span class="nc">SuperimposeProgressBarPopUp</span><span class="p">(</span><span class="n">PopUpMixin</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">PopUpMixin</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;SUPER-IMPOSE PROGRESS BAR ON VIDEOS&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">LOCATIONS</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;TOP&#39;</span><span class="p">:</span> <span class="s1">&#39;top&#39;</span><span class="p">,</span> <span class="s1">&#39;BOTTOM&#39;</span><span class="p">:</span> <span class="s1">&#39;bottom&#39;</span><span class="p">}</span>
        <span class="n">settings_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;SETTINGS&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">color_dict</span> <span class="o">=</span> <span class="n">get_color_dict</span><span class="p">()</span>
        <span class="n">size_lst</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">110</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
        <span class="n">size_lst</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bar_loc_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;PROGRESS BAR LOCATION:&quot;</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">LOCATIONS</span><span class="o">.</span><span class="n">keys</span><span class="p">()),</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bar_color_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;PROGRESS BAR COLOR:&quot;</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">color_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">()),</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bar_size_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;PROGRESS BAR HEIGHT (%):&quot;</span><span class="p">,</span> <span class="n">size_lst</span><span class="p">,</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gpu_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;USE GPU:&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;TRUE&#39;</span><span class="p">,</span> <span class="s1">&#39;FALSE&#39;</span><span class="p">],</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">bar_color_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="s1">&#39;Red&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bar_size_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bar_loc_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="s1">&#39;BOTTOM&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gpu_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="s1">&#39;FALSE&#39;</span><span class="p">)</span>

        <span class="n">settings_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bar_loc_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bar_color_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bar_size_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gpu_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>

        <span class="n">single_video_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;SINGLE VIDEO - SUPERIMPOSE PROGRESS BAR&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video</span> <span class="o">=</span> <span class="n">FileSelect</span><span class="p">(</span><span class="n">single_video_frm</span><span class="p">,</span> <span class="s2">&quot;VIDEO PATH:&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select a video file&quot;</span><span class="p">,</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">file_types</span><span class="o">=</span><span class="p">[(</span><span class="s2">&quot;VIDEO FILE&quot;</span><span class="p">,</span> <span class="n">Options</span><span class="o">.</span><span class="n">ALL_VIDEO_FORMAT_STR_OPTIONS</span><span class="o">.</span><span class="n">value</span><span class="p">)])</span>
        <span class="n">single_video_run</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span><span class="n">single_video_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;RUN - SINGLE VIDEO&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">multiple</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>

        <span class="n">single_video_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="n">single_video_run</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>

        <span class="n">multiple_videos_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;MULTIPLE VIDEOS - SUPERIMPOSE PROGRESS BAR&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video_dir</span> <span class="o">=</span> <span class="n">FolderSelect</span><span class="p">(</span><span class="n">multiple_videos_frm</span><span class="p">,</span> <span class="s2">&quot;VIDEO DIRECTORY PATH:&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select a video directory&quot;</span><span class="p">,</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="n">multiple_videos_run</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span><span class="n">multiple_videos_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;RUN - MULTIPLE VIDEOS&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">multiple</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>

        <span class="n">multiple_videos_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video_dir</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="n">multiple_videos_run</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="c1">#self.main_frm.mainloop()</span>

<div class="viewcode-block" id="SuperimposeProgressBarPopUp.run"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.SuperimposeProgressBarPopUp.run">[docs]</a>    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">multiple</span><span class="p">:</span> <span class="nb">bool</span><span class="p">):</span>
        <span class="n">gpu</span> <span class="o">=</span> <span class="n">str_2_bool</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">gpu_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">())</span>
        <span class="n">loc</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bar_loc_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">()</span>
        <span class="n">loc</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">LOCATIONS</span><span class="p">[</span><span class="n">loc</span><span class="p">]</span>
        <span class="n">bar_clr</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bar_color_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">()</span>
        <span class="n">bar_size</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bar_size_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">())</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">multiple</span><span class="p">:</span>
            <span class="n">data_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_video</span><span class="o">.</span><span class="n">file_path</span>
            <span class="n">check_file_exist_and_readable</span><span class="p">(</span><span class="n">file_path</span><span class="o">=</span><span class="n">data_path</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">data_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_video_dir</span><span class="o">.</span><span class="n">folder_path</span>
            <span class="n">check_if_dir_exists</span><span class="p">(</span><span class="n">in_dir</span><span class="o">=</span><span class="n">data_path</span><span class="p">)</span>

        <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">superimpose_video_progressbar</span><span class="p">(</span><span class="n">video_path</span><span class="o">=</span><span class="n">data_path</span><span class="p">,</span>
                                                              <span class="n">bar_height</span><span class="o">=</span><span class="n">bar_size</span><span class="p">,</span>
                                                              <span class="n">color</span><span class="o">=</span><span class="n">bar_clr</span><span class="p">,</span>
                                                              <span class="n">position</span><span class="o">=</span><span class="n">loc</span><span class="p">,</span>
                                                              <span class="n">gpu</span><span class="o">=</span><span class="n">gpu</span><span class="p">))</span><span class="o">.</span><span class="n">start</span><span class="p">()</span></div></div>

<div class="viewcode-block" id="SuperimposeVideoPopUp"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.SuperimposeVideoPopUp">[docs]</a><span class="k">class</span> <span class="nc">SuperimposeVideoPopUp</span><span class="p">(</span><span class="n">PopUpMixin</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">PopUpMixin</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;SUPER-IMPOSE VIDEO ON VIDEO&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">LOCATIONS</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;TOP LEFT&#39;</span><span class="p">:</span> <span class="s1">&#39;top_left&#39;</span><span class="p">,</span> <span class="s1">&#39;TOP RIGHT&#39;</span><span class="p">:</span> <span class="s1">&#39;top_right&#39;</span><span class="p">,</span> <span class="s1">&#39;BOTTOM LEFT&#39;</span><span class="p">:</span> <span class="s1">&#39;bottom_left&#39;</span><span class="p">,</span> <span class="s1">&#39;BOTTOM RIGHT&#39;</span><span class="p">:</span> <span class="s1">&#39;bottom_right&#39;</span><span class="p">,</span> <span class="s1">&#39;CENTER&#39;</span><span class="p">:</span> <span class="s1">&#39;center&#39;</span><span class="p">}</span>
        <span class="n">settings_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;SETTINGS&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="n">opacities</span> <span class="o">=</span> <span class="p">[</span><span class="nb">round</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">1.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">))]</span>
        <span class="n">scales</span> <span class="o">=</span> <span class="p">[</span><span class="nb">round</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mf">0.05</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.05</span><span class="p">))]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_video_path</span> <span class="o">=</span> <span class="n">FileSelect</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;MAIN VIDEO PATH:&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select a video file&quot;</span><span class="p">,</span> <span class="n">file_types</span><span class="o">=</span><span class="p">[(</span><span class="s2">&quot;VIDEO&quot;</span><span class="p">,</span> <span class="n">Options</span><span class="o">.</span><span class="n">ALL_VIDEO_FORMAT_OPTIONS</span><span class="o">.</span><span class="n">value</span><span class="p">)],</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">overlay_video_path</span> <span class="o">=</span> <span class="n">FileSelect</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;OVERLAY VIDEO PATH:&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select a video file&quot;</span><span class="p">,</span> <span class="n">file_types</span><span class="o">=</span><span class="p">[(</span><span class="s2">&quot;VIDEO&quot;</span><span class="p">,</span> <span class="n">Options</span><span class="o">.</span><span class="n">ALL_VIDEO_FORMAT_OPTIONS</span><span class="o">.</span><span class="n">value</span><span class="p">)],</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">location_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;OVERLAY VIDEO LOCATION:&quot;</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">LOCATIONS</span><span class="o">.</span><span class="n">keys</span><span class="p">()),</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">opacity_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;OVERLAY VIDEO OPACITY:&quot;</span><span class="p">,</span> <span class="n">opacities</span><span class="p">,</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">size_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;OVERLAY VIDEO SCALE (%):&quot;</span><span class="p">,</span> <span class="n">scales</span><span class="p">,</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gpu_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;USE GPU:&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;TRUE&#39;</span><span class="p">,</span> <span class="s1">&#39;FALSE&#39;</span><span class="p">],</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">location_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="s1">&#39;TOP LEFT&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">opacity_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">size_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="mf">0.05</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gpu_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="s1">&#39;FALSE&#39;</span><span class="p">)</span>

        <span class="n">settings_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_video_path</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">overlay_video_path</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">location_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">opacity_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">size_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gpu_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">create_run_frm</span><span class="p">(</span><span class="n">run_function</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">)</span>
        <span class="c1">#self.main_frm.mainloop()</span>

<div class="viewcode-block" id="SuperimposeVideoPopUp.run"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.SuperimposeVideoPopUp.run">[docs]</a>    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">loc</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">location_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">()</span>
        <span class="n">loc</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">LOCATIONS</span><span class="p">[</span><span class="n">loc</span><span class="p">]</span>
        <span class="n">gpu</span> <span class="o">=</span> <span class="n">str_2_bool</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">gpu_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">())</span>
        <span class="n">opacity</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">opacity_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">())</span>
        <span class="n">size</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">size_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">())</span>
        <span class="n">video_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">main_video_path</span><span class="o">.</span><span class="n">file_path</span>
        <span class="n">overlay_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">overlay_video_path</span><span class="o">.</span><span class="n">file_path</span>
        <span class="n">check_file_exist_and_readable</span><span class="p">(</span><span class="n">file_path</span><span class="o">=</span><span class="n">video_path</span><span class="p">)</span>
        <span class="n">check_file_exist_and_readable</span><span class="p">(</span><span class="n">file_path</span><span class="o">=</span><span class="n">overlay_path</span><span class="p">)</span>
        <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">superimpose_overlay_video</span><span class="p">(</span><span class="n">video_path</span><span class="o">=</span><span class="n">video_path</span><span class="p">,</span>
                                                          <span class="n">overlay_video_path</span><span class="o">=</span><span class="n">overlay_path</span><span class="p">,</span>
                                                          <span class="n">position</span><span class="o">=</span><span class="n">loc</span><span class="p">,</span>
                                                          <span class="n">opacity</span><span class="o">=</span><span class="n">opacity</span><span class="p">,</span>
                                                          <span class="n">scale</span><span class="o">=</span><span class="n">size</span><span class="p">,</span>
                                                          <span class="n">gpu</span><span class="o">=</span><span class="n">gpu</span><span class="p">))</span><span class="o">.</span><span class="n">start</span><span class="p">()</span></div></div>

<div class="viewcode-block" id="SuperimposeVideoNamesPopUp"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.SuperimposeVideoNamesPopUp">[docs]</a><span class="k">class</span> <span class="nc">SuperimposeVideoNamesPopUp</span><span class="p">(</span><span class="n">PopUpMixin</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">PopUpMixin</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;SUPER-IMPOSE VIDEO NAMES ON VIDEOS&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">LOCATIONS</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;TOP LEFT&#39;</span><span class="p">:</span> <span class="s1">&#39;top_left&#39;</span><span class="p">,</span> <span class="s1">&#39;TOP RIGHT&#39;</span><span class="p">:</span> <span class="s1">&#39;top_right&#39;</span><span class="p">,</span> <span class="s1">&#39;TOP MIDDLE&#39;</span><span class="p">:</span> <span class="s1">&#39;top_middle&#39;</span><span class="p">,</span> <span class="s1">&#39;BOTTOM LEFT&#39;</span><span class="p">:</span> <span class="s1">&#39;bottom_left&#39;</span><span class="p">,</span> <span class="s1">&#39;BOTTOM RIGHT&#39;</span><span class="p">:</span> <span class="s1">&#39;bottom_right&#39;</span><span class="p">,</span> <span class="s1">&#39;BOTTOM MIDDLE&#39;</span><span class="p">:</span> <span class="s1">&#39;bottom_middle&#39;</span><span class="p">}</span>
        <span class="n">settings_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;SETTINGS&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">color_dict</span> <span class="o">=</span> <span class="n">get_color_dict</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">font_dict</span> <span class="o">=</span> <span class="n">get_fonts</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">location_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;VIDEO NAME TEXT LOCATION:&quot;</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">LOCATIONS</span><span class="o">.</span><span class="n">keys</span><span class="p">()),</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">font_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;FONT:&quot;</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">font_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">()),</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">font_size_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;FONT SIZE:&quot;</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">105</span><span class="p">,</span> <span class="mi">5</span><span class="p">)),</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">font_color_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;FONT COLOR:&quot;</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">color_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">()),</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">font_border_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;FONT BORDER COLOR:&quot;</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">color_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">()),</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">font_border_width_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;FONT BORDER WIDTH:&quot;</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">52</span><span class="p">,</span> <span class="mi">2</span><span class="p">)),</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gpu_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;USE GPU:&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;TRUE&#39;</span><span class="p">,</span> <span class="s1">&#39;FALSE&#39;</span><span class="p">],</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>



        <span class="bp">self</span><span class="o">.</span><span class="n">location_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="s1">&#39;TOP LEFT&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">font_size_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">font_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="s1">&#39;Arial&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">font_color_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="s1">&#39;White&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">font_border_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="s1">&#39;Black&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">font_border_width_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gpu_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="s1">&#39;FALSE&#39;</span><span class="p">)</span>

        <span class="n">settings_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">location_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">font_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">font_size_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">font_color_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">font_border_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">font_border_width_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gpu_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>

        <span class="n">single_video_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;SINGLE VIDEO - SUPERIMPOSE VIDEO NAME&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video</span> <span class="o">=</span> <span class="n">FileSelect</span><span class="p">(</span><span class="n">single_video_frm</span><span class="p">,</span> <span class="s2">&quot;VIDEO PATH:&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select a video file&quot;</span><span class="p">,</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">file_types</span><span class="o">=</span><span class="p">[(</span><span class="s2">&quot;VIDEO FILE&quot;</span><span class="p">,</span> <span class="n">Options</span><span class="o">.</span><span class="n">ALL_VIDEO_FORMAT_STR_OPTIONS</span><span class="o">.</span><span class="n">value</span><span class="p">)])</span>
        <span class="n">single_video_run</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span><span class="n">single_video_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;RUN - SINGLE VIDEO&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">multiple</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>

        <span class="n">single_video_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="n">single_video_run</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>

        <span class="n">multiple_videos_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;MULTIPLE VIDEOS - SUPERIMPOSE VIDEO NAME&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video_dir</span> <span class="o">=</span> <span class="n">FolderSelect</span><span class="p">(</span><span class="n">multiple_videos_frm</span><span class="p">,</span> <span class="s2">&quot;VIDEO DIRECTORY PATH:&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select a video directory&quot;</span><span class="p">,</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="n">multiple_videos_run</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span><span class="n">multiple_videos_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;RUN - MULTIPLE VIDEOS&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">multiple</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>

        <span class="n">multiple_videos_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video_dir</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="n">multiple_videos_run</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="c1">#self.main_frm.mainloop()</span>

<div class="viewcode-block" id="SuperimposeVideoNamesPopUp.run"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.SuperimposeVideoNamesPopUp.run">[docs]</a>    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">multiple</span><span class="p">:</span> <span class="nb">bool</span><span class="p">):</span>
        <span class="n">loc</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">location_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">()</span>
        <span class="n">loc</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">LOCATIONS</span><span class="p">[</span><span class="n">loc</span><span class="p">]</span>
        <span class="n">gpu</span> <span class="o">=</span> <span class="n">str_2_bool</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">gpu_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">())</span>
        <span class="n">font_size</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">font_size_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">())</span>
        <span class="n">font</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">()</span>
        <span class="n">font_clr</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font_color_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">()</span>
        <span class="n">font_border_clr</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font_border_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">()</span>
        <span class="n">font_border_width</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">font_border_width_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">())</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">multiple</span><span class="p">:</span>
            <span class="n">data_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_video</span><span class="o">.</span><span class="n">file_path</span>
            <span class="n">check_file_exist_and_readable</span><span class="p">(</span><span class="n">file_path</span><span class="o">=</span><span class="n">data_path</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">data_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_video_dir</span><span class="o">.</span><span class="n">folder_path</span>
            <span class="n">check_if_dir_exists</span><span class="p">(</span><span class="n">in_dir</span><span class="o">=</span><span class="n">data_path</span><span class="p">)</span>

        <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">superimpose_video_names</span><span class="p">(</span><span class="n">video_path</span><span class="o">=</span><span class="n">data_path</span><span class="p">,</span>
                                                        <span class="n">font</span><span class="o">=</span><span class="n">font</span><span class="p">,</span>
                                                        <span class="n">font_size</span><span class="o">=</span><span class="n">font_size</span><span class="p">,</span>
                                                        <span class="n">font_color</span><span class="o">=</span><span class="n">font_clr</span><span class="p">,</span>
                                                        <span class="n">font_border_color</span><span class="o">=</span><span class="n">font_border_clr</span><span class="p">,</span>
                                                        <span class="n">font_border_width</span><span class="o">=</span><span class="n">font_border_width</span><span class="p">,</span>
                                                        <span class="n">position</span><span class="o">=</span><span class="n">loc</span><span class="p">,</span>
                                                        <span class="n">gpu</span><span class="o">=</span><span class="n">gpu</span><span class="p">))</span><span class="o">.</span><span class="n">start</span><span class="p">()</span></div></div>

<div class="viewcode-block" id="SuperimposeTextPopUp"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.SuperimposeTextPopUp">[docs]</a><span class="k">class</span> <span class="nc">SuperimposeTextPopUp</span><span class="p">(</span><span class="n">PopUpMixin</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">PopUpMixin</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;SUPER-IMPOSE TEXT ON VIDEOS&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">LOCATIONS</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;TOP LEFT&#39;</span><span class="p">:</span> <span class="s1">&#39;top_left&#39;</span><span class="p">,</span> <span class="s1">&#39;TOP RIGHT&#39;</span><span class="p">:</span> <span class="s1">&#39;top_right&#39;</span><span class="p">,</span> <span class="s1">&#39;TOP MIDDLE&#39;</span><span class="p">:</span> <span class="s1">&#39;top_middle&#39;</span><span class="p">,</span> <span class="s1">&#39;BOTTOM LEFT&#39;</span><span class="p">:</span> <span class="s1">&#39;bottom_left&#39;</span><span class="p">,</span> <span class="s1">&#39;BOTTOM RIGHT&#39;</span><span class="p">:</span> <span class="s1">&#39;bottom_right&#39;</span><span class="p">,</span> <span class="s1">&#39;BOTTOM MIDDLE&#39;</span><span class="p">:</span> <span class="s1">&#39;bottom_middle&#39;</span><span class="p">}</span>
        <span class="n">settings_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;SETTINGS&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">color_dict</span> <span class="o">=</span> <span class="n">get_color_dict</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">font_dict</span> <span class="o">=</span> <span class="n">get_fonts</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">location_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;TEXT LOCATION:&quot;</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">LOCATIONS</span><span class="o">.</span><span class="n">keys</span><span class="p">()),</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">text_eb</span> <span class="o">=</span> <span class="n">Entry_Box</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">settings_frm</span><span class="p">,</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">entry_box_width</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">fileDescription</span><span class="o">=</span><span class="s1">&#39;TEXT:&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">font_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;FONT:&quot;</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">font_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">()),</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">font_size_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;FONT SIZE:&quot;</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">105</span><span class="p">,</span> <span class="mi">5</span><span class="p">)),</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">font_color_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;FONT COLOR:&quot;</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">color_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">()),</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">font_border_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;FONT BORDER COLOR:&quot;</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">color_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">()),</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">font_border_width_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;FONT BORDER WIDTH:&quot;</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">52</span><span class="p">,</span> <span class="mi">2</span><span class="p">)),</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gpu_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;USE GPU:&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;TRUE&#39;</span><span class="p">,</span> <span class="s1">&#39;FALSE&#39;</span><span class="p">],</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>



        <span class="bp">self</span><span class="o">.</span><span class="n">location_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="s1">&#39;TOP LEFT&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">font_size_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">font_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="s1">&#39;Arial&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">font_color_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="s1">&#39;White&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">font_border_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="s1">&#39;Black&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">font_border_width_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gpu_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="s1">&#39;FALSE&#39;</span><span class="p">)</span>

        <span class="n">settings_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">location_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">text_eb</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">font_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">font_size_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">font_color_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">font_border_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">font_border_width_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gpu_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>

        <span class="n">single_video_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;SINGLE VIDEO - SUPERIMPOSE TEXT&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video</span> <span class="o">=</span> <span class="n">FileSelect</span><span class="p">(</span><span class="n">single_video_frm</span><span class="p">,</span> <span class="s2">&quot;VIDEO PATH:&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select a video file&quot;</span><span class="p">,</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">file_types</span><span class="o">=</span><span class="p">[(</span><span class="s2">&quot;VIDEO FILE&quot;</span><span class="p">,</span> <span class="n">Options</span><span class="o">.</span><span class="n">ALL_VIDEO_FORMAT_STR_OPTIONS</span><span class="o">.</span><span class="n">value</span><span class="p">)])</span>
        <span class="n">single_video_run</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span><span class="n">single_video_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;RUN - SINGLE VIDEO&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">multiple</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>

        <span class="n">single_video_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="n">single_video_run</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>

        <span class="n">multiple_videos_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;MULTIPLE VIDEOS - SUPERIMPOSE TEXT&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video_dir</span> <span class="o">=</span> <span class="n">FolderSelect</span><span class="p">(</span><span class="n">multiple_videos_frm</span><span class="p">,</span> <span class="s2">&quot;VIDEO DIRECTORY PATH:&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select a video directory&quot;</span><span class="p">,</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="n">multiple_videos_run</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span><span class="n">multiple_videos_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;RUN - MULTIPLE VIDEOS&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>  <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">multiple</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>

        <span class="n">multiple_videos_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video_dir</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="n">multiple_videos_run</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="c1">#self.main_frm.mainloop()</span>

<div class="viewcode-block" id="SuperimposeTextPopUp.run"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.SuperimposeTextPopUp.run">[docs]</a>    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">multiple</span><span class="p">:</span> <span class="nb">bool</span><span class="p">):</span>
        <span class="n">loc</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">location_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">()</span>
        <span class="n">loc</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">LOCATIONS</span><span class="p">[</span><span class="n">loc</span><span class="p">]</span>
        <span class="n">text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">text_eb</span><span class="o">.</span><span class="n">entry_get</span>
        <span class="n">gpu</span> <span class="o">=</span> <span class="n">str_2_bool</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">gpu_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">())</span>
        <span class="n">check_str</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;text&#39;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">text</span><span class="p">)</span>
        <span class="n">font</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">()</span>
        <span class="n">font_size</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">font_size_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">())</span>
        <span class="n">font_clr</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font_color_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">()</span>
        <span class="n">font_border_clr</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">font_border_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">()</span>
        <span class="n">font_border_width</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">font_border_width_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">())</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">multiple</span><span class="p">:</span>
            <span class="n">data_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_video</span><span class="o">.</span><span class="n">file_path</span>
            <span class="n">check_file_exist_and_readable</span><span class="p">(</span><span class="n">file_path</span><span class="o">=</span><span class="n">data_path</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">data_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_video_dir</span><span class="o">.</span><span class="n">folder_path</span>
            <span class="n">check_if_dir_exists</span><span class="p">(</span><span class="n">in_dir</span><span class="o">=</span><span class="n">data_path</span><span class="p">)</span>

        <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">superimpose_freetext</span><span class="p">(</span><span class="n">video_path</span><span class="o">=</span><span class="n">data_path</span><span class="p">,</span>
                                                     <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="p">,</span>
                                                     <span class="n">font</span><span class="o">=</span><span class="n">font</span><span class="p">,</span>
                                                     <span class="n">font_size</span><span class="o">=</span><span class="n">font_size</span><span class="p">,</span>
                                                     <span class="n">font_color</span><span class="o">=</span><span class="n">font_clr</span><span class="p">,</span>
                                                     <span class="n">font_border_color</span><span class="o">=</span><span class="n">font_border_clr</span><span class="p">,</span>
                                                     <span class="n">font_border_width</span><span class="o">=</span><span class="n">font_border_width</span><span class="p">,</span>
                                                     <span class="n">position</span><span class="o">=</span><span class="n">loc</span><span class="p">,</span>
                                                     <span class="n">gpu</span><span class="o">=</span><span class="n">gpu</span><span class="p">))</span><span class="o">.</span><span class="n">start</span><span class="p">()</span></div></div>


<div class="viewcode-block" id="BoxBlurPopUp"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.BoxBlurPopUp">[docs]</a><span class="k">class</span> <span class="nc">BoxBlurPopUp</span><span class="p">(</span><span class="n">PopUpMixin</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">PopUpMixin</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;BOX BLUR VIDEOS&quot;</span><span class="p">)</span>
        <span class="n">settings_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;SETTINGS&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="n">blur_lvl</span> <span class="o">=</span> <span class="p">[</span><span class="nb">round</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mf">0.05</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.05</span><span class="p">))]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">blur_lvl_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;BLUR LEVEL:&quot;</span><span class="p">,</span> <span class="n">blur_lvl</span><span class="p">,</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">invert_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;INVERT BLUR REGION:&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;TRUE&#39;</span><span class="p">,</span> <span class="s1">&#39;FALSE&#39;</span><span class="p">],</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">blur_lvl_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="mf">0.02</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">invert_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="s1">&#39;FALSE&#39;</span><span class="p">)</span>
        <span class="n">settings_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">blur_lvl_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">invert_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>

        <span class="n">single_video_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;APPLY BOX-BLUR&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video</span> <span class="o">=</span> <span class="n">FileSelect</span><span class="p">(</span><span class="n">single_video_frm</span><span class="p">,</span> <span class="s2">&quot;VIDEO PATH:&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select a video file&quot;</span><span class="p">,</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">file_types</span><span class="o">=</span><span class="p">[(</span><span class="s2">&quot;VIDEO FILE&quot;</span><span class="p">,</span> <span class="n">Options</span><span class="o">.</span><span class="n">ALL_VIDEO_FORMAT_STR_OPTIONS</span><span class="o">.</span><span class="n">value</span><span class="p">)])</span>
        <span class="n">single_video_run</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span><span class="n">single_video_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;RUN&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">())</span>

        <span class="n">single_video_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="n">single_video_run</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>

        <span class="c1">#self.main_frm.mainloop()</span>

<div class="viewcode-block" id="BoxBlurPopUp.run"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.BoxBlurPopUp.run">[docs]</a>    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">video_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_video</span><span class="o">.</span><span class="n">file_path</span>
        <span class="n">check_file_exist_and_readable</span><span class="p">(</span><span class="n">file_path</span><span class="o">=</span><span class="n">video_path</span><span class="p">)</span>
        <span class="n">blur_lvl</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">blur_lvl_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">())</span>
        <span class="n">invert</span> <span class="o">=</span> <span class="n">str_2_bool</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">invert_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">())</span>
        <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">roi_blurbox</span><span class="p">(</span><span class="n">video_path</span><span class="o">=</span><span class="n">video_path</span><span class="p">,</span> <span class="n">blur_level</span><span class="o">=</span><span class="n">blur_lvl</span><span class="p">,</span> <span class="n">invert</span><span class="o">=</span><span class="n">invert</span><span class="p">))</span><span class="o">.</span><span class="n">start</span><span class="p">()</span></div></div>

<div class="viewcode-block" id="BackgroundRemoverPopUp"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.BackgroundRemoverPopUp">[docs]</a><span class="k">class</span> <span class="nc">BackgroundRemoverPopUp</span><span class="p">(</span><span class="n">PopUpMixin</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">PopUpMixin</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;REMOVE BACKGROUND IN VIDEOS&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">clr_dict</span> <span class="o">=</span> <span class="n">get_color_dict</span><span class="p">()</span>
        <span class="n">settings_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;SETTINGS&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">video_path</span> <span class="o">=</span> <span class="n">FileSelect</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;VIDEO PATH:&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select a video file&quot;</span><span class="p">,</span> <span class="n">file_types</span><span class="o">=</span><span class="p">[(</span><span class="s2">&quot;VIDEO&quot;</span><span class="p">,</span> <span class="n">Options</span><span class="o">.</span><span class="n">ALL_VIDEO_FORMAT_OPTIONS</span><span class="o">.</span><span class="n">value</span><span class="p">)],</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">40</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bg_video_path</span> <span class="o">=</span> <span class="n">FileSelect</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;BACKGROUND REFERENCE VIDEO PATH:&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select a video file&quot;</span><span class="p">,</span> <span class="n">file_types</span><span class="o">=</span><span class="p">[(</span><span class="s2">&quot;VIDEO&quot;</span><span class="p">,</span> <span class="n">Options</span><span class="o">.</span><span class="n">ALL_VIDEO_FORMAT_OPTIONS</span><span class="o">.</span><span class="n">value</span><span class="p">)],</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">40</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bg_clr_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;BACKGROUND COLOR:&quot;</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">clr_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">()),</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">40</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fg_clr_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;FOREGROUND COLOR:&quot;</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">clr_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">()),</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">40</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bg_start_eb</span> <span class="o">=</span> <span class="n">Entry_Box</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">settings_frm</span><span class="p">,</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span> <span class="n">entry_box_width</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">fileDescription</span><span class="o">=</span><span class="s1">&#39;BACKGROUND VIDEO START (FRAME # OR TIME):&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bg_end_eb</span> <span class="o">=</span> <span class="n">Entry_Box</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">settings_frm</span><span class="p">,</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span> <span class="n">entry_box_width</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">fileDescription</span><span class="o">=</span><span class="s1">&#39;BACKGROUND VIDEO END (FRAME # OR TIME):&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">multiprocessing_var</span> <span class="o">=</span> <span class="n">BooleanVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">multiprocess_cb</span> <span class="o">=</span> <span class="n">Checkbutton</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Multiprocess videos (faster)&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">multiprocessing_var</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">enable_dropdown_from_checkbox</span><span class="p">(</span><span class="n">check_box_var</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">multiprocessing_var</span><span class="p">,</span> <span class="n">dropdown_menus</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">multiprocess_dropdown</span><span class="p">]))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">multiprocess_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;CPU cores:&quot;</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">cpu_cnt</span><span class="p">)),</span> <span class="s2">&quot;12&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">multiprocess_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">multiprocess_dropdown</span><span class="o">.</span><span class="n">disable</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bg_clr_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="s1">&#39;Black&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fg_clr_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="s1">&#39;White&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bg_start_eb</span><span class="o">.</span><span class="n">entry_set</span><span class="p">(</span><span class="s1">&#39;00:00:00&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bg_end_eb</span><span class="o">.</span><span class="n">entry_set</span><span class="p">(</span><span class="s1">&#39;00:00:20&#39;</span><span class="p">)</span>

        <span class="n">settings_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">video_path</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bg_video_path</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bg_clr_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fg_clr_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bg_start_eb</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bg_end_eb</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">multiprocess_cb</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">multiprocess_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">create_run_frm</span><span class="p">(</span><span class="n">run_function</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">)</span>
        <span class="c1">#self.main_frm.mainloop()</span>

<div class="viewcode-block" id="BackgroundRemoverPopUp.run"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.BackgroundRemoverPopUp.run">[docs]</a>    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">video_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">video_path</span><span class="o">.</span><span class="n">file_path</span>
        <span class="n">_</span> <span class="o">=</span> <span class="n">get_video_meta_data</span><span class="p">(</span><span class="n">video_path</span><span class="o">=</span><span class="n">video_path</span><span class="p">)</span>
        <span class="n">bg_video</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bg_video_path</span><span class="o">.</span><span class="n">file_path</span>
        <span class="n">bg_clr</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">colors_dict</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">bg_clr_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">()]</span>
        <span class="n">fg_clr</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">colors_dict</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">fg_clr_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">()]</span>
        <span class="k">if</span> <span class="n">bg_clr</span> <span class="o">==</span> <span class="n">fg_clr</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">DuplicationError</span><span class="p">(</span><span class="n">msg</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;The background and foreground color cannot be the same color (</span><span class="si">{</span><span class="n">fg_clr</span><span class="si">}</span><span class="s1">)&#39;</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">bg_video</span><span class="p">):</span>
            <span class="n">bg_video</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="n">video_path</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">_</span> <span class="o">=</span> <span class="n">get_video_meta_data</span><span class="p">(</span><span class="n">video_path</span><span class="o">=</span><span class="n">bg_video</span><span class="p">)</span>
        <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bg_start_eb</span><span class="o">.</span><span class="n">entry_get</span><span class="o">.</span><span class="n">strip</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">bg_end_eb</span><span class="o">.</span><span class="n">entry_get</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="n">int_start</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">check_int</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">start</span><span class="p">,</span> <span class="n">min_value</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">raise_error</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">int_end</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">check_int</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">end</span><span class="p">,</span> <span class="n">min_value</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">raise_error</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">int_start</span> <span class="ow">and</span> <span class="n">int_end</span><span class="p">:</span>
            <span class="n">bg_start_time</span><span class="p">,</span> <span class="n">bg_end_time</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span>
            <span class="n">bg_start_frm</span><span class="p">,</span> <span class="n">bg_end_frm</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">int_start</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">int_end</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">bg_start_frm</span> <span class="o">&gt;=</span> <span class="n">bg_end_frm</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">InvalidInputError</span><span class="p">(</span><span class="n">msg</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;Start frame has to be before end frame (start: </span><span class="si">{</span><span class="n">bg_start_frm</span><span class="si">}</span><span class="s1">, end: </span><span class="si">{</span><span class="n">bg_end_frm</span><span class="si">}</span><span class="s1">)&#39;</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">check_if_string_value_is_valid_video_timestamp</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">start</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;START FRAME&#39;</span><span class="p">)</span>
            <span class="n">check_if_string_value_is_valid_video_timestamp</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">end</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;END FRAME&#39;</span><span class="p">)</span>
            <span class="n">check_that_hhmmss_start_is_before_end</span><span class="p">(</span><span class="n">start_time</span><span class="o">=</span><span class="n">start</span><span class="p">,</span> <span class="n">end_time</span><span class="o">=</span><span class="n">end</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;START AND END TIME&#39;</span><span class="p">)</span>
            <span class="n">bg_start_frm</span><span class="p">,</span> <span class="n">bg_end_frm</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span>
            <span class="n">bg_start_time</span><span class="p">,</span> <span class="n">bg_end_time</span> <span class="o">=</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span>


        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">multiprocessing_var</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">video_path</span><span class="p">,</span> <span class="n">bg_video</span><span class="p">)</span>
            <span class="n">video_bg_subtraction</span><span class="p">(</span><span class="n">video_path</span><span class="o">=</span><span class="n">video_path</span><span class="p">,</span>
                                 <span class="n">bg_video_path</span><span class="o">=</span><span class="n">bg_video</span><span class="p">,</span>
                                 <span class="n">bg_start_frm</span><span class="o">=</span><span class="n">bg_start_frm</span><span class="p">,</span>
                                 <span class="n">bg_end_frm</span><span class="o">=</span><span class="n">bg_end_frm</span><span class="p">,</span>
                                 <span class="n">bg_start_time</span><span class="o">=</span><span class="n">bg_start_time</span><span class="p">,</span>
                                 <span class="n">bg_end_time</span><span class="o">=</span><span class="n">bg_end_time</span><span class="p">,</span>
                                 <span class="n">bg_color</span><span class="o">=</span><span class="n">bg_clr</span><span class="p">,</span>
                                 <span class="n">fg_color</span><span class="o">=</span><span class="n">fg_clr</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">core_cnt</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">multiprocess_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">())</span>
            <span class="n">video_bg_substraction_mp</span><span class="p">(</span><span class="n">video_path</span><span class="o">=</span><span class="n">video_path</span><span class="p">,</span>
                                     <span class="n">bg_video_path</span><span class="o">=</span><span class="n">bg_video</span><span class="p">,</span>
                                     <span class="n">bg_start_frm</span><span class="o">=</span><span class="n">bg_start_frm</span><span class="p">,</span>
                                     <span class="n">bg_end_frm</span><span class="o">=</span><span class="n">bg_end_frm</span><span class="p">,</span>
                                     <span class="n">bg_start_time</span><span class="o">=</span><span class="n">bg_start_time</span><span class="p">,</span>
                                     <span class="n">bg_end_time</span><span class="o">=</span><span class="n">bg_end_time</span><span class="p">,</span>
                                     <span class="n">bg_color</span><span class="o">=</span><span class="n">bg_clr</span><span class="p">,</span>
                                     <span class="n">fg_color</span><span class="o">=</span><span class="n">fg_clr</span><span class="p">,</span>
                                     <span class="n">core_cnt</span><span class="o">=</span><span class="n">core_cnt</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="RotateVideoSetDegreesPopUp"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.RotateVideoSetDegreesPopUp">[docs]</a><span class="k">class</span> <span class="nc">RotateVideoSetDegreesPopUp</span><span class="p">(</span><span class="n">PopUpMixin</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">PopUpMixin</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;ROTATE VIDEOS&quot;</span><span class="p">)</span>
        <span class="n">settings_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;SETTINGS&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">degrees_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;CLOCKWISE DEGREES:&quot;</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">360</span><span class="p">,</span> <span class="mi">1</span><span class="p">)),</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">quality_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;OUTPUT VIDEO QUALITY (%):&quot;</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">110</span><span class="p">,</span> <span class="mi">10</span><span class="p">)),</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gpu_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;USE GPU:&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;TRUE&#39;</span><span class="p">,</span> <span class="s1">&#39;FALSE&#39;</span><span class="p">],</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">quality_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="mi">60</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">degrees_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="s1">&#39;90&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gpu_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="s1">&#39;FALSE&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">degrees_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>

        <span class="n">settings_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">degrees_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">quality_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gpu_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>

        <span class="n">single_video_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;SINGLE VIDEO - ROTATE&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video</span> <span class="o">=</span> <span class="n">FileSelect</span><span class="p">(</span><span class="n">single_video_frm</span><span class="p">,</span> <span class="s2">&quot;VIDEO PATH:&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select a video file&quot;</span><span class="p">,</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">file_types</span><span class="o">=</span><span class="p">[(</span><span class="s2">&quot;VIDEO FILE&quot;</span><span class="p">,</span> <span class="n">Options</span><span class="o">.</span><span class="n">ALL_VIDEO_FORMAT_STR_OPTIONS</span><span class="o">.</span><span class="n">value</span><span class="p">)])</span>
        <span class="n">single_video_run</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span><span class="n">single_video_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;RUN - SINGLE VIDEO&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">multiple</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>

        <span class="n">single_video_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="n">single_video_run</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>

        <span class="n">multiple_videos_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;MULTIPLE VIDEOS - ROTATE&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video_dir</span> <span class="o">=</span> <span class="n">FolderSelect</span><span class="p">(</span><span class="n">multiple_videos_frm</span><span class="p">,</span> <span class="s2">&quot;VIDEO DIRECTORY PATH:&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select a video directory&quot;</span><span class="p">,</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="n">multiple_videos_run</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span><span class="n">multiple_videos_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;RUN - MULTIPLE VIDEOS&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">multiple</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>

        <span class="n">multiple_videos_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video_dir</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="n">multiple_videos_run</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>


<div class="viewcode-block" id="RotateVideoSetDegreesPopUp.run"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.RotateVideoSetDegreesPopUp.run">[docs]</a>    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">multiple</span><span class="p">:</span> <span class="nb">bool</span><span class="p">):</span>
        <span class="n">degrees</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">degrees_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">())</span>
        <span class="n">quality</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">quality_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">())</span>
        <span class="n">gpu</span> <span class="o">=</span> <span class="n">str_2_bool</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">gpu_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">())</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">multiple</span><span class="p">:</span>
            <span class="n">data_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_video</span><span class="o">.</span><span class="n">file_path</span>
            <span class="n">check_file_exist_and_readable</span><span class="p">(</span><span class="n">file_path</span><span class="o">=</span><span class="n">data_path</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">data_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_video_dir</span><span class="o">.</span><span class="n">folder_path</span>
            <span class="n">check_if_dir_exists</span><span class="p">(</span><span class="n">in_dir</span><span class="o">=</span><span class="n">data_path</span><span class="p">)</span>

        <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">rotate_video</span><span class="p">(</span><span class="n">video_path</span><span class="o">=</span><span class="n">data_path</span><span class="p">,</span>
                                             <span class="n">degrees</span><span class="o">=</span><span class="n">degrees</span><span class="p">,</span>
                                             <span class="n">quality</span><span class="o">=</span><span class="n">quality</span><span class="p">,</span>
                                             <span class="n">gpu</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span><span class="o">.</span><span class="n">start</span><span class="p">()</span></div></div>


<div class="viewcode-block" id="FlipVideosPopUp"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.FlipVideosPopUp">[docs]</a><span class="k">class</span> <span class="nc">FlipVideosPopUp</span><span class="p">(</span><span class="n">PopUpMixin</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">PopUpMixin</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;FLIP VIDEOS&quot;</span><span class="p">)</span>
        <span class="n">settings_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;SETTINGS&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">horizontal_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;HORIZONTAL FLIP:&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;TRUE&#39;</span><span class="p">,</span> <span class="s1">&#39;FALSE&#39;</span><span class="p">],</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vertical_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;VERTICAL FLIP:&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;TRUE&#39;</span><span class="p">,</span> <span class="s1">&#39;FALSE&#39;</span><span class="p">],</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">quality_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;OUTPUT VIDEO QUALITY (%):&quot;</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">110</span><span class="p">,</span> <span class="mi">10</span><span class="p">)),</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gpu_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;USE GPU:&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;TRUE&#39;</span><span class="p">,</span> <span class="s1">&#39;FALSE&#39;</span><span class="p">],</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">horizontal_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="s1">&#39;FALSE&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vertical_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="s1">&#39;FALSE&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gpu_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="s1">&#39;FALSE&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">quality_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="mi">60</span><span class="p">)</span>

        <span class="n">settings_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vertical_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">horizontal_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">quality_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gpu_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>

        <span class="n">single_video_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;SINGLE VIDEO - FLIP&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video</span> <span class="o">=</span> <span class="n">FileSelect</span><span class="p">(</span><span class="n">single_video_frm</span><span class="p">,</span> <span class="s2">&quot;VIDEO PATH:&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select a video file&quot;</span><span class="p">,</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">file_types</span><span class="o">=</span><span class="p">[(</span><span class="s2">&quot;VIDEO FILE&quot;</span><span class="p">,</span> <span class="n">Options</span><span class="o">.</span><span class="n">ALL_VIDEO_FORMAT_STR_OPTIONS</span><span class="o">.</span><span class="n">value</span><span class="p">)])</span>
        <span class="n">single_video_run</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span><span class="n">single_video_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;RUN - SINGLE VIDEO&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">multiple</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>

        <span class="n">single_video_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="n">single_video_run</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>

        <span class="n">multiple_videos_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;MULTIPLE VIDEOS - FLIP&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video_dir</span> <span class="o">=</span> <span class="n">FolderSelect</span><span class="p">(</span><span class="n">multiple_videos_frm</span><span class="p">,</span> <span class="s2">&quot;VIDEO DIRECTORY PATH:&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select a video directory&quot;</span><span class="p">,</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="n">multiple_videos_run</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span><span class="n">multiple_videos_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;RUN - MULTIPLE VIDEOS&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">multiple</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>

        <span class="n">multiple_videos_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video_dir</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="n">multiple_videos_run</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>

<div class="viewcode-block" id="FlipVideosPopUp.run"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.FlipVideosPopUp.run">[docs]</a>    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">multiple</span><span class="p">:</span> <span class="nb">bool</span><span class="p">):</span>
        <span class="n">vertical_flip</span> <span class="o">=</span> <span class="n">str_2_bool</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">vertical_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">())</span>
        <span class="n">horizontal_flip</span> <span class="o">=</span> <span class="n">str_2_bool</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">horizontal_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">())</span>
        <span class="n">gpu</span> <span class="o">=</span> <span class="n">str_2_bool</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">gpu_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">())</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">vertical_flip</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">horizontal_flip</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">InvalidInputError</span><span class="p">(</span><span class="n">msg</span><span class="o">=</span><span class="s1">&#39;Flip videos vertically and/or horizontally. Got both as False&#39;</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
        <span class="n">quality</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">quality_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">())</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">multiple</span><span class="p">:</span>
            <span class="n">data_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_video</span><span class="o">.</span><span class="n">file_path</span>
            <span class="n">check_file_exist_and_readable</span><span class="p">(</span><span class="n">file_path</span><span class="o">=</span><span class="n">data_path</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">data_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_video_dir</span><span class="o">.</span><span class="n">folder_path</span>
            <span class="n">check_if_dir_exists</span><span class="p">(</span><span class="n">in_dir</span><span class="o">=</span><span class="n">data_path</span><span class="p">)</span>

        <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">flip_videos</span><span class="p">(</span><span class="n">video_path</span><span class="o">=</span><span class="n">data_path</span><span class="p">,</span>
                                            <span class="n">vertical_flip</span><span class="o">=</span><span class="n">vertical_flip</span><span class="p">,</span>
                                            <span class="n">horizontal_flip</span><span class="o">=</span><span class="n">horizontal_flip</span><span class="p">,</span>
                                            <span class="n">quality</span><span class="o">=</span><span class="n">quality</span><span class="p">,</span>
                                            <span class="n">gpu</span><span class="o">=</span><span class="n">gpu</span><span class="p">))</span><span class="o">.</span><span class="n">start</span><span class="p">()</span></div></div>


<div class="viewcode-block" id="UpsampleVideosPopUp"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.UpsampleVideosPopUp">[docs]</a><span class="k">class</span> <span class="nc">UpsampleVideosPopUp</span><span class="p">(</span><span class="n">PopUpMixin</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">PopUpMixin</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;UPSAMPLE VIDEOS USING INTERPOLATION (WARNING: LONG RUN-TIMES)&quot;</span><span class="p">)</span>
        <span class="n">settings_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;SETTINGS&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fps_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;NEW FRAME-RATE (FPS):&quot;</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">500</span><span class="p">)),</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">quality_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;OUTPUT VIDEO QUALITY (%):&quot;</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">110</span><span class="p">,</span> <span class="mi">10</span><span class="p">)),</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">fps_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="mi">60</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">quality_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="mi">60</span><span class="p">)</span>
        <span class="n">settings_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fps_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">quality_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>

        <span class="n">single_video_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;SINGLE VIDEO - UP-SAMPLE&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video</span> <span class="o">=</span> <span class="n">FileSelect</span><span class="p">(</span><span class="n">single_video_frm</span><span class="p">,</span> <span class="s2">&quot;VIDEO PATH:&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select a video file&quot;</span><span class="p">,</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">file_types</span><span class="o">=</span><span class="p">[(</span><span class="s2">&quot;VIDEO FILE&quot;</span><span class="p">,</span> <span class="n">Options</span><span class="o">.</span><span class="n">ALL_VIDEO_FORMAT_STR_OPTIONS</span><span class="o">.</span><span class="n">value</span><span class="p">)])</span>
        <span class="n">single_video_run</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span><span class="n">single_video_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;RUN - SINGLE VIDEO&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">multiple</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>

        <span class="n">single_video_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="n">single_video_run</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>

        <span class="n">multiple_videos_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;MULTIPLE VIDEOS -  UP-SAMPLE&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video_dir</span> <span class="o">=</span> <span class="n">FolderSelect</span><span class="p">(</span><span class="n">multiple_videos_frm</span><span class="p">,</span> <span class="s2">&quot;VIDEO DIRECTORY PATH:&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select a video directory&quot;</span><span class="p">,</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="n">multiple_videos_run</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span><span class="n">multiple_videos_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;RUN - MULTIPLE VIDEOS&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">multiple</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>

        <span class="n">multiple_videos_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video_dir</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="n">multiple_videos_run</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="o">.</span><span class="n">mainloop</span><span class="p">()</span>

<div class="viewcode-block" id="UpsampleVideosPopUp.run"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.UpsampleVideosPopUp.run">[docs]</a>    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">multiple</span><span class="p">:</span> <span class="nb">bool</span><span class="p">):</span>
        <span class="n">target_fps</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fps_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">())</span>
        <span class="n">target_quality</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">quality_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">())</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">multiple</span><span class="p">:</span>
            <span class="n">data_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_video</span><span class="o">.</span><span class="n">file_path</span>
            <span class="n">check_file_exist_and_readable</span><span class="p">(</span><span class="n">file_path</span><span class="o">=</span><span class="n">data_path</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">data_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_video_dir</span><span class="o">.</span><span class="n">folder_path</span>
            <span class="n">check_if_dir_exists</span><span class="p">(</span><span class="n">in_dir</span><span class="o">=</span><span class="n">data_path</span><span class="p">)</span>

        <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">upsample_fps</span><span class="p">(</span><span class="n">video_path</span><span class="o">=</span><span class="n">data_path</span><span class="p">,</span>
                                             <span class="n">fps</span><span class="o">=</span><span class="n">target_fps</span><span class="p">,</span>
                                             <span class="n">quality</span><span class="o">=</span><span class="n">target_quality</span><span class="p">))</span><span class="o">.</span><span class="n">start</span><span class="p">()</span></div></div>



<div class="viewcode-block" id="ReverseVideoPopUp"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.ReverseVideoPopUp">[docs]</a><span class="k">class</span> <span class="nc">ReverseVideoPopUp</span><span class="p">(</span><span class="n">PopUpMixin</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">PopUpMixin</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;REVERSE VIDEOS&quot;</span><span class="p">)</span>
        <span class="n">settings_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;SETTINGS&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">MP4_CODEC_LK</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;HEVC (H.265)&#39;</span><span class="p">:</span> <span class="s1">&#39;libx265&#39;</span><span class="p">,</span> <span class="s1">&#39;H.264 (AVC)&#39;</span><span class="p">:</span> <span class="s1">&#39;libx264&#39;</span><span class="p">,</span> <span class="s1">&#39;VP9&#39;</span><span class="p">:</span> <span class="s1">&#39;vp9&#39;</span><span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">quality_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;OUTPUT VIDEO QUALITY:&quot;</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">110</span><span class="p">,</span> <span class="mi">10</span><span class="p">)),</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">quality_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="mi">60</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">codec_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;COMPRESSION CODEC:&quot;</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">MP4_CODEC_LK</span><span class="o">.</span><span class="n">keys</span><span class="p">()),</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">codec_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="s1">&#39;HEVC (H.265)&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gpu_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;USE GPU:&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;TRUE&#39;</span><span class="p">,</span> <span class="s1">&#39;FALSE&#39;</span><span class="p">],</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gpu_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="s1">&#39;FALSE&#39;</span><span class="p">)</span>

        <span class="n">settings_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">quality_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">codec_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gpu_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>

        <span class="n">single_video_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;SINGLE VIDEO - REVERSE&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video</span> <span class="o">=</span> <span class="n">FileSelect</span><span class="p">(</span><span class="n">single_video_frm</span><span class="p">,</span> <span class="s2">&quot;VIDEO PATH:&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select a video file&quot;</span><span class="p">,</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">file_types</span><span class="o">=</span><span class="p">[(</span><span class="s2">&quot;VIDEO FILE&quot;</span><span class="p">,</span> <span class="n">Options</span><span class="o">.</span><span class="n">ALL_VIDEO_FORMAT_STR_OPTIONS</span><span class="o">.</span><span class="n">value</span><span class="p">)])</span>
        <span class="n">single_video_run</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span><span class="n">single_video_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;RUN - SINGLE VIDEO&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">multiple</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>

        <span class="n">single_video_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="n">single_video_run</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>

        <span class="n">multiple_videos_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;MULTIPLE VIDEOS - REVERSE&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video_dir</span> <span class="o">=</span> <span class="n">FolderSelect</span><span class="p">(</span><span class="n">multiple_videos_frm</span><span class="p">,</span> <span class="s2">&quot;VIDEO DIRECTORY PATH:&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select a video directory&quot;</span><span class="p">,</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="n">multiple_videos_run</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span><span class="n">multiple_videos_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;RUN - MULTIPLE VIDEOS&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">multiple</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>

        <span class="n">multiple_videos_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video_dir</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="n">multiple_videos_run</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="c1">#self.main_frm.mainloop()</span>

<div class="viewcode-block" id="ReverseVideoPopUp.run"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.ReverseVideoPopUp.run">[docs]</a>    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">multiple</span><span class="p">:</span> <span class="nb">bool</span><span class="p">):</span>
        <span class="n">target_quality</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">quality_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">())</span>
        <span class="n">codec</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">MP4_CODEC_LK</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">codec_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">()]</span>
        <span class="n">gpu</span> <span class="o">=</span> <span class="n">str_2_bool</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">gpu_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">())</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">multiple</span><span class="p">:</span>
            <span class="n">data_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_video</span><span class="o">.</span><span class="n">file_path</span>
            <span class="n">check_file_exist_and_readable</span><span class="p">(</span><span class="n">file_path</span><span class="o">=</span><span class="n">data_path</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">data_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_video_dir</span><span class="o">.</span><span class="n">folder_path</span>
            <span class="n">check_if_dir_exists</span><span class="p">(</span><span class="n">in_dir</span><span class="o">=</span><span class="n">data_path</span><span class="p">)</span>

        <span class="n">reverse_videos</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">data_path</span><span class="p">,</span>
                       <span class="n">quality</span><span class="o">=</span><span class="n">target_quality</span><span class="p">,</span>
                       <span class="n">codec</span><span class="o">=</span><span class="n">codec</span><span class="p">,</span>
                       <span class="n">gpu</span><span class="o">=</span><span class="n">gpu</span><span class="p">)</span></div></div>

<div class="viewcode-block" id="Convert2BlackWhitePopUp"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.Convert2BlackWhitePopUp">[docs]</a><span class="k">class</span> <span class="nc">Convert2BlackWhitePopUp</span><span class="p">(</span><span class="n">PopUpMixin</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">PopUpMixin</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;CONVERT VIDEOS TO BLACK AND WHITE (NOTE: NOT GRAYSCALE)&quot;</span><span class="p">)</span>
        <span class="n">settings_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;SETTINGS&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="n">threshold</span> <span class="o">=</span> <span class="p">[</span><span class="nb">round</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mf">0.01</span><span class="p">,</span> <span class="mf">1.01</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">))]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">threshold_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;BLACK THRESHOLD:&quot;</span><span class="p">,</span> <span class="n">threshold</span><span class="p">,</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gpu_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;USE GPU:&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;TRUE&#39;</span><span class="p">,</span> <span class="s1">&#39;FALSE&#39;</span><span class="p">],</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">threshold_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gpu_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="s1">&#39;FALSE&#39;</span><span class="p">)</span>
        <span class="n">settings_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">threshold_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gpu_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>

        <span class="n">single_video_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;SINGLE VIDEO - CONVERT TO BLACK &amp; WHITE&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video</span> <span class="o">=</span> <span class="n">FileSelect</span><span class="p">(</span><span class="n">single_video_frm</span><span class="p">,</span> <span class="s2">&quot;VIDEO PATH:&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select a video file&quot;</span><span class="p">,</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">file_types</span><span class="o">=</span><span class="p">[(</span><span class="s2">&quot;VIDEO FILE&quot;</span><span class="p">,</span> <span class="n">Options</span><span class="o">.</span><span class="n">ALL_VIDEO_FORMAT_STR_OPTIONS</span><span class="o">.</span><span class="n">value</span><span class="p">)])</span>
        <span class="n">single_video_run</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span><span class="n">single_video_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;RUN - SINGLE VIDEO&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">multiple</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>

        <span class="n">single_video_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="n">single_video_run</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>

        <span class="n">multiple_videos_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;MULTIPLE VIDEOS - CONVERT TO BLACK &amp; WHITE&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video_dir</span> <span class="o">=</span> <span class="n">FolderSelect</span><span class="p">(</span><span class="n">multiple_videos_frm</span><span class="p">,</span> <span class="s2">&quot;VIDEO DIRECTORY PATH:&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select a video directory&quot;</span><span class="p">,</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="n">multiple_videos_run</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span><span class="n">multiple_videos_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;RUN - MULTIPLE VIDEOS&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">multiple</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>

        <span class="n">multiple_videos_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video_dir</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="n">multiple_videos_run</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="c1">#self.main_frm.mainloop()</span>

<div class="viewcode-block" id="Convert2BlackWhitePopUp.run"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.Convert2BlackWhitePopUp.run">[docs]</a>    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">multiple</span><span class="p">:</span> <span class="nb">bool</span><span class="p">):</span>
        <span class="n">threshold</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">threshold_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">())</span>
        <span class="n">gpu</span> <span class="o">=</span> <span class="n">str_2_bool</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">gpu_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">())</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">multiple</span><span class="p">:</span>
            <span class="n">data_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_video</span><span class="o">.</span><span class="n">file_path</span>
            <span class="n">check_file_exist_and_readable</span><span class="p">(</span><span class="n">file_path</span><span class="o">=</span><span class="n">data_path</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">data_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_video_dir</span><span class="o">.</span><span class="n">folder_path</span>
            <span class="n">check_if_dir_exists</span><span class="p">(</span><span class="n">in_dir</span><span class="o">=</span><span class="n">data_path</span><span class="p">)</span>

        <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">video_to_bw</span><span class="p">(</span><span class="n">video_path</span><span class="o">=</span><span class="n">data_path</span><span class="p">,</span>
                                            <span class="n">threshold</span><span class="o">=</span><span class="n">threshold</span><span class="p">,</span>
                                            <span class="n">gpu</span><span class="o">=</span><span class="n">gpu</span><span class="p">))</span><span class="o">.</span><span class="n">start</span><span class="p">()</span></div></div>


<div class="viewcode-block" id="CreateAverageFramePopUp"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.CreateAverageFramePopUp">[docs]</a><span class="k">class</span> <span class="nc">CreateAverageFramePopUp</span><span class="p">(</span><span class="n">PopUpMixin</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">PopUpMixin</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;CREATE AVERAGE VIDEO FRAME&quot;</span><span class="p">)</span>
        <span class="n">settings_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;SETTINGS&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">save_dir</span> <span class="o">=</span> <span class="n">FolderSelect</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;AVERAGE FRAME SAVE DIRECTORY:&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select a video directory&quot;</span><span class="p">,</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">section_start_time_eb</span> <span class="o">=</span> <span class="n">Entry_Box</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;SAMPLE START TIME:&quot;</span><span class="p">,</span> <span class="s2">&quot;25&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">section_end_time_eb</span> <span class="o">=</span> <span class="n">Entry_Box</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;SAMPLE END TIME:&quot;</span><span class="p">,</span> <span class="s2">&quot;25&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">section_start_time_eb</span><span class="o">.</span><span class="n">entry_set</span><span class="p">(</span><span class="s1">&#39;00:00:00&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">section_end_time_eb</span><span class="o">.</span><span class="n">entry_set</span><span class="p">(</span><span class="s1">&#39;00:00:00&#39;</span><span class="p">)</span>

        <span class="n">settings_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">save_dir</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">section_start_time_eb</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">section_end_time_eb</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>

        <span class="n">single_video_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;SINGLE VIDEO - CREATE AVERAGE FRAME&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video</span> <span class="o">=</span> <span class="n">FileSelect</span><span class="p">(</span><span class="n">single_video_frm</span><span class="p">,</span> <span class="s2">&quot;VIDEO PATH:&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select a video file&quot;</span><span class="p">,</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">file_types</span><span class="o">=</span><span class="p">[(</span><span class="s2">&quot;VIDEO FILE&quot;</span><span class="p">,</span> <span class="n">Options</span><span class="o">.</span><span class="n">ALL_VIDEO_FORMAT_STR_OPTIONS</span><span class="o">.</span><span class="n">value</span><span class="p">)])</span>
        <span class="n">single_video_run</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span><span class="n">single_video_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;RUN - SINGLE VIDEO&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">multiple</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>

        <span class="n">single_video_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="n">single_video_run</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>

        <span class="n">multiple_videos_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;MULTIPLE VIDEOS - CREATE AVERAGE FRAMES&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video_dir</span> <span class="o">=</span> <span class="n">FolderSelect</span><span class="p">(</span><span class="n">multiple_videos_frm</span><span class="p">,</span> <span class="s2">&quot;VIDEO DIRECTORY PATH:&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select a video directory&quot;</span><span class="p">,</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="n">multiple_videos_run</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span><span class="n">multiple_videos_frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;RUN - MULTIPLE VIDEOS&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">Formats</span><span class="o">.</span><span class="n">FONT_REGULAR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">multiple</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>

        <span class="n">multiple_videos_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_video_dir</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="n">multiple_videos_run</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;NW&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="o">.</span><span class="n">mainloop</span><span class="p">()</span>

<div class="viewcode-block" id="CreateAverageFramePopUp.run"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.CreateAverageFramePopUp.run">[docs]</a>    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">multiple</span><span class="p">:</span> <span class="nb">bool</span><span class="p">):</span>
        <span class="n">start_time</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">section_start_time_eb</span><span class="o">.</span><span class="n">entry_get</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="n">end_time</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">section_end_time_eb</span><span class="o">.</span><span class="n">entry_get</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="n">save_dir</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">save_dir</span><span class="o">.</span><span class="n">folder_path</span>
        <span class="n">check_if_dir_exists</span><span class="p">(</span><span class="n">in_dir</span><span class="o">=</span><span class="n">save_dir</span><span class="p">)</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">start_time</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span> <span class="ow">and</span> <span class="n">end_time</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">start_time</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span> <span class="ow">and</span> <span class="n">end_time</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">InvalidInputError</span><span class="p">(</span><span class="n">msg</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;Both start time and end time have to be either time-stamps or blank.&#39;</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">start_time</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span> <span class="ow">and</span> <span class="n">end_time</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
            <span class="n">check_if_string_value_is_valid_video_timestamp</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">start_time</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;start_time&#39;</span><span class="p">)</span>
            <span class="n">check_if_string_value_is_valid_video_timestamp</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">end_time</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;end_time&#39;</span><span class="p">)</span>
            <span class="n">check_that_hhmmss_start_is_before_end</span><span class="p">(</span><span class="n">start_time</span><span class="o">=</span><span class="n">start_time</span><span class="p">,</span> <span class="n">end_time</span><span class="o">=</span><span class="n">end_time</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">start_time</span><span class="p">,</span> <span class="n">end_time</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">multiple</span><span class="p">:</span>
            <span class="n">data_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_video</span><span class="o">.</span><span class="n">file_path</span>
            <span class="n">check_file_exist_and_readable</span><span class="p">(</span><span class="n">file_path</span><span class="o">=</span><span class="n">data_path</span><span class="p">)</span>
            <span class="n">data_path</span> <span class="o">=</span> <span class="p">[</span><span class="n">data_path</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">data_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_video_dir</span><span class="o">.</span><span class="n">folder_path</span>
            <span class="n">check_if_dir_exists</span><span class="p">(</span><span class="n">in_dir</span><span class="o">=</span><span class="n">data_path</span><span class="p">)</span>
            <span class="n">data_path</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">find_all_videos_in_directory</span><span class="p">(</span><span class="n">directory</span><span class="o">=</span><span class="n">data_path</span><span class="p">,</span> <span class="n">as_dict</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">raise_error</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>

        <span class="k">for</span> <span class="n">video_cnt</span><span class="p">,</span> <span class="n">video_path</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">data_path</span><span class="p">):</span>
            <span class="n">_</span><span class="p">,</span> <span class="n">video_name</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">get_fn_ext</span><span class="p">(</span><span class="n">filepath</span><span class="o">=</span><span class="n">video_path</span><span class="p">)</span>
            <span class="n">save_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">save_dir</span><span class="p">,</span> <span class="n">save_dir</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">video_name</span><span class="si">}</span><span class="s1">_avg_frm.png&#39;</span><span class="p">)</span>
            <span class="n">_</span> <span class="o">=</span> <span class="n">get_video_meta_data</span><span class="p">(</span><span class="n">video_path</span><span class="o">=</span><span class="n">video_path</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">start_time</span> <span class="o">!=</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">end_time</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">check_if_hhmmss_timestamp_is_valid_part_of_video</span><span class="p">(</span><span class="n">timestamp</span><span class="o">=</span><span class="n">start_time</span><span class="p">,</span> <span class="n">video_path</span><span class="o">=</span><span class="n">video_path</span><span class="p">)</span>
                <span class="n">check_if_hhmmss_timestamp_is_valid_part_of_video</span><span class="p">(</span><span class="n">timestamp</span><span class="o">=</span><span class="n">end_time</span><span class="p">,</span> <span class="n">video_path</span><span class="o">=</span><span class="n">video_path</span><span class="p">)</span>

            <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">create_average_frm</span><span class="p">(</span><span class="n">video_path</span><span class="o">=</span><span class="n">video_path</span><span class="p">,</span>
                                                       <span class="n">start_time</span><span class="o">=</span><span class="n">start_time</span><span class="p">,</span>
                                                       <span class="n">end_time</span><span class="o">=</span><span class="n">end_time</span><span class="p">,</span>
                                                       <span class="n">save_path</span><span class="o">=</span><span class="n">save_path</span><span class="p">,</span>
                                                       <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span><span class="o">.</span><span class="n">start</span><span class="p">()</span></div></div>

<div class="viewcode-block" id="ManualTemporalJoinPopUp"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.ManualTemporalJoinPopUp">[docs]</a><span class="k">class</span> <span class="nc">ManualTemporalJoinPopUp</span><span class="p">(</span><span class="n">PopUpMixin</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">PopUpMixin</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;MANUAL TEMPORAL JOIN VIDEOS&quot;</span><span class="p">)</span>
        <span class="n">video_cnt_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;NUMBER OF VIDEOS TO JOIN&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">video_cnt_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">video_cnt_frm</span><span class="p">,</span> <span class="s2">&quot;NUMBER OF VIDEOS:&quot;</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">101</span><span class="p">,</span> <span class="mi">1</span><span class="p">)),</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">select_video_cnt_btn</span> <span class="o">=</span> <span class="n">SimbaButton</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">video_cnt_frm</span><span class="p">,</span> <span class="n">txt</span><span class="o">=</span><span class="s1">&#39;SELECT&#39;</span><span class="p">,</span> <span class="n">img</span><span class="o">=</span><span class="s1">&#39;tick&#39;</span><span class="p">,</span> <span class="n">cmd</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">select</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">quality_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">video_cnt_frm</span><span class="p">,</span> <span class="s2">&quot;OUTPUT VIDEO QUALITY %:&quot;</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">110</span><span class="p">,</span> <span class="mi">10</span><span class="p">)),</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">quality_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="mi">60</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">out_format_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">video_cnt_frm</span><span class="p">,</span> <span class="s2">&quot;OUTPUT VIDEO FORMAT:&quot;</span><span class="p">,</span> <span class="n">Options</span><span class="o">.</span><span class="n">ALL_VIDEO_FORMAT_OPTIONS</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gpu_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">video_cnt_frm</span><span class="p">,</span> <span class="s2">&quot;USE GPU:&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;TRUE&#39;</span><span class="p">,</span> <span class="s1">&#39;FALSE&#39;</span><span class="p">],</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gpu_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="s1">&#39;FALSE&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">out_format_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="s1">&#39;.mp4&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">video_cnt_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
        <span class="n">video_cnt_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">video_cnt_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">select_video_cnt_btn</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">quality_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">out_format_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gpu_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="o">.</span><span class="n">mainloop</span><span class="p">()</span>

<div class="viewcode-block" id="ManualTemporalJoinPopUp.select"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.ManualTemporalJoinPopUp.select">[docs]</a>    <span class="k">def</span> <span class="nf">select</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">video_cnt</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">video_cnt_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">())</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;video_paths_frm&#39;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">video_paths_frm</span><span class="o">.</span><span class="n">destroy</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">run_frm</span><span class="o">.</span><span class="n">destroy</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">video_paths_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;VIDEO PATHS&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">video_paths_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">video_paths</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">video_cnt</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">video_cnt</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">video_paths</span><span class="p">[</span><span class="n">video_cnt</span><span class="p">]</span> <span class="o">=</span> <span class="n">FileSelect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">video_paths_frm</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;VIDEO PATH </span><span class="si">{</span><span class="n">video_cnt</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2">:&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select a video file&quot;</span><span class="p">,</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">file_types</span><span class="o">=</span><span class="p">[(</span><span class="s2">&quot;VIDEO FILE&quot;</span><span class="p">,</span> <span class="n">Options</span><span class="o">.</span><span class="n">ALL_VIDEO_FORMAT_STR_OPTIONS</span><span class="o">.</span><span class="n">value</span><span class="p">)])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">video_paths</span><span class="p">[</span><span class="n">video_cnt</span><span class="p">]</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="n">video_cnt</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">create_run_frm</span><span class="p">(</span><span class="n">run_function</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">)</span></div>

<div class="viewcode-block" id="ManualTemporalJoinPopUp.run"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.ManualTemporalJoinPopUp.run">[docs]</a>    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">video_file_paths</span><span class="p">,</span> <span class="n">meta</span> <span class="o">=</span> <span class="p">[],</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">cnt</span><span class="p">,</span> <span class="n">video_file_select</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">video_paths</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">video_path</span> <span class="o">=</span> <span class="n">video_file_select</span><span class="o">.</span><span class="n">file_path</span>
            <span class="n">check_file_exist_and_readable</span><span class="p">(</span><span class="n">file_path</span><span class="o">=</span><span class="n">video_path</span><span class="p">)</span>
            <span class="n">video_meta</span> <span class="o">=</span> <span class="n">get_video_meta_data</span><span class="p">(</span><span class="n">video_path</span><span class="o">=</span><span class="n">video_path</span><span class="p">)</span>
            <span class="n">video_file_paths</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">video_path</span><span class="p">)</span>
            <span class="n">meta</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">video_meta</span><span class="p">)</span>
        <span class="n">fps</span><span class="p">,</span> <span class="n">resolutions</span> <span class="o">=</span> <span class="p">[</span><span class="n">v</span><span class="p">[</span><span class="s1">&#39;fps&#39;</span><span class="p">]</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">meta</span><span class="p">],</span> <span class="p">[</span><span class="n">v</span><span class="p">[</span><span class="s1">&#39;resolution_str&#39;</span><span class="p">]</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">meta</span><span class="p">]</span>
        <span class="n">unique_fps</span><span class="p">,</span> <span class="n">unique_res</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">fps</span><span class="p">)),</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">resolutions</span><span class="p">))</span>
        <span class="nb">format</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">out_format_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">()</span>
        <span class="n">quality</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">quality_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">()</span>
        <span class="n">gpu</span> <span class="o">=</span> <span class="n">str_2_bool</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">gpu_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">())</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">unique_fps</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span> <span class="k">raise</span> <span class="n">FrameRangeError</span><span class="p">(</span><span class="n">msg</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;The selected videos contain more than one unique FPS: </span><span class="si">{</span><span class="n">unique_fps</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">unique_res</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span> <span class="k">raise</span> <span class="n">ResolutionError</span><span class="p">(</span><span class="n">msg</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;The selected videos contain more than one unique resolutions: </span><span class="si">{</span><span class="n">unique_res</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
        <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">temporal_concatenation</span><span class="p">(</span><span class="n">video_paths</span><span class="o">=</span><span class="n">video_file_paths</span><span class="p">,</span>
                                                <span class="n">save_format</span><span class="o">=</span><span class="nb">format</span><span class="p">[</span><span class="mi">1</span><span class="p">:],</span>
                                                <span class="n">quality</span><span class="o">=</span><span class="n">quality</span><span class="p">,</span>
                                                <span class="n">gpu</span><span class="o">=</span><span class="n">gpu</span><span class="p">))</span><span class="o">.</span><span class="n">start</span><span class="p">()</span></div></div>


<span class="c1">#ManualTemporalJoinPopUp()</span>


<div class="viewcode-block" id="CrossfadeVideosPopUp"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.CrossfadeVideosPopUp">[docs]</a><span class="k">class</span> <span class="nc">CrossfadeVideosPopUp</span><span class="p">(</span><span class="n">PopUpMixin</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">PopUpMixin</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;CROSS-FADE VIDEOS&quot;</span><span class="p">)</span>
        <span class="n">crossfade_methods</span> <span class="o">=</span> <span class="n">get_ffmpeg_crossfade_methods</span><span class="p">()</span>
        <span class="n">settings_frm</span> <span class="o">=</span> <span class="n">CreateLabelFrameWithIcon</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s2">&quot;NUMBER OF VIDEOS TO JOIN&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">DOCUMENTATION</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">icon_link</span><span class="o">=</span><span class="n">Links</span><span class="o">.</span><span class="n">VIDEO_TOOLS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">video_path_1</span> <span class="o">=</span> <span class="n">FileSelect</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;VIDEO PATH 1:&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select a video file&quot;</span><span class="p">,</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">file_types</span><span class="o">=</span><span class="p">[(</span><span class="s2">&quot;VIDEO FILE&quot;</span><span class="p">,</span> <span class="n">Options</span><span class="o">.</span><span class="n">ALL_VIDEO_FORMAT_STR_OPTIONS</span><span class="o">.</span><span class="n">value</span><span class="p">)])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">video_path_2</span> <span class="o">=</span> <span class="n">FileSelect</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;VIDEO PATH 2:&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select a video file&quot;</span><span class="p">,</span> <span class="n">lblwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">file_types</span><span class="o">=</span><span class="p">[(</span><span class="s2">&quot;VIDEO FILE&quot;</span><span class="p">,</span> <span class="n">Options</span><span class="o">.</span><span class="n">ALL_VIDEO_FORMAT_STR_OPTIONS</span><span class="o">.</span><span class="n">value</span><span class="p">)])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">quality_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;OUTPUT VIDEO QUALITY:&quot;</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">110</span><span class="p">,</span> <span class="mi">10</span><span class="p">)),</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">out_format_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;OUTPUT VIDEO FORMAT:&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;mp4&#39;</span><span class="p">,</span> <span class="s1">&#39;avi&#39;</span><span class="p">,</span> <span class="s1">&#39;webm&#39;</span><span class="p">],</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fade_method_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;CROSS-FADE METHOD:&quot;</span><span class="p">,</span> <span class="n">crossfade_methods</span><span class="p">,</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">duration_dropdown</span> <span class="o">=</span> <span class="n">DropDownMenu</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;CROSS-FADE DURATION:&quot;</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">2</span><span class="p">)),</span> <span class="n">labelwidth</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">offset_eb</span> <span class="o">=</span> <span class="n">Entry_Box</span><span class="p">(</span><span class="n">settings_frm</span><span class="p">,</span> <span class="s2">&quot;CROSS-FADE OFFSET:&quot;</span><span class="p">,</span> <span class="s2">&quot;25&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">offset_eb</span><span class="o">.</span><span class="n">entry_set</span><span class="p">(</span><span class="s1">&#39;00:00:00&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">quality_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="mi">60</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">out_format_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="s1">&#39;mp4&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fade_method_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="s1">&#39;fade&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">duration_dropdown</span><span class="o">.</span><span class="n">setChoices</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>
        <span class="n">settings_frm</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">video_path_1</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">video_path_2</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">quality_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">out_format_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fade_method_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">duration_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">offset_eb</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">create_run_frm</span><span class="p">(</span><span class="n">run_function</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_frm</span><span class="o">.</span><span class="n">mainloop</span><span class="p">()</span>

<div class="viewcode-block" id="CrossfadeVideosPopUp.run"><a class="viewcode-back" href="../../../../simba.ui.pop_ups.html#simba.ui.pop_ups.video_processing_pop_up.CrossfadeVideosPopUp.run">[docs]</a>    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">video_1_path</span><span class="p">,</span> <span class="n">video_2_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">video_path_1</span><span class="o">.</span><span class="n">file_path</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">video_path_2</span><span class="o">.</span><span class="n">file_path</span>
        <span class="n">quality</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">quality_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">())</span>
        <span class="nb">format</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">out_format_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">()</span>
        <span class="n">fade_method</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fade_method_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">()</span>
        <span class="n">offset</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">offset_eb</span><span class="o">.</span><span class="n">entry_get</span>
        <span class="n">check_if_string_value_is_valid_video_timestamp</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">offset</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;offset&#39;</span><span class="p">)</span>
        <span class="n">duration</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">duration_dropdown</span><span class="o">.</span><span class="n">getChoices</span><span class="p">())</span>
        <span class="n">check_if_hhmmss_timestamp_is_valid_part_of_video</span><span class="p">(</span><span class="n">timestamp</span><span class="o">=</span><span class="n">offset</span><span class="p">,</span> <span class="n">video_path</span><span class="o">=</span><span class="n">video_1_path</span><span class="p">)</span>
        <span class="n">offset</span> <span class="o">=</span> <span class="n">timestamp_to_seconds</span><span class="p">(</span><span class="n">timestamp</span><span class="o">=</span><span class="n">offset</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">video_path</span> <span class="ow">in</span> <span class="p">[</span><span class="n">video_1_path</span><span class="p">,</span> <span class="n">video_2_path</span><span class="p">]:</span>
            <span class="n">video_meta_data</span> <span class="o">=</span> <span class="n">get_video_meta_data</span><span class="p">(</span><span class="n">video_path</span><span class="o">=</span><span class="n">video_path</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">video_meta_data</span><span class="p">[</span><span class="s1">&#39;video_length_s&#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">duration</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">FrameRangeError</span><span class="p">(</span><span class="n">msg</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;Video </span><span class="si">{</span><span class="n">video_meta_data</span><span class="p">[</span><span class="s2">&quot;video_name&quot;</span><span class="p">]</span><span class="si">}</span><span class="s1"> is shorter </span><span class="si">{</span><span class="n">video_meta_data</span><span class="p">[</span><span class="s2">&quot;video_length_s&quot;</span><span class="p">]</span><span class="si">}</span><span class="s1"> than the crossfade duration </span><span class="si">{</span><span class="n">duration</span><span class="si">}</span><span class="s1">.&#39;</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">video_meta_data</span><span class="p">[</span><span class="s1">&#39;video_length_s&#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">offset</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">FrameRangeError</span><span class="p">(</span><span class="n">msg</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;Video </span><span class="si">{</span><span class="n">video_meta_data</span><span class="p">[</span><span class="s2">&quot;video_name&quot;</span><span class="p">]</span><span class="si">}</span><span class="s1"> is shorter </span><span class="si">{</span><span class="n">video_meta_data</span><span class="p">[</span><span class="s2">&quot;video_length_s&quot;</span><span class="p">]</span><span class="si">}</span><span class="s1"> than the crossfade offset </span><span class="si">{</span><span class="n">offset</span><span class="si">}</span><span class="s1">.&#39;</span><span class="p">,</span><span class="n">source</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>


        <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">crossfade_two_videos</span><span class="p">(</span><span class="n">video_path_1</span><span class="o">=</span><span class="n">video_1_path</span><span class="p">,</span>
                                              <span class="n">video_path_2</span><span class="o">=</span><span class="n">video_2_path</span><span class="p">,</span>
                                              <span class="n">crossfade_duration</span><span class="o">=</span><span class="n">duration</span><span class="p">,</span>
                                              <span class="n">crossfade_method</span><span class="o">=</span><span class="n">fade_method</span><span class="p">,</span>
                                              <span class="n">crossfade_offset</span><span class="o">=</span><span class="n">offset</span><span class="p">,</span>
                                              <span class="n">out_format</span><span class="o">=</span><span class="nb">format</span><span class="p">,</span>
                                              <span class="n">quality</span><span class="o">=</span><span class="n">quality</span><span class="p">))</span><span class="o">.</span><span class="n">start</span><span class="p">()</span></div></div>

<span class="c1">#CrossfadeVideosPopUp()</span>

<span class="c1"># FlipVideosPopUp()</span>

<span class="c1"># ClipMultipleVideosByFrameNumbers</span>
<span class="c1"># ClipMultipleVideosByFrameNumbers(data_dir=&#39;/Users/simon/Desktop/envs/simba/troubleshooting/beepboop174/project_folder/videos/test&#39;, save_dir=&#39;/Users/simon/Desktop/envs/simba/troubleshooting/beepboop174/project_folder/videos/clipped&#39;)</span>
</pre></div>

           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, sronilsson.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>